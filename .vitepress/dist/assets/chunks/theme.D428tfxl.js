import{r as Tn,_ as Ct,a as lt,o as xt,b as Zt,c as $,d as St,e as j,f as ft,m as Sn,u as It,g as Rn,h as Z,w as Me,v as In,t as ct,F as Rt,i as Ot,j as tt,n as wt,k as kn,l as gt,p as Bt,q as ee,s as Ln,x as ue,T as Kt,y as Yt,z as Xt,A as _t,B as jt,C as wn,D as Pn,E as Ge,G as _n}from"./framework._65dfUDb.js";const Dn="/bluearchive/assets/bgm.DuMj4eqY.mp3";var Xe={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ce={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Vn=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],$t={CSS:{},springs:{}};function Dt(s,e,d){return Math.min(Math.max(s,e),d)}function Gt(s,e){return s.indexOf(e)>-1}function ae(s,e){return s.apply(null,e)}var q={arr:function(s){return Array.isArray(s)},obj:function(s){return Gt(Object.prototype.toString.call(s),"Object")},pth:function(s){return q.obj(s)&&s.hasOwnProperty("totalLength")},svg:function(s){return s instanceof SVGElement},inp:function(s){return s instanceof HTMLInputElement},dom:function(s){return s.nodeType||q.svg(s)},str:function(s){return typeof s=="string"},fnc:function(s){return typeof s=="function"},und:function(s){return typeof s>"u"},nil:function(s){return q.und(s)||s===null},hex:function(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)},rgb:function(s){return/^rgb/.test(s)},hsl:function(s){return/^hsl/.test(s)},col:function(s){return q.hex(s)||q.rgb(s)||q.hsl(s)},key:function(s){return!Xe.hasOwnProperty(s)&&!Ce.hasOwnProperty(s)&&s!=="targets"&&s!=="keyframes"}};function ze(s){var e=/\(([^)]+)\)/.exec(s);return e?e[1].split(",").map(function(d){return parseFloat(d)}):[]}function je(s,e){var d=ze(s),a=Dt(q.und(d[0])?1:d[0],.1,100),t=Dt(q.und(d[1])?100:d[1],.1,100),r=Dt(q.und(d[2])?10:d[2],.1,100),n=Dt(q.und(d[3])?0:d[3],.1,100),i=Math.sqrt(t/a),c=r/(2*Math.sqrt(t*a)),h=c<1?i*Math.sqrt(1-c*c):0,f=1,u=c<1?(c*i+-n)/h:-n+i;function o(m){var v=e?e*m/1e3:m;return c<1?v=Math.exp(-v*c*i)*(f*Math.cos(h*v)+u*Math.sin(h*v)):v=(f+u*v)*Math.exp(-v*i),m===0||m===1?m:1-v}function l(){var m=$t.springs[s];if(m)return m;for(var v=1/6,g=0,M=0;;)if(g+=v,o(g)===1){if(M++,M>=16)break}else M=0;var x=g*v*1e3;return $t.springs[s]=x,x}return e?o:l}function Fn(s){return s===void 0&&(s=10),function(e){return Math.ceil(Dt(e,1e-6,1)*s)*(1/s)}}var Bn=function(){var s=11,e=1/(s-1);function d(f,u){return 1-3*u+3*f}function a(f,u){return 3*u-6*f}function t(f){return 3*f}function r(f,u,o){return((d(u,o)*f+a(u,o))*f+t(u))*f}function n(f,u,o){return 3*d(u,o)*f*f+2*a(u,o)*f+t(u)}function i(f,u,o,l,m){var v,g,M=0;do g=u+(o-u)/2,v=r(g,l,m)-f,v>0?o=g:u=g;while(Math.abs(v)>1e-7&&++M<10);return g}function c(f,u,o,l){for(var m=0;m<4;++m){var v=n(u,o,l);if(v===0)return u;var g=r(u,o,l)-f;u-=g/v}return u}function h(f,u,o,l){if(!(0<=f&&f<=1&&0<=o&&o<=1))return;var m=new Float32Array(s);if(f!==u||o!==l)for(var v=0;v<s;++v)m[v]=r(v*e,f,o);function g(M){for(var x=0,R=1,E=s-1;R!==E&&m[R]<=M;++R)x+=e;--R;var A=(M-m[R])/(m[R+1]-m[R]),y=x+A*e,p=n(y,f,o);return p>=.001?c(M,y,f,o):p===0?y:i(M,x,x+e,f,o)}return function(M){return f===u&&o===l||M===0||M===1?M:r(g(M),u,l)}}return h}(),qe=function(){var s={linear:function(){return function(a){return a}}},e={Sine:function(){return function(a){return 1-Math.cos(a*Math.PI/2)}},Expo:function(){return function(a){return a?Math.pow(2,10*a-10):0}},Circ:function(){return function(a){return 1-Math.sqrt(1-a*a)}},Back:function(){return function(a){return a*a*(3*a-2)}},Bounce:function(){return function(a){for(var t,r=4;a<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((t*3-2)/22-a,2)}},Elastic:function(a,t){a===void 0&&(a=1),t===void 0&&(t=.5);var r=Dt(a,1,10),n=Dt(t,.1,2);return function(i){return i===0||i===1?i:-r*Math.pow(2,10*(i-1))*Math.sin((i-1-n/(Math.PI*2)*Math.asin(1/r))*(Math.PI*2)/n)}}},d=["Quad","Cubic","Quart","Quint"];return d.forEach(function(a,t){e[a]=function(){return function(r){return Math.pow(r,t+2)}}}),Object.keys(e).forEach(function(a){var t=e[a];s["easeIn"+a]=t,s["easeOut"+a]=function(r,n){return function(i){return 1-t(r,n)(1-i)}},s["easeInOut"+a]=function(r,n){return function(i){return i<.5?t(r,n)(i*2)/2:1-t(r,n)(i*-2+2)/2}},s["easeOutIn"+a]=function(r,n){return function(i){return i<.5?(1-t(r,n)(1-i*2))/2:(t(r,n)(i*2-1)+1)/2}}}),s}();function ye(s,e){if(q.fnc(s))return s;var d=s.split("(")[0],a=qe[d],t=ze(s);switch(d){case"spring":return je(s,e);case"cubicBezier":return ae(Bn,t);case"steps":return ae(Fn,t);default:return ae(a,t)}}function Je(s){try{var e=document.querySelectorAll(s);return e}catch{return}}function ne(s,e){for(var d=s.length,a=arguments.length>=2?arguments[1]:void 0,t=[],r=0;r<d;r++)if(r in s){var n=s[r];e.call(a,n,r,s)&&t.push(n)}return t}function re(s){return s.reduce(function(e,d){return e.concat(q.arr(d)?re(d):d)},[])}function De(s){return q.arr(s)?s:(q.str(s)&&(s=Je(s)||s),s instanceof NodeList||s instanceof HTMLCollection?[].slice.call(s):[s])}function xe(s,e){return s.some(function(d){return d===e})}function Ae(s){var e={};for(var d in s)e[d]=s[d];return e}function de(s,e){var d=Ae(s);for(var a in s)d[a]=e.hasOwnProperty(a)?e[a]:s[a];return d}function ie(s,e){var d=Ae(s);for(var a in e)d[a]=q.und(s[a])?e[a]:s[a];return d}function On(s){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s);return e?"rgba("+e[1]+",1)":s}function Nn(s){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=s.replace(e,function(i,c,h,f){return c+c+h+h+f+f}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d),t=parseInt(a[1],16),r=parseInt(a[2],16),n=parseInt(a[3],16);return"rgba("+t+","+r+","+n+",1)"}function Un(s){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),d=parseInt(e[1],10)/360,a=parseInt(e[2],10)/100,t=parseInt(e[3],10)/100,r=e[4]||1;function n(o,l,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?o+(l-o)*6*m:m<1/2?l:m<2/3?o+(l-o)*(2/3-m)*6:o}var i,c,h;if(a==0)i=c=h=t;else{var f=t<.5?t*(1+a):t+a-t*a,u=2*t-f;i=n(u,f,d+1/3),c=n(u,f,d),h=n(u,f,d-1/3)}return"rgba("+i*255+","+c*255+","+h*255+","+r+")"}function bn(s){if(q.rgb(s))return On(s);if(q.hex(s))return Nn(s);if(q.hsl(s))return Un(s)}function Nt(s){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(s);if(e)return e[1]}function Yn(s){if(Gt(s,"translate")||s==="perspective")return"px";if(Gt(s,"rotate")||Gt(s,"skew"))return"deg"}function fe(s,e){return q.fnc(s)?s(e.target,e.id,e.total):s}function Vt(s,e){return s.getAttribute(e)}function Ee(s,e,d){var a=Nt(e);if(xe([d,"deg","rad","turn"],a))return e;var t=$t.CSS[e+d];if(!q.und(t))return t;var r=100,n=document.createElement(s.tagName),i=s.parentNode&&s.parentNode!==document?s.parentNode:document.body;i.appendChild(n),n.style.position="absolute",n.style.width=r+d;var c=r/n.offsetWidth;i.removeChild(n);var h=c*parseFloat(e);return $t.CSS[e+d]=h,h}function Qe(s,e,d){if(e in s.style){var a=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t=s.style[e]||getComputedStyle(s).getPropertyValue(a)||"0";return d?Ee(s,t,d):t}}function Te(s,e){if(q.dom(s)&&!q.inp(s)&&(!q.nil(Vt(s,e))||q.svg(s)&&s[e]))return"attribute";if(q.dom(s)&&xe(Vn,e))return"transform";if(q.dom(s)&&e!=="transform"&&Qe(s,e))return"css";if(s[e]!=null)return"object"}function Ke(s){if(q.dom(s)){for(var e=s.style.transform||"",d=/(\w+)\(([^)]*)\)/g,a=new Map,t;t=d.exec(e);)a.set(t[1],t[2]);return a}}function Hn(s,e,d,a){var t=Gt(e,"scale")?1:0+Yn(e),r=Ke(s).get(e)||t;return d&&(d.transforms.list.set(e,r),d.transforms.last=e),a?Ee(s,r,a):r}function Se(s,e,d,a){switch(Te(s,e)){case"transform":return Hn(s,e,a,d);case"css":return Qe(s,e,d);case"attribute":return Vt(s,e);default:return s[e]||0}}function Re(s,e){var d=/^(\*=|\+=|-=)/.exec(s);if(!d)return s;var a=Nt(s)||0,t=parseFloat(e),r=parseFloat(s.replace(d[0],""));switch(d[0][0]){case"+":return t+r+a;case"-":return t-r+a;case"*":return t*r+a}}function $e(s,e){if(q.col(s))return bn(s);if(/\s/g.test(s))return s;var d=Nt(s),a=d?s.substr(0,s.length-d.length):s;return e?a+e:a}function Ie(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function Wn(s){return Math.PI*2*Vt(s,"r")}function Zn(s){return Vt(s,"width")*2+Vt(s,"height")*2}function Gn(s){return Ie({x:Vt(s,"x1"),y:Vt(s,"y1")},{x:Vt(s,"x2"),y:Vt(s,"y2")})}function tn(s){for(var e=s.points,d=0,a,t=0;t<e.numberOfItems;t++){var r=e.getItem(t);t>0&&(d+=Ie(a,r)),a=r}return d}function Xn(s){var e=s.points;return tn(s)+Ie(e.getItem(e.numberOfItems-1),e.getItem(0))}function en(s){if(s.getTotalLength)return s.getTotalLength();switch(s.tagName.toLowerCase()){case"circle":return Wn(s);case"rect":return Zn(s);case"line":return Gn(s);case"polyline":return tn(s);case"polygon":return Xn(s)}}function zn(s){var e=en(s);return s.setAttribute("stroke-dasharray",e),e}function jn(s){for(var e=s.parentNode;q.svg(e)&&q.svg(e.parentNode);)e=e.parentNode;return e}function nn(s,e){var d=e||{},a=d.el||jn(s),t=a.getBoundingClientRect(),r=Vt(a,"viewBox"),n=t.width,i=t.height,c=d.viewBox||(r?r.split(" "):[0,0,n,i]);return{el:a,viewBox:c,x:c[0]/1,y:c[1]/1,w:n,h:i,vW:c[2],vH:c[3]}}function qn(s,e){var d=q.str(s)?Je(s)[0]:s,a=e||100;return function(t){return{property:t,el:d,svg:nn(d),totalLength:en(d)*(a/100)}}}function Jn(s,e,d){function a(f){f===void 0&&(f=0);var u=e+f>=1?e+f:0;return s.el.getPointAtLength(u)}var t=nn(s.el,s.svg),r=a(),n=a(-1),i=a(1),c=d?1:t.w/t.vW,h=d?1:t.h/t.vH;switch(s.property){case"x":return(r.x-t.x)*c;case"y":return(r.y-t.y)*h;case"angle":return Math.atan2(i.y-n.y,i.x-n.x)*180/Math.PI}}function Ve(s,e){var d=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,a=$e(q.pth(s)?s.totalLength:s,e)+"";return{original:a,numbers:a.match(d)?a.match(d).map(Number):[0],strings:q.str(s)||e?a.split(d):[]}}function ke(s){var e=s?re(q.arr(s)?s.map(De):De(s)):[];return ne(e,function(d,a,t){return t.indexOf(d)===a})}function rn(s){var e=ke(s);return e.map(function(d,a){return{target:d,id:a,total:e.length,transforms:{list:Ke(d)}}})}function Qn(s,e){var d=Ae(e);if(/^spring/.test(d.easing)&&(d.duration=je(d.easing)),q.arr(s)){var a=s.length,t=a===2&&!q.obj(s[0]);t?s={value:s}:q.fnc(e.duration)||(d.duration=e.duration/a)}var r=q.arr(s)?s:[s];return r.map(function(n,i){var c=q.obj(n)&&!q.pth(n)?n:{value:n};return q.und(c.delay)&&(c.delay=i?0:e.delay),q.und(c.endDelay)&&(c.endDelay=i===r.length-1?e.endDelay:0),c}).map(function(n){return ie(n,d)})}function Kn(s){for(var e=ne(re(s.map(function(r){return Object.keys(r)})),function(r){return q.key(r)}).reduce(function(r,n){return r.indexOf(n)<0&&r.push(n),r},[]),d={},a=function(r){var n=e[r];d[n]=s.map(function(i){var c={};for(var h in i)q.key(h)?h==n&&(c.value=i[h]):c[h]=i[h];return c})},t=0;t<e.length;t++)a(t);return d}function $n(s,e){var d=[],a=e.keyframes;a&&(e=ie(Kn(a),e));for(var t in e)q.key(t)&&d.push({name:t,tweens:Qn(e[t],s)});return d}function tr(s,e){var d={};for(var a in s){var t=fe(s[a],e);q.arr(t)&&(t=t.map(function(r){return fe(r,e)}),t.length===1&&(t=t[0])),d[a]=t}return d.duration=parseFloat(d.duration),d.delay=parseFloat(d.delay),d}function er(s,e){var d;return s.tweens.map(function(a){var t=tr(a,e),r=t.value,n=q.arr(r)?r[1]:r,i=Nt(n),c=Se(e.target,s.name,i,e),h=d?d.to.original:c,f=q.arr(r)?r[0]:h,u=Nt(f)||Nt(c),o=i||u;return q.und(n)&&(n=h),t.from=Ve(f,o),t.to=Ve(Re(n,f),o),t.start=d?d.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=ye(t.easing,t.duration),t.isPath=q.pth(r),t.isPathTargetInsideSVG=t.isPath&&q.svg(e.target),t.isColor=q.col(t.from.original),t.isColor&&(t.round=1),d=t,t})}var an={css:function(s,e,d){return s.style[e]=d},attribute:function(s,e,d){return s.setAttribute(e,d)},object:function(s,e,d){return s[e]=d},transform:function(s,e,d,a,t){if(a.list.set(e,d),e===a.last||t){var r="";a.list.forEach(function(n,i){r+=i+"("+n+") "}),s.style.transform=r}}};function sn(s,e){var d=rn(s);d.forEach(function(a){for(var t in e){var r=fe(e[t],a),n=a.target,i=Nt(r),c=Se(n,t,i,a),h=i||Nt(c),f=Re($e(r,h),c),u=Te(n,t);an[u](n,t,f,a.transforms,!0)}})}function nr(s,e){var d=Te(s.target,e.name);if(d){var a=er(e,s),t=a[a.length-1];return{type:d,property:e.name,animatable:s,tweens:a,duration:t.end,delay:a[0].delay,endDelay:t.endDelay}}}function rr(s,e){return ne(re(s.map(function(d){return e.map(function(a){return nr(d,a)})})),function(d){return!q.und(d)})}function on(s,e){var d=s.length,a=function(r){return r.timelineOffset?r.timelineOffset:0},t={};return t.duration=d?Math.max.apply(Math,s.map(function(r){return a(r)+r.duration})):e.duration,t.delay=d?Math.min.apply(Math,s.map(function(r){return a(r)+r.delay})):e.delay,t.endDelay=d?t.duration-Math.max.apply(Math,s.map(function(r){return a(r)+r.duration-r.endDelay})):e.endDelay,t}var Fe=0;function ir(s){var e=de(Xe,s),d=de(Ce,s),a=$n(d,s),t=rn(s.targets),r=rr(t,a),n=on(r,d),i=Fe;return Fe++,ie(e,{id:i,children:[],animatables:t,animations:r,duration:n.duration,delay:n.delay,endDelay:n.endDelay})}var Pt=[],hn=function(){var s;function e(){!s&&(!Be()||!et.suspendWhenDocumentHidden)&&Pt.length>0&&(s=requestAnimationFrame(d))}function d(t){for(var r=Pt.length,n=0;n<r;){var i=Pt[n];i.paused?(Pt.splice(n,1),r--):(i.tick(t),n++)}s=n>0?requestAnimationFrame(d):void 0}function a(){et.suspendWhenDocumentHidden&&(Be()?s=cancelAnimationFrame(s):(Pt.forEach(function(t){return t._onDocumentVisibility()}),hn()))}return typeof document<"u"&&document.addEventListener("visibilitychange",a),e}();function Be(){return!!document&&document.hidden}function et(s){s===void 0&&(s={});var e=0,d=0,a=0,t,r=0,n=null;function i(x){var R=window.Promise&&new Promise(function(E){return n=E});return x.finished=R,R}var c=ir(s);i(c);function h(){var x=c.direction;x!=="alternate"&&(c.direction=x!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,t.forEach(function(R){return R.reversed=c.reversed})}function f(x){return c.reversed?c.duration-x:x}function u(){e=0,d=f(c.currentTime)*(1/et.speed)}function o(x,R){R&&R.seek(x-R.timelineOffset)}function l(x){if(c.reversePlayback)for(var E=r;E--;)o(x,t[E]);else for(var R=0;R<r;R++)o(x,t[R])}function m(x){for(var R=0,E=c.animations,A=E.length;R<A;){var y=E[R],p=y.animatable,T=y.tweens,w=T.length-1,I=T[w];w&&(I=ne(T,function(P){return x<P.end})[0]||I);for(var F=Dt(x-I.start-I.delay,0,I.duration)/I.duration,k=isNaN(F)?1:I.easing(F),_=I.to.strings,N=I.round,L=[],C=I.to.numbers.length,S=void 0,V=0;V<C;V++){var D=void 0,W=I.to.numbers[V],b=I.from.numbers[V]||0;I.isPath?D=Jn(I.value,k*W,I.isPathTargetInsideSVG):D=b+k*(W-b),N&&(I.isColor&&V>2||(D=Math.round(D*N)/N)),L.push(D)}var H=_.length;if(!H)S=L[0];else{S=_[0];for(var Y=0;Y<H;Y++){_[Y];var U=_[Y+1],B=L[Y];isNaN(B)||(U?S+=B+U:S+=B+" ")}}an[y.type](p.target,y.property,S,p.transforms),y.currentValue=S,R++}}function v(x){c[x]&&!c.passThrough&&c[x](c)}function g(){c.remaining&&c.remaining!==!0&&c.remaining--}function M(x){var R=c.duration,E=c.delay,A=R-c.endDelay,y=f(x);c.progress=Dt(y/R*100,0,100),c.reversePlayback=y<c.currentTime,t&&l(y),!c.began&&c.currentTime>0&&(c.began=!0,v("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,v("loopBegin")),y<=E&&c.currentTime!==0&&m(0),(y>=A&&c.currentTime!==R||!R)&&m(R),y>E&&y<A?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,v("changeBegin")),v("change"),m(y)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,v("changeComplete")),c.currentTime=Dt(y,0,R),c.began&&v("update"),x>=R&&(d=0,g(),c.remaining?(e=a,v("loopComplete"),c.loopBegan=!1,c.direction==="alternate"&&h()):(c.paused=!0,c.completed||(c.completed=!0,v("loopComplete"),v("complete"),!c.passThrough&&"Promise"in window&&(n(),i(c)))))}return c.reset=function(){var x=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=x==="reverse",c.remaining=c.loop,t=c.children,r=t.length;for(var R=r;R--;)c.children[R].reset();(c.reversed&&c.loop!==!0||x==="alternate"&&c.loop===1)&&c.remaining++,m(c.reversed?c.duration:0)},c._onDocumentVisibility=u,c.set=function(x,R){return sn(x,R),c},c.tick=function(x){a=x,e||(e=a),M((a+(d-e))*et.speed)},c.seek=function(x){M(f(x))},c.pause=function(){c.paused=!0,u()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,Pt.push(c),u(),hn())},c.reverse=function(){h(),c.completed=!c.reversed,u()},c.restart=function(){c.reset(),c.play()},c.remove=function(x){var R=ke(x);ln(R,c)},c.reset(),c.autoplay&&c.play(),c}function Oe(s,e){for(var d=e.length;d--;)xe(s,e[d].animatable.target)&&e.splice(d,1)}function ln(s,e){var d=e.animations,a=e.children;Oe(s,d);for(var t=a.length;t--;){var r=a[t],n=r.animations;Oe(s,n),!n.length&&!r.children.length&&a.splice(t,1)}!d.length&&!a.length&&e.pause()}function ar(s){for(var e=ke(s),d=Pt.length;d--;){var a=Pt[d];ln(e,a)}}function sr(s,e){e===void 0&&(e={});var d=e.direction||"normal",a=e.easing?ye(e.easing):null,t=e.grid,r=e.axis,n=e.from||0,i=n==="first",c=n==="center",h=n==="last",f=q.arr(s),u=parseFloat(f?s[0]:s),o=f?parseFloat(s[1]):0,l=Nt(f?s[1]:s)||0,m=e.start||0+(f?u:0),v=[],g=0;return function(M,x,R){if(i&&(n=0),c&&(n=(R-1)/2),h&&(n=R-1),!v.length){for(var E=0;E<R;E++){if(!t)v.push(Math.abs(n-E));else{var A=c?(t[0]-1)/2:n%t[0],y=c?(t[1]-1)/2:Math.floor(n/t[0]),p=E%t[0],T=Math.floor(E/t[0]),w=A-p,I=y-T,F=Math.sqrt(w*w+I*I);r==="x"&&(F=-w),r==="y"&&(F=-I),v.push(F)}g=Math.max.apply(Math,v)}a&&(v=v.map(function(_){return a(_/g)*g})),d==="reverse"&&(v=v.map(function(_){return r?_<0?_*-1:-_:Math.abs(g-_)}))}var k=f?(o-u)/g:u;return m+k*(Math.round(v[x]*100)/100)+l}}function or(s){s===void 0&&(s={});var e=et(s);return e.duration=0,e.add=function(d,a){var t=Pt.indexOf(e),r=e.children;t>-1&&Pt.splice(t,1);function n(o){o.passThrough=!0}for(var i=0;i<r.length;i++)n(r[i]);var c=ie(d,de(Ce,s));c.targets=c.targets||s.targets;var h=e.duration;c.autoplay=!1,c.direction=e.direction,c.timelineOffset=q.und(a)?h:Re(a,h),n(e),e.seek(c.timelineOffset);var f=et(c);n(f),r.push(f);var u=on(r,s);return e.delay=u.delay,e.endDelay=u.endDelay,e.duration=u.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}et.version="3.2.1";et.speed=1;et.suspendWhenDocumentHidden=!0;et.running=Pt;et.remove=ar;et.get=Se;et.set=sn;et.convertPx=Ee;et.path=qn;et.setDashoffset=zn;et.stagger=sr;et.timeline=or;et.easing=ye;et.penner=qe;et.random=function(s,e){return Math.floor(Math.random()*(e-s+1))+s};const hr=Tn({selectedPosts:[],currTag:"",currPost:{id:0,title:"",content:"",href:"",create:0,update:0,tags:[],wordCount:0,cover:"",excerpt:"",pinned:!1},currPage:1,searchDialog:!1,splashLoading:!0,fireworksEnabled:!0,SpinePlayerEnabled:!0,showDropdownMenu:!1,darkMode:"system"});function kt(){return{state:hr}}const lr=["innerHTML"],cr={__name:"Splash",setup(s){const e=lt(`<svg viewBox="0 0 1728 1117" preserveAspectRatio="xMinYMin slice" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2_5)">
<g class="triangle-group">
<path d="M606 -123L1061 666H151L606 -123Z"/>
<path d="M190.15 144L67.3 -68.94L313 -68.94L190.15 144Z"/>
<path d="M1424.17 339L1249.35 35.97L1599 35.97L1424.17 339Z"/>
<path d="M-96.7 513.333L-216.4 305.853H23L-96.7 513.333Z"/>
<path d="M502.825 603.83L391 410L614.65 410L502.825 603.83Z"/>
<path d="M1228.45 648.333L1048.9 337.113L1408 337.113L1228.45 648.333Z"/>
<path d="M246.375 925.667L96.75 666.317H396L246.375 925.667Z"/>
<path d="M606.375 1048.45L504 871L708.75 871L606.375 1048.45Z"/>
<path d="M1376.5 960L1219 687H1534L1376.5 960Z"/>
<path d="M365.395 170L503.791 409.885H227L365.395 170Z"/>
<path d="M1049.36 337L1198.71 595.886H900L1049.36 337Z"/>
<path d="M1248.81 36L1340.61 195.132H1157L1248.81 36Z"/>
<path d="M503.99 680.333L614.981 872.716H393L503.99 680.333Z"/>
<path d="M870.433 698.333L997.866 919.218H743L870.433 698.333Z"/>
<path d="M1419.1 487L1534.2 686.508H1304L1419.1 487Z"/>
<path d="M312.914 809L445.828 1039.38H180L312.914 809Z"/>
<path d="M1225.51 1053.67L1368.01 1300.68H1083L1225.51 1053.67Z"/>
<path d="M1550.51 792L1693.01 1039.01H1408L1550.51 792Z"/>
</g>
<g id="breathingParts">
<path class="circle-path" fill-rule="evenodd" clip-rule="evenodd" d="M864 769C979.98 769 1074 674.98 1074 559C1074 443.02 979.98 349 864 349C748.02 349 654 443.02 654 559C654 674.98 748.02 769 864 769ZM864 749.909C969.436 749.909 1054.91 664.436 1054.91 559C1054.91 453.564 969.436 368.091 864 368.091C758.564 368.091 673.091 453.564 673.091 559C673.091 664.436 758.564 749.909 864 749.909Z"/>
<path class="led-path" class="led-path" d="M934.636 392.273H792.727L757.091 447H970.909L934.636 392.273Z"/>
<path class="led-path" d="M969.636 450.182H897.727L934.636 504.273L969.636 450.182Z"/>
<path class="led-path" d="M792.091 500.455L828.364 447L900.909 555.182L863.364 609.273L792.091 500.455Z"/>
<path class="led-path" d="M900.909 667.182L865.909 612.455L903.5 558.364L973.455 667.182L937.818 721.909H796.545L760.273 667.182L796.545 612.455L832.818 667.182H900.909Z"/>
</g>
<defs>
  <filter id="glow">
    <feGaussianBlur stdDeviation="4" result="blur"/>
    <feFlood class="glow-color" flood-opacity="2.5"/>
    <feComposite in2="blur" operator="in"/>
    <feComposite in="SourceGraphic"/>
  </filter>
</defs>
</svg>
`),d=lt(!0),{state:a}=kt(),t=()=>{et({targets:"#breathingParts",opacity:[.3,1],easing:"easeInOutSine",duration:500,direction:"alternate",loop:!0})},r=()=>{et({targets:".splash-container",opacity:0,duration:500,easing:"easeInOutQuad",complete:()=>{d.value=!1}}),a.splashLoading=!1},n=i=>{i.preventDefault()};return xt(()=>{t(),window.addEventListener("wheel",n,{passive:!1}),setTimeout(()=>{r(),window.removeEventListener("wheel",n)},Math.floor(Math.random()*300)+1200)}),Zt(()=>{window.removeEventListener("wheel",n)}),(i,c)=>d.value?(j(),$("div",{key:0,class:"splash-container",innerHTML:e.value},null,8,lr)):St("",!0)}},ur=Ct(cr,[["__scopeId","data-v-50052416"]]),dr="data:image/svg+xml,%3csvg%20width='96'%20height='97'%20viewBox='0%200%2096%2097'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%203L10%2013L17%2019.5L39.5%2042L28.5%2057.5L22.5%2066.5L3.5%2096.5L28%2071L35%2063.5L48.5%2048.5L74%2068L81%2072.5L95.5%2081L83.5%2069L78%2063.5L53.5%2041L64.5%2025L69.5%2017.5L79.5%200L65%2014L58.5%2020.5L46%2034L19.5%2015.5L12%2010.5L0%203Z'%20fill='%23128AFA'/%3e%3cpath%20d='M57.5%2081.5C68.7%2081.5%2075%2078.5%2081%2072.5L74%2068C61.3607%2079.6749%2043%2068.5%2035%2063.5L28%2071C37%2078.5%2051.3333%2081.5%2057.5%2081.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M87.5%2053.5C87.5%2036%2075%2022.5%2069.5%2017.5L64.5%2025C83.7%2043.8%2081.6667%2058.3333%2078%2063.5L83.5%2069C87%2064.5%2087.5%2056%2087.5%2053.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M34%202.5C21%202.5%2015%207.5%2012%2010.5L19.5%2015.5C33.5%204.3%2051.6667%2014.3333%2058.5%2020.5L65%2014C57%208.5%2047%202.5%2034%202.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M5%2030.5C5%2048.9%2017.5%2061.5%2022.5%2066.5L28.5%2057.5C24%2052.5%2011.5%2040%2017%2019.5L10%2013C6%2018.6%204.66667%2027.5%205%2030.5Z'%20fill='%232B2B2B'/%3e%3c/svg%3e",zt=JSON.parse('[{"id":5,"title":"Xin chào thế giới","content":"\\r\\nXin chào Thế Giới!\\r\\n\\r\\n---\\r\\n\\r\\n# Ví dụ về tiện ích mở rộng Markdown\\r\\n\\r\\nTrang này giới thiệu một số tiện ích mở rộng Markdown tích hợp sẵn do VitePress cung cấp.\\r\\n\\r\\n## Tô sáng cú pháp\\r\\n\\r\\nVitePress cung cấp tính năng Tô sáng cú pháp được hỗ trợ bởi [Shiki](https://github.com/shikijs/shiki), cùng các tính năng bổ sung như tô sáng dòng:\\r\\n\\r\\n**Input**\\r\\n\\r\\n````md\\r\\n```js{4}\\r\\nexport default {\\r\\n  data () {\\r\\n    return {\\r\\n      msg: \'Highlighted!\'\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n````\\r\\n\\r\\n**Output**\\r\\n\\r\\n```js{4}\\r\\nexport default {\\r\\n  data () {\\r\\n    return {\\r\\n      msg: \'Highlighted!\'\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n## Container tùy chỉnh\\r\\n\\r\\n**Input**\\r\\n\\r\\n```md\\r\\n::: thông tin\\r\\nĐây là hộp thông tin.\\r\\n:::\\r\\n\\r\\n::: mẹo\\r\\nĐây là mẹo.\\r\\n:::\\r\\n\\r\\n::: cảnh báo\\r\\nĐây là cảnh báo.\\r\\n:::\\r\\n\\r\\n::: nguy hiểm\\r\\nĐây là cảnh báo nguy hiểm.\\r\\n:::\\r\\n\\r\\n::: chi tiết\\r\\nĐây là khối chi tiết.\\r\\n:::\\r\\n```\\r\\n\\r\\n**Output**\\r\\n\\r\\n::: thông tin\\r\\nĐây là hộp thông tin.\\r\\n:::\\r\\n\\r\\n::: mẹo\\r\\nĐây là mẹo.\\r\\n:::\\r\\n\\r\\n::: cảnh báo\\r\\nĐây là cảnh báo.\\r\\n:::\\r\\n\\r\\n::: nguy hiểm\\r\\nĐây là cảnh báo nguy hiểm.\\r\\n:::\\r\\n\\r\\n::: chi tiết\\r\\nĐây là khối chi tiết.\\r\\n:::\\r\\n\\r\\n## Xem thêm\\r\\n\\r\\nXem tài liệu để biết [danh sách đầy đủ các tiện ích mở rộng markdown](https://vitepress.dev/guide/markdown).","href":"posts/hello-world.html","create":1756771200000,"update":1756812557228,"tags":["HelloWorld","vue","bluearchive"],"wordCount":172,"excerpt":"\\r\\nXin chào Thế Giới!\\r\\n\\r\\n","pinned":true},{"id":7,"title":"Hoàng Kiều Phong","content":"Thông tin cá nhân.\\n\\n---\\n\\nThông tin cá nhân.\\n\\n<img src=\\"/detective-conan.gif\\" alt=\\"Sự thật luôn chỉ có một\\" width=\\"50\\" height=\\"50\\" /> **Sự thật luôn chỉ có một**\\n\\n\\n<img src=\\"/shiroko-blue-archive.gif\\" alt=\\"Shirokoko\\" width=\\"100%\\" height=\\"auto\\" />\\n\\n_Kết nối [Facebook](https://www.facebook.com/Shiroko412)_  \\n_Kết nối [Zalo](https://zalo.me/0332138297)_  \\n_Kết nối [Email](mailto:vuliztva1@gmail.com)_\\n","href":"posts/info-phong.html","create":1756771200000,"update":1756812557230,"tags":["image"],"wordCount":35,"cover":"/wallpaper-2572384.webp","excerpt":"Thông tin cá nhân.\\n\\n","pinned":true},{"id":8,"title":"Nguyễn Ngọc Phước","content":"Thông tin cá nhân.\\r\\n\\r\\n---\\r\\n","href":"posts/info-phuoc.html","create":1756771200000,"update":1756812557230,"tags":["image"],"wordCount":4,"cover":"/wallpaper-878514.webp","excerpt":"Thông tin cá nhân.\\r\\n\\r\\n","pinned":true},{"id":9,"title":"Nguyễn Quang Tuấn Anh","content":"Thông tin cá nhân.\\r\\n\\r\\n---\\r\\n","href":"posts/info-tuananh.html","create":1756771200000,"update":1756812557231,"tags":["image"],"wordCount":4,"cover":"/wallpaper-2311325.webp","excerpt":"Thông tin cá nhân.\\r\\n\\r\\n","pinned":true},{"id":1,"title":"Bài kiểm tra tiếng Trung","content":"\\r\\nĐây là bài kiểm tra của Trung Quốc.\\r\\n\\r\\n---\\r\\n\\r\\nĐây là bài kiểm tra của Trung Quốc.\\r\\n\\r\\nGiỏi câu cá, ta, vua, đã nghĩ ra những lý thuyết thú vị về khuôn mặt của bọn trẻ. Con có thể vẽ bộ đồ lông thú này cùng cha không? Bao nhiêu năm đã trôi qua? Cùng nhau học tập. Xem kinh thánh và xây dựng. Không có lỗi nào trong số này cả! Phương pháp thì như ta đã nói, con trai! Giáo viên cũng...\\r\\n\\r\\nCòn nữa, đầu óc đang ở trong phòng. Muốn thay đổi thời gian và địa điểm xe sao? Đây chẳng phải là quá trình học tập thống nhất sao? Du lịch một năm sao?\\r\\n\\r\\nCuối cùng, chính con trai ta đã cho thấy những lợi ích và sự khác biệt của các loài. Trăm con đường và niềm tin của mẹ đã chứng minh rằng có một chiếc xe mới sáng bóng với đáy tích cực. Hãy bước vào nhanh chóng và an toàn: từ chiến trường đất nước, mỗi bước chân nhỏ bé đều có thể hiểu được thế giới. Thế giới có thể được mở rộng. Bài ca của thế giới dưới bánh xe thành phố đầy bóng tối; toàn bộ bầu không khí đã trọn vẹn, nhưng hình ảnh phản chiếu của đứa trẻ đang hiện ra. Số lượng phương pháp rất lớn. Nếu ta muốn... một tháng sản phẩm, dịch vụ này có đầy người già không? Nên tìm hiểu về vùng quê: cách sắp xếp theo kiểu miền núi không rõ ràng chút nào; xe thì ổn! Phòng thường lại đóng cửa. Học sinh đang vẽ và học sinh đang làm việc. Họ đang làm việc trong văn phòng sao? Những người khác đang viết về tài liệu giảng dạy. Tôi lại viết! Điều duy nhất tôi không thể làm là quản lý việc quản lý đường bộ. Tình hình hiện tại rất căng thẳng và tôi không thể đảm bảo an toàn. Tôi lo lắng về tình hình hiện tại. Tôi lo lắng về khu học chánh mới. Khu học chánh hiện đã mở cửa và học sinh đang rời đi. Tôi đang bận. Đây là một khu học chánh mới rất nghiêm ngặt. Khu học chánh hiện đã mở cửa và học sinh đang ra ngoài và dẫn dắt trường học. Anh ấy đang kiểm tra học sinh. Anh ấy có thể đi tàu lên phía bắc để gặp học sinh. Anh ấy có thể đi tàu lên phía bắc để gặp học sinh. Anh ấy đang bận.\\r\\n\\r\\nVùng đất mới.\\r\\n\\r\\n> Anh ấy bắt đầu biết làm thơ, rồi mới có thể thực hành. Đây có phải là loại thơ cổ điển tao nhã không? Thơ ấm áp, tao nhã. Chỉ có giá trị chủ yếu của thế gian là không bị ảnh hưởng bởi căn bệnh tuổi trung niên của Kim La Giang. Chẳng lẽ đại đạo lại là tiểu đạo sao?\\r\\n","href":"posts/cn-test.html","create":1756771200000,"update":1756812557199,"tags":["Chinese","test"],"wordCount":493,"excerpt":"\\r\\nĐây là bài kiểm tra của Trung Quốc.\\r\\n\\r\\n","pinned":false},{"id":2,"title":"Kiểm tra kiểu tô sáng mã","content":"\\r\\nHãy đảm bảo tất cả các khối mã được tô sáng chính xác. Tất cả các mã mẫu đều được lấy từ bản demo của https://highlightjs.org\\r\\n\\r\\n---\\r\\n\\r\\n```plain\\r\\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\\r\\n```\\r\\n\\r\\n```rust\\r\\n#[derive(Debug)]\\r\\npub enum State {\\r\\n    Start,\\r\\n    Transient,\\r\\n    Closed,\\r\\n}\\r\\n\\r\\nimpl From<&\'a str> for State {\\r\\n    fn from(s: &\'a str) -> Self {\\r\\n        match s {\\r\\n            \\"start\\" => State::Start,\\r\\n            \\"closed\\" => State::Closed,\\r\\n            _ => unreachable!(),\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n```json\\r\\n[\\r\\n  {\\r\\n    \\"title\\": \\"apples\\",\\r\\n    \\"count\\": [12000, 20000],\\r\\n    \\"description\\": { \\"text\\": \\"...\\", \\"sensitive\\": false }\\r\\n  },\\r\\n  {\\r\\n    \\"title\\": \\"oranges\\",\\r\\n    \\"count\\": [17500, null],\\r\\n    \\"description\\": { \\"text\\": \\"...\\", \\"sensitive\\": false }\\r\\n  }\\r\\n]\\r\\n```\\r\\n\\r\\n```python\\r\\n@requires_authorization\\r\\ndef somefunc(param1=\'\', param2=0):\\r\\n    r\'\'\'A docstring\'\'\'\\r\\n    if param1 > param2: # interesting\\r\\n        print \'Gre\\\\\'ater\'\\r\\n    return (param2 - param1 + 1 + 0b10l) or None\\r\\n\\r\\nclass SomeClass:\\r\\n    pass\\r\\n\\r\\n>>> message = \'\'\'interpreter\\r\\n... prompt\'\'\'\\r\\n```\\r\\n\\r\\n```html\\r\\n<!DOCTYPE html>\\r\\n<title>Title</title>\\r\\n\\r\\n<style>\\r\\n  body {\\r\\n    width: 500px;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<script type=\\"application/javascript\\">\\r\\n  function $init() {\\r\\n    return true\\r\\n  }\\r\\n<\/script>\\r\\n\\r\\n<body>\\r\\n  <p checked class=\\"title\\" id=\\"title\\">Title</p>\\r\\n  <!-- here goes the rest of the page -->\\r\\n</body>\\r\\n```\\r\\n\\r\\n```javascript\\r\\nfunction $initHighlight(block, cls) {\\r\\n  try {\\r\\n    if (cls.search(/\\\\bno\\\\-highlight\\\\b/) != -1)\\r\\n      return process(block, true, 0x0F) +\\r\\n             ` class=\\"${cls}\\"`;\\r\\n  } catch (e) {\\r\\n    /* handle exception */\\r\\n  }\\r\\n  for (var i = 0 / 2; i < classes.length; i++) {\\r\\n    if (checkCondition(classes[i]) === undefined)\\r\\n      console.log(\'undefined\');\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <div>\\r\\n      <web-component>{block}</web-component>\\r\\n    </div>\\r\\n  )\\r\\n}\\r\\n\\r\\nexport $initHighlight;\\r\\n```\\r\\n\\r\\n```cpp\\r\\n#include <iostream>\\r\\n\\r\\nint main(int argc, char *argv[]) {\\r\\n\\r\\n  /* An annoying \\"Hello World\\" example */\\r\\n  for (auto i = 0; i < 0xFFFF; i++)\\r\\n    cout << \\"Hello, World!\\" << endl;\\r\\n\\r\\n  char c = \'\\\\n\';\\r\\n  unordered_map <string, vector<string> > m;\\r\\n  m[\\"key\\"] = \\"\\\\\\\\\\\\\\\\\\"; // this is an error\\r\\n\\r\\n  return -2e3 + 12l;\\r\\n}\\r\\n```\\r\\n\\r\\n```sql\\r\\nCREATE TABLE \\"topic\\" (\\r\\n    \\"id\\" serial NOT NULL PRIMARY KEY,\\r\\n    \\"forum_id\\" integer NOT NULL,\\r\\n    \\"subject\\" varchar(255) NOT NULL\\r\\n);\\r\\nALTER TABLE \\"topic\\"\\r\\nADD CONSTRAINT forum_id FOREIGN KEY (\\"forum_id\\")\\r\\nREFERENCES \\"forum\\" (\\"id\\");\\r\\n\\r\\n-- Initials\\r\\ninsert into \\"topic\\" (\\"forum_id\\", \\"subject\\")\\r\\nvalues (2, \'D\'\'artagnian\');\\r\\n```\\r\\n\\r\\n```java\\r\\n/**\\r\\n * @author John Smith <john.smith@example.com>\\r\\n*/\\r\\npackage l2f.gameserver.model;\\r\\n\\r\\npublic abstract class L2Char extends L2Object {\\r\\n  public static final Short ERROR = 0x0001;\\r\\n\\r\\n  public void moveTo(int x, int y, int z) {\\r\\n    _ai = null;\\r\\n    log(\\"Should not be called\\");\\r\\n    if (1 > 5) { // wtf!?\\r\\n      return;\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n```swift\\r\\nimport Foundation\\r\\n\\r\\n@objc class Person: Entity {\\r\\n  var name: String!\\r\\n  var age:  Int!\\r\\n\\r\\n  init(name: String, age: Int) {\\r\\n    /* /* ... */ */\\r\\n  }\\r\\n\\r\\n  // Return a descriptive string for this person\\r\\n  func description(offset: Int = 0) -> String {\\r\\n    return \\"\\\\(name) is \\\\(age + offset) years old\\"\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n```css\\r\\n@font-face {\\r\\n  font-family: Chunkfive;\\r\\n  src: url(\'Chunkfive.otf\');\\r\\n}\\r\\n\\r\\nbody,\\r\\n.usertext {\\r\\n  color: #f0f0f0;\\r\\n  background: #600;\\r\\n  font-family: Chunkfive, sans;\\r\\n}\\r\\n\\r\\n@import url(print.css);\\r\\n@media print {\\r\\n  a[href^=\'http\']::after {\\r\\n    content: attr(href);\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n```ruby\\r\\n# The Greeter class\\r\\nclass Greeter\\r\\n  def initialize(name)\\r\\n    @name = name.capitalize\\r\\n  end\\r\\n\\r\\n  def salute\\r\\n    puts \\"Hello #{@name}!\\"\\r\\n  end\\r\\nend\\r\\n\\r\\ng = Greeter.new(\\"world\\")\\r\\ng.salute\\r\\n```\\r\\n\\r\\n```makefile\\r\\n# Makefile\\r\\n\\r\\nBUILDDIR      = _build\\r\\nEXTRAS       ?= $(BUILDDIR)/extras\\r\\n\\r\\n.PHONY: main clean\\r\\n\\r\\nmain:\\r\\n\\t@echo \\"Building main facility...\\"\\r\\n\\tbuild_main $(BUILDDIR)\\r\\n\\r\\nclean:\\r\\n\\trm -rf $(BUILDDIR)/*\\r\\n```\\r\\n\\r\\n```go\\r\\npackage main\\r\\n\\r\\nimport \\"fmt\\"\\r\\n\\r\\nfunc main() {\\r\\n    ch := make(chan float64)\\r\\n    ch <- 1.0e10    // magic number\\r\\n    x, ok := <- ch\\r\\n    defer fmt.Println(`exitting now\\\\`)\\r\\n    go println(len(\\"hello world!\\"))\\r\\n    return\\r\\n}\\r\\n```\\r\\n\\r\\n```bash\\r\\n#!/bin/bash\\r\\n\\r\\n###### CONFIG\\r\\nACCEPTED_HOSTS=\\"/root/.hag_accepted.conf\\"\\r\\nBE_VERBOSE=false\\r\\n\\r\\nif [ \\"$UID\\" -ne 0 ]\\r\\nthen\\r\\n  echo \\"Superuser rights required\\"\\r\\n  exit 2\\r\\nfi\\r\\n\\r\\ngenApacheConf(){\\r\\n  echo -e \\"# Host ${HOME_DIR}$1/$2 :\\"\\r\\n}\\r\\n```\\r\\n\\r\\n```ini\\r\\n; boilerplate\\r\\n[package]\\r\\nname = \\"some_name\\"\\r\\nauthors = [\\"Author\\"]\\r\\ndescription = \\"This is \\\\\\r\\na description\\"\\r\\n\\r\\n[[lib]]\\r\\nname = ${NAME}\\r\\ndefault = True\\r\\nauto = no\\r\\ncounter = 1_000\\r\\n```\\r\\n","href":"posts/code-highlight.html","create":1756771200000,"update":1756812557212,"tags":["rust","json","python","html","javascript","cpp","sql","objectivec","java","swift","css","ruby","makefile","go","bash","ini"],"wordCount":492,"excerpt":"\\r\\nHãy đảm bảo tất cả các khối mã được tô sáng chính xác. Tất cả các mã mẫu đều được lấy từ bản demo của https://highlightjs.org\\r\\n\\r\\n","pinned":false},{"id":3,"title":"Các yếu tố","content":"\\r\\nMục đích của bài viết này là giúp bạn đảm bảo tất cả các phần tử HTML đều hiển thị đúng. Nếu bạn sử dụng CSS Reset, đừng quên tự mình định nghĩa lại kiểu.\\r\\n\\r\\n---\\r\\n\\r\\n# Heading 1\\r\\n\\r\\n## Heading 2\\r\\n\\r\\n### Heading 3\\r\\n\\r\\n#### Heading 4\\r\\n\\r\\n##### Heading 5\\r\\n\\r\\n###### Heading 6\\r\\n\\r\\n---\\r\\n\\r\\n## Đoạn văn\\r\\n\\r\\nLorem ipsum dolor sit amet, [test link]() consectetur adipiscing elit. **Strong text** pellentesque ligula commodo viverra vehicula. _Italic text_ at ullamcorper enim. Morbi a euismod nibh. <u>Underline text</u> non elit nisl. ~~Deleted text~~ tristique, sem id condimentum tempus, metus lectus venenatis mauris, sit amet semper lorem felis a eros. Fusce egestas nibh at sagittis auctor. Sed ultricies ac arcu quis molestie. Donec dapibus nunc in nibh egestas, vitae volutpat sem iaculis. Curabitur sem tellus, elementum nec quam id, fermentum laoreet mi. Ut mollis ullamcorper turpis, vitae facilisis velit ultricies sit amet. Etiam laoreet dui odio, id tempus justo tincidunt id. Phasellus scelerisque nunc sed nunc ultricies accumsan.\\r\\n\\r\\nInterdum et malesuada fames ac ante ipsum primis in faucibus. `Sed erat diam`, blandit eget felis aliquam, rhoncus varius urna. Donec tellus sapien, sodales eget ante vitae, feugiat ullamcorper urna. Praesent auctor dui vitae dapibus eleifend. Proin viverra mollis neque, ut ullamcorper elit posuere eget.\\r\\n\\r\\n> Hiện tại cần phải có thời gian, tạm thời và pulvinar placerat, không hoàn hảo và lớn.\\r\\n\\r\\nMaecenas ornare arcu at mi suscipit, non molestie tortor ultrices. Aenean convallis, diam et congue ultricies, erat magna tincidunt orci, pulvinar posuere mi sapien ac magna. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Praesent vitae placerat mauris. Nullam laoreet ante posuere tortor blandit auctor. Sed id ligula volutpat leo consequat placerat. Mauris fermentum dolor sed augue malesuada sollicitudin. Vivamus ultrices nunc felis, quis viverra orci eleifend ut. Donec et quam id urna cursus posuere. Donec elementum scelerisque laoreet.\\r\\n\\r\\n## Kiểu danh sách\\r\\n\\r\\n### Định nghĩa Danh sách (dl)\\r\\n\\r\\n<dl><dt>Tiêu đề danh sách định nghĩa</dt><dd>Đây là phần danh sách định nghĩa.</dd></dl>\\r\\n\\r\\n### Danh sách có thứ tự (ol)\\r\\n\\r\\n1. List Item 1\\r\\n2. List Item 2\\r\\n3. List Item 3\\r\\n\\r\\n### Danh sách không có thứ tự (ul)\\r\\n\\r\\n- List Item 1\\r\\n- List Item 2\\r\\n- List Item 3\\r\\n\\r\\n### Danh sách hộp kiểm (ul)\\r\\n\\r\\n- [ ] List Item 1 unchecked\\r\\n- [x] List Item 2 checked\\r\\n- [x] List Item 3 checked\\r\\n\\r\\n## Bảng\\r\\n\\r\\n| Table Header 1 | Table Header 2 | Table Header 3 |\\r\\n| -------------- | -------------- | -------------- |\\r\\n| Division 1     | Division 2     | Division 3     |\\r\\n| Division 1     | Division 2     | Division 3     |\\r\\n| Division 1     | Division 2     | Division 3     |\\r\\n\\r\\n## Những thứ linh tinh - viết tắt, từ viết tắt, phụ đề, hỗ trợ, kbd, v.v.\\r\\n\\r\\nLorem <sup>superscript</sup> dolor <sub>subscript</sub> amet, consectetuer adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. <cite>cite</cite>. Nunc iaculis suscipit dui. Nam sit amet sem. Aliquam libero nisi, imperdiet at, tincidunt nec, gravida vehicula, nisl. Praesent mattis, massa quis luctus fermentum, turpis mi volutpat justo, eu volutpat enim diam eget metus. Maecenas ornare tortor. Donec sed tellus eget sapien fringilla nonummy. <acronym title=\\"National Basketball Association\\">NBA</acronym> Mauris a ante. Suspendisse quam sem, consequat at, commodo vitae, feugiat in, nunc. Morbi imperdiet augue quis tellus. <abbr title=\\"Avenue\\">AVE</abbr>. Use <kbd>Crtl</kbd> + <kbd>C</kbd> to stop.\\r\\n","href":"posts/elements.html","create":1756771200000,"update":1756812557214,"tags":["elements","test"],"wordCount":473,"excerpt":"\\r\\nMục đích của bài viết này là giúp bạn đảm bảo tất cả các phần tử HTML đều hiển thị đúng. Nếu bạn sử dụng CSS Reset, đừng quên tự mình định nghĩa lại kiểu.\\r\\n\\r\\n","pinned":false},{"id":4,"title":"Trích đoạn","content":"\\nNội dung sau đây sẽ không hiển thị ở home/archive.\\n\\n---\\n\\n<!-- more -->\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce eget urna vitae velit eleifend interdum at ac nisi. In nec ligula lacus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed eu cursus erat, ut dapibus quam. Aliquam eleifend dolor vitae libero pharetra adipiscing. Etiam adipiscing dolor a quam tempor, eu convallis nulla varius. Aliquam sollicitudin risus a porta aliquam. Ut nec velit dolor. Proin eget leo lobortis, aliquam est sed, mollis mauris. Fusce vitae leo pretium massa accumsan condimentum. Fusce malesuada gravida lectus vel vulputate. Donec bibendum porta nibh ut aliquam.\\n\\nSed lorem felis, congue non fringilla eu, aliquam eu eros. Curabitur orci libero, mollis sed semper vitae, adipiscing in lectus. Aenean non egestas odio. Donec sollicitudin nisi quis lorem gravida, in pharetra mauris fringilla. Duis sit amet faucibus dolor, id aliquam neque. In egestas, odio gravida tempor dictum, mauris felis faucibus purus, sit amet commodo lacus diam vitae est. Ut ut quam eget massa semper sodales. Aenean non ipsum cursus, blandit lectus in, ornare odio. Curabitur ultrices porttitor vulputate.\\n","href":"posts/excerpts.html","create":1756771200000,"update":1756812557216,"tags":["Excerpts","test"],"wordCount":186,"excerpt":"\\nNội dung sau đây sẽ không hiển thị ở home/archive.\\n\\n","pinned":false},{"id":6,"title":"Hình ảnh","content":"\\nĐây là bài đăng thử nghiệm hình ảnh.\\n\\n---\\n\\n::: tip\\n\\"Hiệu ứng hộp đèn (lightbox) cho hình ảnh trong thẻ img cần thêm bộ chọn thuộc tính (attribute selector)\\"\\n\\n```md\\n<img src=\\"/bluearchive/shiroko.png\\" data-fancybox=\\"gallery\\"/>\\n![](/bluearchive/shiroko.png)\\n<img src=\\"/bluearchive/shiroko.png\\" data-fancybox=\\"gallery\\"/> <img src=\\"/bluearchive/shiroko.png\\" data-fancybox=\\"gallery\\"/>\\n```\\nShiroko\\n<code>![](/wallpaper-2572384.webp)</code>\\n\\nHoshino\\n<code>![](/wallpaper-878514.webp)</code>\\n\\nHoshino swimsuit\\n<code>![](/wallpaper-2311325.webp)</code>\\n","href":"posts/images.html","create":1756771200000,"update":1756812557229,"tags":["image"],"wordCount":42,"excerpt":"\\nĐây là bài đăng thử nghiệm hình ảnh.\\n\\n","pinned":false},{"id":10,"title":"Bài kiểm tra tiếng Nhật","content":"\\r\\nĐây là bài kiểm tra của Nhật Bản.\\r\\n\\r\\n---\\r\\n\\r\\nĐây là bài kiểm tra của Nhật Bản.\\r\\n\\r\\n私は昨日ついにその助力家というのの上よりするたなけれ。\\r\\n\\r\\nCuối cùng tôi cũng liên lạc được với người giúp việc hôm qua.\\r\\n\\r\\n最も今をお話団はちょうどこの前後なかろでくらいに困りがいるたをは帰着考えたなかって、そうにもするでうたらない。\\r\\n\\r\\nNhóm mà tôi đang nói đến lúc này đang gặp rắc rối và tôi chưa nghĩ đến việc quay lại, nên tôi không muốn.\\r\\n\\r\\nがたを知っないはずも同時に九月をいよいよたありた。\\r\\n\\r\\nTôi không biết chuyện đó, nhưng cùng lúc đó, tháng Chín cũng sắp đến.\\r\\n\\r\\nもっと槙さんにぼんやり金少し説明にえた自分大した人私か影響にというお関係たうませないが、この次第も私か兄具合に使うて、槙さんののに当人のあなたにさぞご意味と行くて私個人が小尊敬を聴いように同時に同反抗に集っだうて、いよいよまず相当へあっうからいだ事をしでなけれ。\\r\\n\\r\\nTôi đã giải thích mơ hồ với Maki-san rằng tôi không phải là người quan trọng và tôi không muốn bị ảnh hưởng bởi anh ấy, nhưng tôi đang dùng chuyện này như một chuyện anh em, và tôi chắc chắn rằng nó rất có ý nghĩa với anh với tư cách là Maki-san, vì vậy cá nhân tôi muốn bày tỏ sự kính trọng của mình với anh, và đồng thời, tất cả chúng ta đều đang ở trong thế đối lập, vì vậy chúng ta cần phải làm điều gì đó thực sự giúp anh ngay từ đầu.\\r\\n\\r\\n--\\r\\n\\r\\n> それでそれでもご時日をしはずはたったいやと突き抜けるますて、その元がは行ったてという獄を尽すていけですた。\\r\\n\\r\\n> Nhưng dù vậy, tôi vẫn không còn lựa chọn nào khác ngoài việc vượt qua thời gian, và tôi đã có thể thoát khỏi nhà tù nơi cội nguồn của tôi xuất phát.\\r\\n\\r\\nこの中道具の日その学校はあなたごろがすまなりかとネルソンさんの考えるですん、辺の事実ないというご盲従ありたですと、爺さんのためが薬缶が結果までの箸の当時してならて、多少の十月にためからそういう上からとにかくしましないと触れべきものたで、ないうですと多少お人達したのでたた。\\r\\n\\r\\nNelson nghĩ rằng trường học vào ngày này của các thiết bị sẽ hoàn hảo cho bạn, nhưng có một sự theo dõi mù quáng rằng không có sự thật nào về nó, và vì lợi ích của ông nội, ấm đun nước giống như một đôi đũa vào thời điểm đó cho đến khi có kết quả, và từ tháng 10 trở đi, đó là điều không nên chạm vào, vì vậy có một số người nói rằng nó không tốt.\\r\\n\\r\\n_Từ [Văn bản giả sẵn sàng sử dụng - Lorem ipsum tiếng Nhật](https://lipsum.sugutsukaeru.jp/index.cgi)_\\r\\n","href":"posts/jp-test.html","create":1756771200000,"update":1756812557231,"tags":["Japanese","test"],"wordCount":314,"excerpt":"\\r\\nĐây là bài kiểm tra của Nhật Bản.\\r\\n\\r\\n","pinned":false},{"id":11,"title":"Kiểm tra công thức Latex","content":"\\r\\nKiểm tra công thức Latex\\r\\n\\r\\n---\\r\\n\\r\\nKhi $a \\\\ne 0$, có hai nghiệm của $(ax^2 + bx + c = 0)$ và chúng là\\r\\n$$ x = {-b \\\\pm \\\\sqrt{b^2-4ac} \\\\over 2a} $$\\r\\n\\r\\n**Phương trình Maxwell:**\\r\\n| equation                                                                                                                                                                  | description                                                                            |\\r\\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- |\\r\\n| $\\\\nabla \\\\cdot \\\\vec{\\\\mathbf{B}}  = 0$                                                                                                                                      | divergence of $\\\\vec{\\\\mathbf{B}}$ is zero                                               |\\r\\n| $\\\\nabla \\\\times \\\\vec{\\\\mathbf{E}}\\\\, +\\\\, \\\\frac1c\\\\, \\\\frac{\\\\partial\\\\vec{\\\\mathbf{B}}}{\\\\partial t}  = \\\\vec{\\\\mathbf{0}}$                                                          | curl of $\\\\vec{\\\\mathbf{E}}$ is proportional to the rate of change of $\\\\vec{\\\\mathbf{B}}$ |\\r\\n| $\\\\nabla \\\\times \\\\vec{\\\\mathbf{B}} -\\\\, \\\\frac1c\\\\, \\\\frac{\\\\partial\\\\vec{\\\\mathbf{E}}}{\\\\partial t} = \\\\frac{4\\\\pi}{c}\\\\vec{\\\\mathbf{j}}    \\\\nabla \\\\cdot \\\\vec{\\\\mathbf{E}} = 4 \\\\pi \\\\rho$ | _wha?_                                                                                 |\\r\\n","href":"posts/latex-test.html","create":1756771200000,"update":1756812557232,"tags":["Latex","test"],"wordCount":103,"excerpt":"\\r\\nKiểm tra công thức Latex\\r\\n\\r\\n","pinned":false},{"id":12,"title":"Thử nghiệm kiểu hiển thị Markdown","content":"\\r\\nBài viết này được lấy từ https://gist.github.com/apackeer/4159268 và được sử dụng để kiểm tra kiểu markdown. Bài viết này bao gồm hầu hết mọi cách sử dụng markdown. Hãy đảm bảo tất cả các phần tử markdown bên dưới hiển thị chính xác.\\r\\n\\r\\n---\\r\\n\\r\\n## Headers\\r\\n\\r\\n```markdown\\r\\n# H1\\r\\n\\r\\n## H2\\r\\n\\r\\n### H3\\r\\n\\r\\n#### H4\\r\\n\\r\\n##### H5\\r\\n\\r\\n###### H6\\r\\n\\r\\nNgoài ra, đối với H1 và H2, hãy sử dụng kiểu gạch chân:\\r\\n\\r\\n# Alt-H1\\r\\n\\r\\n## Alt-H2\\r\\n```\\r\\n\\r\\n# H1\\r\\n\\r\\n## H2\\r\\n\\r\\n### H3\\r\\n\\r\\n#### H4\\r\\n\\r\\n##### H5\\r\\n\\r\\n###### H6\\r\\n\\r\\nNgoài ra, đối với H1 và H2, hãy sử dụng kiểu gạch chân:\\r\\n\\r\\n# Alt-H1\\r\\n\\r\\n## Alt-H2\\r\\n\\r\\n## Nhấn mạnh\\r\\n\\r\\n````markdown\\r\\nChữ nghiêng có thể được viết bằng dấu sao (\\\\*) hoặc dấu gạch dưới (\\\\_).\\r\\n\\r\\nChữ đậm cũng được viết bằng hai dấu sao (\\\\*\\\\*) hoặc hai dấu gạch dưới (\\\\_\\\\_).\\r\\n\\r\\nBạn cũng có thể kết hợp chữ đậm và chữ nghiêng trong cùng một câu.\\r\\n\\r\\nGạch bỏ chữ (như thế này) thì dùng hai dấu ngã (~~) ở đầu và cuối.\\r\\n\\r\\n## Danh sách\\r\\n\\r\\n```markdown\\r\\n1. Mục đầu tiên trong danh sách có thứ tự\\r\\n2. Một mục khác\\r\\n\\r\\n- Danh sách phụ không có thứ tự.\\r\\n\\r\\n1. Con số thực sự không quan trọng, miễn là có số thứ tự\\r\\n2. Danh sách con có thứ tự\\r\\n3. Và thêm một mục nữa.\\r\\n\\r\\n   Bạn có thể viết các đoạn văn thụt lề đúng cách trong một mục của danh sách. Hãy chú ý dòng trống phía trên và phần thụt đầu dòng (ít nhất một dấu cách, ở đây ta dùng ba để canh thẳng với mã Markdown gốc).\\r\\n\\r\\n   Để xuống dòng mà không tạo đoạn văn mới, bạn cần thêm hai dấu cách ở cuối dòng.\\r\\n\\r\\n   Dòng này sẽ được tách riêng, nhưng vẫn nằm trong cùng một đoạn.\\r\\n\\r\\n   (Điều này khác với hành vi thông thường của GFM – GitHub Flavored Markdown – nơi bạn không cần hai dấu cách để xuống dòng.)\\r\\n\\r\\n- Danh sách không có thứ tự có thể dùng dấu hoa thị (\\\\*)\\r\\n\\r\\n* Hoặc dùng dấu gạch ngang (-)\\r\\n\\r\\n- Hoặc dùng dấu cộng (+)\\r\\n\\r\\n* Đoạn văn trong danh sách không có thứ tự\\r\\n\\r\\nVí dụ như thế này.\\r\\n\\r\\nĐoạn văn bình thường với một ít nội dung.\\r\\nVà thêm một vài dòng nữa.\\r\\n```\\r\\n````\\r\\n\\r\\n1. Mục đầu tiên trong danh sách có thứ tự\\r\\n2. Một mục khác\\r\\n\\r\\n- Danh sách phụ không có thứ tự.\\r\\n\\r\\n1. Con số thực sự không quan trọng, miễn là có số thứ tự\\r\\n2. Danh sách con có thứ tự\\r\\n3. Và thêm một mục nữa.\\r\\n\\r\\n   Bạn có thể viết các đoạn văn thụt lề đúng cách trong một mục của danh sách. Hãy chú ý dòng trống phía trên và phần thụt đầu dòng (ít nhất một dấu cách, ở đây ta dùng ba để canh thẳng với mã Markdown gốc).\\r\\n\\r\\nĐể xuống dòng mà không tạo đoạn văn mới, bạn cần thêm hai dấu cách ở cuối dòng.\\r\\n\\r\\nDòng này sẽ được tách riêng, nhưng vẫn nằm trong cùng một đoạn.\\r\\n\\r\\n(Điều này khác với hành vi thông thường của GFM – GitHub Flavored Markdown – nơi bạn không cần hai dấu cách để xuống dòng.)\\r\\n\\r\\n- Danh sách không có thứ tự có thể dùng dấu hoa thị (\\\\*)\\r\\n\\r\\n* Hoặc dùng dấu gạch ngang (-)\\r\\n\\r\\n- Hoặc dùng dấu cộng (+)\\r\\n\\r\\n* Đoạn văn trong danh sách không có thứ tự\\r\\n\\r\\n  Ví dụ như thế này.\\r\\n\\r\\nĐoạn văn bình thường với một ít nội dung.\\r\\nVà thêm một vài dòng nữa.\\r\\n\\r\\n## Inline HTML\\r\\n\\r\\n```markdown\\r\\n<p>Để khởi động lại máy tính, hãy nhấn <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd>.</p>\\r\\n```\\r\\n\\r\\n<p>Để khởi động lại máy tính, hãy nhấn <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd>.</p>\\r\\n\\r\\n```markdown\\r\\n<dl>\\r\\n<dt>Danh sách định nghĩa</dt>\\r\\n<dd>Là thứ mọi người đôi khi sử dụng.</dd>\\r\\n\\r\\n<dt>Markdown trong HTML</dt>\\r\\n<dd>Không* hoạt động **tốt** lắm. Hãy sử dụng <em>thẻ</em> HTML.</dd>\\r\\n\\r\\n</dl>\\r\\n```\\r\\n\\r\\n<dl>\\r\\n<dt>Danh sách định nghĩa</dt>\\r\\n<dd>Là thứ mọi người đôi khi sử dụng.</dd>\\r\\n\\r\\n<dt>Markdown trong HTML</dt>\\r\\n<dd>Không* hoạt động **tốt** lắm. Hãy sử dụng <em>thẻ</em> HTML.</dd>\\r\\n\\r\\n</dl>\\r\\n\\r\\n## Liên kết\\r\\n\\r\\n```markdown\\r\\n[Tôi là một liên kết kiểu nội tuyến](https://www.facebook.com/Shiroko412)\\r\\n\\r\\n[Tôi là một liên kết kiểu nội tuyến có tiêu đề](https://www.facebook.com/Shiroko412 \\"Sunaookami Shiroko\\")\\r\\n\\r\\n[Tôi là một liên kết kiểu tham chiếu][Văn bản tham chiếu không phân biệt chữ hoa chữ thường tùy ý]\\r\\n\\r\\n[Tôi là một tham chiếu tương đối đến một tệp kho lưu trữ](../blob/master/LICENSE)\\r\\n\\r\\n[Bạn có thể sử dụng số cho các định nghĩa liên kết kiểu tham chiếu][1]\\r\\n\\r\\nHoặc để trống và sử dụng [văn bản liên kết]\\r\\n\\r\\nMột số văn bản để cho thấy các liên kết tham chiếu có thể theo sau.\\r\\n\\r\\n[Văn bản tham chiếu không phân biệt chữ hoa chữ thường tùy ý]: https://goctruyentranhvui17.com/trang-chu\\r\\n[1]: https://goctruyentranhvui17.com/truyen/theo-doi\\r\\n[văn bản liên kết]: https://goctruyentranhvui17.com/\\r\\n```\\r\\n\\r\\n[Tôi là một liên kết kiểu nội tuyến](https://www.facebook.com/Shiroko412)\\r\\n\\r\\n[Tôi là một liên kết kiểu nội tuyến có tiêu đề](https://www.facebook.com/Shiroko412 \\"Sunaookami Shiroko\\")\\r\\n\\r\\n[Tôi là một liên kết kiểu tham chiếu][Văn bản tham chiếu không phân biệt chữ hoa chữ thường tùy ý]\\r\\n\\r\\n[Tôi là một tham chiếu tương đối đến một tệp kho lưu trữ](../blob/master/LICENSE)\\r\\n\\r\\n[Bạn có thể sử dụng số cho các định nghĩa liên kết kiểu tham chiếu][1]\\r\\n\\r\\nHoặc để trống và sử dụng [văn bản liên kết]\\r\\n\\r\\nMột số văn bản để cho thấy các liên kết tham chiếu có thể theo sau.\\r\\n\\r\\n[Văn bản tham chiếu không phân biệt chữ hoa chữ thường tùy ý]: https://goctruyentranhvui17.com/trang-chu\\r\\n[1]: https://goctruyentranhvui17.com/truyen/theo-doi\\r\\n[văn bản liên kết]: https://goctruyentranhvui17.com/\\r\\n## Hình ảnh\\r\\n\\r\\n```markdown\\r\\ndi chuột để xem văn bản tiêu đề:\\r\\n\\r\\nInline-style:\\r\\n\\r\\n![alt text](https://i0.wp.com/anitrendz.net/news/wp-content/uploads/2022/07/bluearchive_1.5anniversaryanimeshortscreenshot.png \'Logo Title Text 1\')\\r\\n\\r\\nPhong cách tham khảo:\\r\\n![alt text][logo]\\r\\n\\r\\n[logo]: https://i0.wp.com/anitrendz.net/news/wp-content/uploads/2022/07/bluearchive_1.5anniversaryanimeshortscreenshot.png \'Logo Title Text 2\'\\r\\n```\\r\\n\\r\\ndi chuột để xem văn bản tiêu đề:\\r\\n\\r\\nInline-style:\\r\\n\\r\\n![alt text]((https://static.wikia.nocookie.net/blue-archive/images/f/fd/MP_JP_Pyroxene.png/revision/latest?cb=20220130135042 \'Logo Title Text 1\')\\r\\n\\r\\nPhong cách tham khảo:\\r\\n![alt text][logo]\\r\\n\\r\\n[logo]: (https://static.wikia.nocookie.net/blue-archive/images/f/fd/MP_JP_Pyroxene.png/revision/latest?cb=20220130135042 \'Logo Title Text 2\'\\r\\n\\r\\n## Tô sáng Mã và Cú pháp\\r\\n\\r\\nInline `code` có `back-ticks around` it.\\r\\n\\r\\n```javascript\\r\\nvar s = \'JavaScript syntax highlighting\'\\r\\nalert(s)\\r\\n```\\r\\n\\r\\n```python\\r\\ns = \\"Python syntax highlighting\\"\\r\\nprint s\\r\\n```\\r\\n\\r\\n```\\r\\nKhông có ngôn ngữ nào được chỉ định, nên không có cú pháp tô sáng.\\r\\nNhưng hãy thêm một thẻ <b></b>.\\r\\n```\\r\\n\\r\\n## Bảng\\r\\n\\r\\n```markdown\\r\\n|                  | ASCII                           | HTML                          |\\r\\n| ---------------- | ------------------------------- | ----------------------------- |\\r\\n| Single backticks | `\'Isn\'t this fun?\'`             | \'Isn\'t this fun?\'             |\\r\\n| Quotes           | `\\"Isn\'t this fun?\\"`             | \\"Isn\'t this fun?\\"             |\\r\\n| Dashes           | `-- is en-dash, --- is em-dash` | -- is en-dash, --- is em-dash |\\r\\n```\\r\\n\\r\\n|                  | ASCII                           | HTML                          |\\r\\n| ---------------- | ------------------------------- | ----------------------------- |\\r\\n| Single backticks | `\'Isn\'t this fun?\'`             | \'Isn\'t this fun?\'             |\\r\\n| Quotes           | `\\"Isn\'t this fun?\\"`             | \\"Isn\'t this fun?\\"             |\\r\\n| Dashes           | `-- is en-dash, --- is em-dash` | -- is en-dash, --- is em-dash |\\r\\n\\r\\nColons can be used to align columns.\\r\\n\\r\\n```markdown\\r\\n| Tables        |      Are      | Cool |\\r\\n| ------------- | :-----------: | ---: |\\r\\n| col 3 is      | right-aligned |      |\\r\\n| col 2 is      |   centered    |      |\\r\\n| zebra stripes |   are neat    |\\r\\n```\\r\\n\\r\\n| Tables        |      Are      | Cool |\\r\\n| ------------- | :-----------: | ---: |\\r\\n| col 3 is      | right-aligned |      |\\r\\n| col 2 is      |   centered    |      |\\r\\n| zebra stripes |   are neat    |      |\\r\\n\\r\\nCác dấu gạch ngang (|) là tùy chọn, và bạn không cần phải căn chỉnh Markdown thô sao cho đẹp mắt. Bạn cũng có thể sử dụng Markdown nội tuyến.\\r\\n\\r\\n```markdown\\r\\n| Markdown | Less      | Pretty     |\\r\\n| -------- | --------- | ---------- |\\r\\n| _Still_  | `renders` | **nicely** |\\r\\n| 1        | 2         | 3          |\\r\\n```\\r\\n\\r\\n| Markdown | Less      | Pretty     |\\r\\n| -------- | --------- | ---------- |\\r\\n| _Still_  | `renders` | **nicely** |\\r\\n| 1        | 2         | 3          |\\r\\n\\r\\n> Bạn có thể tìm thêm thông tin về các biểu thức toán học **LaTeX** [tại đây](https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference).\\r\\n\\r\\n## Trích dẫn\\r\\n\\r\\n> Trích dẫn rất hữu ích trong email để mô phỏng văn bản trả lời.\\r\\n> Dòng này là một phần của cùng một trích dẫn.\\r\\n\\r\\nTrích dẫn ngắt dòng.\\r\\n\\r\\n> Đây là một dòng rất dài nhưng vẫn sẽ được trích dẫn đúng khi xuống dòng. Ôi trời, hãy tiếp tục viết để đảm bảo dòng này đủ dài để xuống dòng cho tất cả mọi người. À, bạn có thể _đưa_ **Markdown** vào một khối trích dẫn.\\r\\n\\r\\n## Quy tắc ngang\\r\\n\\r\\nBa hoặc nhiều hơn...\\r\\n\\r\\n```markdown\\r\\n---\\r\\nHyphens\\r\\n---\\r\\n\\r\\nAsterisks\\r\\n\\r\\n---\\r\\n\\r\\nUnderscores\\r\\n```\\r\\n\\r\\n---\\r\\n\\r\\nHyphens\\r\\n\\r\\n---\\r\\n\\r\\nAsterisks\\r\\n\\r\\n---\\r\\n\\r\\nUnderscores\\r\\n\\r\\n## Ngắt dòng\\r\\n\\r\\n```markdown\\r\\nĐây là một dòng để chúng ta bắt đầu.\\r\\n\\r\\nDòng này được phân cách với dòng trên bằng hai dòng mới, nên nó sẽ là một _đoạn văn riêng_.\\r\\n\\r\\nDòng này cũng là một đoạn văn riêng, nhưng...\\r\\nDòng này chỉ được phân cách bằng một dòng mới, nên nó là một dòng riêng trong _cùng một đoạn văn_.\\r\\n```\\r\\n\\r\\nĐây là một dòng để chúng ta bắt đầu.\\r\\n\\r\\nDòng này được phân cách với dòng trên bằng hai dòng mới, nên nó sẽ là một _đoạn văn riêng_.\\r\\n\\r\\nDòng này cũng là một đoạn văn riêng, nhưng...\\r\\nDòng này chỉ được phân cách bằng một dòng mới, nên nó là một dòng riêng trong _cùng một đoạn văn_.\\r\\n\\r\\n---\\r\\n\\r\\n```markdown\\r\\nĐây là một đoạn văn thông thường.\\r\\n\\r\\n<table>\\r\\n    <tr>\\r\\n        <td>Foo</td>\\r\\n    </tr>\\r\\n</table>\\r\\n\\r\\nĐây là một đoạn văn thông thường.\\r\\n```\\r\\n\\r\\nĐây là một đoạn văn thông thường.\\r\\n\\r\\n<table>\\r\\n    <tr>\\r\\n        <td>Foo</td>\\r\\n    </tr>\\r\\n</table>\\r\\n\\r\\nĐây là một đoạn văn thông thường khác.\\r\\n\\r\\n## Video trên Youtube\\r\\n\\r\\n```markdown\\r\\n<a href=\\"https://www.youtube.com/watch?v=7c8p0pRxZHM\\r\\n\\" target=\\"_blank\\"><img src=\\"https://img.youtube.com/vi/7c8p0pRxZHM/hqdefault.jpg\\"\\r\\nalt=\\"IMAGE ALT TEXT HERE\\" width=\\"240\\" height=\\"180\\" border=\\"10\\" /></a>\\r\\n\\r\\nPhiên bản markdown thuần túy:\\r\\n\\r\\n[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/7c8p0pRxZHM/hqdefault.jpg)](https://www.youtube.com/watch?v=7c8p0pRxZHM)\\r\\n```\\r\\n\\r\\n<a href=\\"https://www.youtube.com/watch?v=7c8p0pRxZHM\\r\\n\\" target=\\"_blank\\"><img src=\\"https://img.youtube.com/vi/7c8p0pRxZHM/hqdefault.jpg\\"\\r\\nalt=\\"IMAGE ALT TEXT HERE\\" width=\\"240\\" height=\\"180\\" border=\\"10\\" /></a>\\r\\n\\r\\nPhiên bản markdown thuần túy:\\r\\n\\r\\n[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/7c8p0pRxZHM/hqdefault.jpg)](https://www.youtube.com/watch?v=7c8p0pRxZHM)\\r\\n","href":"posts/markdown.html","create":1756771200000,"update":1756812557232,"tags":["Foo","Bar"],"wordCount":1509,"excerpt":"\\r\\nBài viết này được lấy từ https://gist.github.com/apackeer/4159268 và được sử dụng để kiểm tra kiểu markdown. Bài viết này bao gồm hầu hết mọi cách sử dụng markdown. Hãy đảm bảo tất cả các phần tử markdown bên dưới hiển thị chính xác.\\r\\n\\r\\n","pinned":false},{"id":13,"title":"Thẻ","content":"\\nBài viết này có 3 thẻ. Hãy đảm bảo chủ đề của bạn có thể hiển thị tất cả các thẻ.\\n\\n---\\n","href":"posts/tags.html","create":1756771200000,"update":1756812557241,"tags":["Foo","Bar","Baz"],"wordCount":20,"excerpt":"\\nBài viết này có 3 thẻ. Hãy đảm bảo chủ đề của bạn có thể hiển thị tất cả các thẻ.\\n\\n","pinned":false}]'),fr="ENTRIES",cn="KEYS",un="VALUES",Mt="";class se{constructor(e,d){const a=e._tree,t=Array.from(a.keys());this.set=e,this._type=d,this._path=t.length>0?[{node:a,keys:t}]:[]}next(){const e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:e,keys:d}=Ht(this._path);if(Ht(d)===Mt)return{done:!1,value:this.result()};const a=e.get(Ht(d));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const e=Ht(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>Ht(e)).filter(e=>e!==Mt).join("")}value(){return Ht(this._path).node.get(Mt)}result(){switch(this._type){case un:return this.value();case cn:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const Ht=s=>s[s.length-1],vr=(s,e,d)=>{const a=new Map;if(e===void 0)return a;const t=e.length+1,r=t+d,n=new Uint8Array(r*t).fill(d+1);for(let i=0;i<t;++i)n[i]=i;for(let i=1;i<r;++i)n[i*t]=i;return dn(s,e,d,a,n,1,t,""),a},dn=(s,e,d,a,t,r,n,i)=>{const c=r*n;t:for(const h of s.keys())if(h===Mt){const f=t[c-1];f<=d&&a.set(i,[s.get(h),f])}else{let f=r;for(let u=0;u<h.length;++u,++f){const o=h[u],l=n*f,m=l-n;let v=t[l];const g=Math.max(0,f-d-1),M=Math.min(n-1,f+d);for(let x=g;x<M;++x){const R=o!==e[x],E=t[m+x]+ +R,A=t[m+x+1]+1,y=t[l+x]+1,p=t[l+x+1]=Math.min(E,A,y);p<v&&(v=p)}if(v>d)continue t}dn(s.get(h),e,d,a,t,f,n,i+h)}};class bt{constructor(e=new Map,d=""){this._size=void 0,this._tree=e,this._prefix=d}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");const[d,a]=te(this._tree,e.slice(this._prefix.length));if(d===void 0){const[t,r]=Le(a);for(const n of t.keys())if(n!==Mt&&n.startsWith(r)){const i=new Map;return i.set(n.slice(r.length),t.get(n)),new bt(i,e)}}return new bt(d,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,mr(this._tree,e)}entries(){return new se(this,fr)}forEach(e){for(const[d,a]of this)e(d,a,this)}fuzzyGet(e,d){return vr(this._tree,e,d)}get(e){const d=ve(this._tree,e);return d!==void 0?d.get(Mt):void 0}has(e){const d=ve(this._tree,e);return d!==void 0&&d.has(Mt)}keys(){return new se(this,cn)}set(e,d){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,oe(this._tree,e).set(Mt,d),this}get size(){if(this._size)return this._size;this._size=0;const e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,d){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const a=oe(this._tree,e);return a.set(Mt,d(a.get(Mt))),this}fetch(e,d){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const a=oe(this._tree,e);let t=a.get(Mt);return t===void 0&&a.set(Mt,t=d()),t}values(){return new se(this,un)}[Symbol.iterator](){return this.entries()}static from(e){const d=new bt;for(const[a,t]of e)d.set(a,t);return d}static fromObject(e){return bt.from(Object.entries(e))}}const te=(s,e,d=[])=>{if(e.length===0||s==null)return[s,d];for(const a of s.keys())if(a!==Mt&&e.startsWith(a))return d.push([s,a]),te(s.get(a),e.slice(a.length),d);return d.push([s,e]),te(void 0,"",d)},ve=(s,e)=>{if(e.length===0||s==null)return s;for(const d of s.keys())if(d!==Mt&&e.startsWith(d))return ve(s.get(d),e.slice(d.length))},oe=(s,e)=>{const d=e.length;t:for(let a=0;s&&a<d;){for(const r of s.keys())if(r!==Mt&&e[a]===r[0]){const n=Math.min(d-a,r.length);let i=1;for(;i<n&&e[a+i]===r[i];)++i;const c=s.get(r);if(i===r.length)s=c;else{const h=new Map;h.set(r.slice(i),c),s.set(e.slice(a,a+i),h),s.delete(r),s=h}a+=i;continue t}const t=new Map;return s.set(e.slice(a),t),t}return s},mr=(s,e)=>{const[d,a]=te(s,e);if(d!==void 0){if(d.delete(Mt),d.size===0)fn(a);else if(d.size===1){const[t,r]=d.entries().next().value;vn(a,t,r)}}},fn=s=>{if(s.length===0)return;const[e,d]=Le(s);if(e.delete(d),e.size===0)fn(s.slice(0,-1));else if(e.size===1){const[a,t]=e.entries().next().value;a!==Mt&&vn(s.slice(0,-1),a,t)}},vn=(s,e,d)=>{if(s.length===0)return;const[a,t]=Le(s);a.set(t+e,d),a.delete(t)},Le=s=>s[s.length-1],we="or",mn="and",pr="and_not";class Wt{constructor(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const d=e.autoVacuum==null||e.autoVacuum===!0?ce:e.autoVacuum;this._options={...le,...e,autoVacuum:d,searchOptions:{...Ne,...e.searchOptions||{}},autoSuggestOptions:{...xr,...e.autoSuggestOptions||{}}},this._index=new bt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=pe,this.addFields(this._options.fields)}add(e){const{extractField:d,tokenize:a,processTerm:t,fields:r,idField:n}=this._options,i=d(e,n);if(i==null)throw new Error(`MiniSearch: document does not have ID field "${n}"`);if(this._idToShortId.has(i))throw new Error(`MiniSearch: duplicate ID ${i}`);const c=this.addDocumentId(i);this.saveStoredFields(c,e);for(const h of r){const f=d(e,h);if(f==null)continue;const u=a(f.toString(),h),o=this._fieldIds[h],l=new Set(u).size;this.addFieldLength(c,o,this._documentCount-1,l);for(const m of u){const v=t(m,h);if(Array.isArray(v))for(const g of v)this.addTerm(o,c,g);else v&&this.addTerm(o,c,v)}}}addAll(e){for(const d of e)this.add(d)}addAllAsync(e,d={}){const{chunkSize:a=10}=d,t={chunk:[],promise:Promise.resolve()},{chunk:r,promise:n}=e.reduce(({chunk:i,promise:c},h,f)=>(i.push(h),(f+1)%a===0?{chunk:[],promise:c.then(()=>new Promise(u=>setTimeout(u,0))).then(()=>this.addAll(i))}:{chunk:i,promise:c}),t);return n.then(()=>this.addAll(r))}remove(e){const{tokenize:d,processTerm:a,extractField:t,fields:r,idField:n}=this._options,i=t(e,n);if(i==null)throw new Error(`MiniSearch: document does not have ID field "${n}"`);const c=this._idToShortId.get(i);if(c==null)throw new Error(`MiniSearch: cannot remove document with ID ${i}: it is not in the index`);for(const h of r){const f=t(e,h);if(f==null)continue;const u=d(f.toString(),h),o=this._fieldIds[h],l=new Set(u).size;this.removeFieldLength(c,o,this._documentCount,l);for(const m of u){const v=a(m,h);if(Array.isArray(v))for(const g of v)this.removeTerm(o,c,g);else v&&this.removeTerm(o,c,v)}}this._storedFields.delete(c),this._documentIds.delete(c),this._idToShortId.delete(i),this._fieldLength.delete(c),this._documentCount-=1}removeAll(e){if(e)for(const d of e)this.remove(d);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new bt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){const d=this._idToShortId.get(e);if(d==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(d),this._storedFields.delete(d),(this._fieldLength.get(d)||[]).forEach((a,t)=>{this.removeFieldLength(d,t,this._documentCount,a)}),this._fieldLength.delete(d),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:e,minDirtCount:d,batchSize:a,batchWait:t}=this._options.autoVacuum;this.conditionalVacuum({batchSize:a,batchWait:t},{minDirtCount:d,minDirtFactor:e})}discardAll(e){const d=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const a of e)this.discard(a)}finally{this._options.autoVacuum=d}this.maybeAutoVacuum()}replace(e){const{idField:d,extractField:a}=this._options,t=a(e,d);this.discard(t),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,d){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&d,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const a=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=pe,this.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(d)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,d){const a=this._dirtCount;if(this.vacuumConditionsMet(d)){const t=e.batchSize||me.batchSize,r=e.batchWait||me.batchWait;let n=1;for(const[i,c]of this._index){for(const[h,f]of c)for(const[u]of f)this._documentIds.has(u)||(f.size<=1?c.delete(h):f.delete(u));this._index.get(i).size===0&&this._index.delete(i),n%t===0&&await new Promise(h=>setTimeout(h,r)),n+=1}this._dirtCount-=a}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:d,minDirtFactor:a}=e;return d=d||ce.minDirtCount,a=a||ce.minDirtFactor,this.dirtCount>=d&&this.dirtFactor>=a}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){const d=this._idToShortId.get(e);if(d!=null)return this._storedFields.get(d)}search(e,d={}){const{searchOptions:a}=this._options,t={...a,...d},r=this.executeQuery(e,d),n=[];for(const[i,{score:c,terms:h,match:f}]of r){const u=h.length||1,o={id:this._documentIds.get(i),score:c*u,terms:Object.keys(f),queryTerms:h,match:f};Object.assign(o,this._storedFields.get(i)),(t.filter==null||t.filter(o))&&n.push(o)}return e===Wt.wildcard&&t.boostDocument==null||n.sort(be),n}autoSuggest(e,d={}){d={...this._options.autoSuggestOptions,...d};const a=new Map;for(const{score:r,terms:n}of this.search(e,d)){const i=n.join(" "),c=a.get(i);c!=null?(c.score+=r,c.count+=1):a.set(i,{score:r,terms:n,count:1})}const t=[];for(const[r,{score:n,terms:i,count:c}]of a)t.push({suggestion:r,terms:i,score:n/c});return t.sort(be),t}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,d){if(d==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),d)}static async loadJSONAsync(e,d){if(d==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),d)}static getDefault(e){if(le.hasOwnProperty(e))return he(le,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,d){const{index:a,documentIds:t,fieldLength:r,storedFields:n,serializationVersion:i}=e,c=this.instantiateMiniSearch(e,d);c._documentIds=qt(t),c._fieldLength=qt(r),c._storedFields=qt(n);for(const[h,f]of c._documentIds)c._idToShortId.set(f,h);for(const[h,f]of a){const u=new Map;for(const o of Object.keys(f)){let l=f[o];i===1&&(l=l.ds),u.set(parseInt(o,10),qt(l))}c._index.set(h,u)}return c}static async loadJSAsync(e,d){const{index:a,documentIds:t,fieldLength:r,storedFields:n,serializationVersion:i}=e,c=this.instantiateMiniSearch(e,d);c._documentIds=await Jt(t),c._fieldLength=await Jt(r),c._storedFields=await Jt(n);for(const[f,u]of c._documentIds)c._idToShortId.set(u,f);let h=0;for(const[f,u]of a){const o=new Map;for(const l of Object.keys(u)){let m=u[l];i===1&&(m=m.ds),o.set(parseInt(l,10),await Jt(m))}++h%1e3===0&&await pn(0),c._index.set(f,o)}return c}static instantiateMiniSearch(e,d){const{documentCount:a,nextId:t,fieldIds:r,averageFieldLength:n,dirtCount:i,serializationVersion:c}=e;if(c!==1&&c!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const h=new Wt(d);return h._documentCount=a,h._nextId=t,h._idToShortId=new Map,h._fieldIds=r,h._avgFieldLength=n,h._dirtCount=i||0,h._index=new bt,h}executeQuery(e,d={}){if(e===Wt.wildcard)return this.executeWildcardQuery(d);if(typeof e!="string"){const o={...d,...e,queries:void 0},l=e.queries.map(m=>this.executeQuery(m,o));return this.combineResults(l,o.combineWith)}const{tokenize:a,processTerm:t,searchOptions:r}=this._options,n={tokenize:a,processTerm:t,...r,...d},{tokenize:i,processTerm:c}=n,u=i(e).flatMap(o=>c(o)).filter(o=>!!o).map(yr(n)).map(o=>this.executeQuerySpec(o,n));return this.combineResults(u,n.combineWith)}executeQuerySpec(e,d){const a={...this._options.searchOptions,...d},t=(a.fields||this._options.fields).reduce((v,g)=>({...v,[g]:he(a.boost,g)||1}),{}),{boostDocument:r,weights:n,maxFuzzy:i,bm25:c}=a,{fuzzy:h,prefix:f}={...Ne.weights,...n},u=this._index.get(e.term),o=this.termResults(e.term,e.term,1,e.termBoost,u,t,r,c);let l,m;if(e.prefix&&(l=this._index.atPrefix(e.term)),e.fuzzy){const v=e.fuzzy===!0?.2:e.fuzzy,g=v<1?Math.min(i,Math.round(e.term.length*v)):v;g&&(m=this._index.fuzzyGet(e.term,g))}if(l)for(const[v,g]of l){const M=v.length-e.term.length;if(!M)continue;m==null||m.delete(v);const x=f*v.length/(v.length+.3*M);this.termResults(e.term,v,x,e.termBoost,g,t,r,c,o)}if(m)for(const v of m.keys()){const[g,M]=m.get(v);if(!M)continue;const x=h*v.length/(v.length+M);this.termResults(e.term,v,x,e.termBoost,g,t,r,c,o)}return o}executeWildcardQuery(e){const d=new Map,a={...this._options.searchOptions,...e};for(const[t,r]of this._documentIds){const n=a.boostDocument?a.boostDocument(r,"",this._storedFields.get(t)):1;d.set(t,{score:n,terms:[],match:{}})}return d}combineResults(e,d=we){if(e.length===0)return new Map;const a=d.toLowerCase(),t=gr[a];if(!t)throw new Error(`Invalid combination operator: ${d}`);return e.reduce(t)||new Map}toJSON(){const e=[];for(const[d,a]of this._index){const t={};for(const[r,n]of a)t[r]=Object.fromEntries(n);e.push([d,t])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,d,a,t,r,n,i,c,h=new Map){if(r==null)return h;for(const f of Object.keys(n)){const u=n[f],o=this._fieldIds[f],l=r.get(o);if(l==null)continue;let m=l.size;const v=this._avgFieldLength[o];for(const g of l.keys()){if(!this._documentIds.has(g)){this.removeTerm(o,g,d),m-=1;continue}const M=i?i(this._documentIds.get(g),d,this._storedFields.get(g)):1;if(!M)continue;const x=l.get(g),R=this._fieldLength.get(g)[o],E=Cr(x,m,this._documentCount,R,v,c),A=a*t*u*M*E,y=h.get(g);if(y){y.score+=A,Ar(y.terms,e);const p=he(y.match,d);p?p.push(f):y.match[d]=[f]}else h.set(g,{score:A,terms:[e],match:{[d]:[f]}})}}return h}addTerm(e,d,a){const t=this._index.fetch(a,Ye);let r=t.get(e);if(r==null)r=new Map,r.set(d,1),t.set(e,r);else{const n=r.get(d);r.set(d,(n||0)+1)}}removeTerm(e,d,a){if(!this._index.has(a)){this.warnDocumentChanged(d,e,a);return}const t=this._index.fetch(a,Ye),r=t.get(e);r==null||r.get(d)==null?this.warnDocumentChanged(d,e,a):r.get(d)<=1?r.size<=1?t.delete(e):r.delete(d):r.set(d,r.get(d)-1),this._index.get(a).size===0&&this._index.delete(a)}warnDocumentChanged(e,d,a){for(const t of Object.keys(this._fieldIds))if(this._fieldIds[t]===d){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${a}" was not present in field "${t}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){const d=this._nextId;return this._idToShortId.set(e,d),this._documentIds.set(d,e),this._documentCount+=1,this._nextId+=1,d}addFields(e){for(let d=0;d<e.length;d++)this._fieldIds[e[d]]=d}addFieldLength(e,d,a,t){let r=this._fieldLength.get(e);r==null&&this._fieldLength.set(e,r=[]),r[d]=t;const i=(this._avgFieldLength[d]||0)*a+t;this._avgFieldLength[d]=i/(a+1)}removeFieldLength(e,d,a,t){if(a===1){this._avgFieldLength[d]=0;return}const r=this._avgFieldLength[d]*a-t;this._avgFieldLength[d]=r/(a-1)}saveStoredFields(e,d){const{storeFields:a,extractField:t}=this._options;if(a==null||a.length===0)return;let r=this._storedFields.get(e);r==null&&this._storedFields.set(e,r={});for(const n of a){const i=t(d,n);i!==void 0&&(r[n]=i)}}}Wt.wildcard=Symbol("*");const he=(s,e)=>Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0,gr={[we]:(s,e)=>{for(const d of e.keys()){const a=s.get(d);if(a==null)s.set(d,e.get(d));else{const{score:t,terms:r,match:n}=e.get(d);a.score=a.score+t,a.match=Object.assign(a.match,n),Ue(a.terms,r)}}return s},[mn]:(s,e)=>{const d=new Map;for(const a of e.keys()){const t=s.get(a);if(t==null)continue;const{score:r,terms:n,match:i}=e.get(a);Ue(t.terms,n),d.set(a,{score:t.score+r,terms:t.terms,match:Object.assign(t.match,i)})}return d},[pr]:(s,e)=>{for(const d of e.keys())s.delete(d);return s}},Mr={k:1.2,b:.7,d:.5},Cr=(s,e,d,a,t,r)=>{const{k:n,b:i,d:c}=r;return Math.log(1+(d-e+.5)/(e+.5))*(c+s*(n+1)/(s+n*(1-i+i*a/t)))},yr=s=>(e,d,a)=>{const t=typeof s.fuzzy=="function"?s.fuzzy(e,d,a):s.fuzzy||!1,r=typeof s.prefix=="function"?s.prefix(e,d,a):s.prefix===!0,n=typeof s.boostTerm=="function"?s.boostTerm(e,d,a):1;return{term:e,fuzzy:t,prefix:r,termBoost:n}},le={idField:"id",extractField:(s,e)=>s[e],tokenize:s=>s.split(Er),processTerm:s=>s.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(s,e)=>{typeof(console==null?void 0:console[s])=="function"&&console[s](e)},autoVacuum:!0},Ne={combineWith:we,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Mr},xr={combineWith:mn,prefix:(s,e,d)=>e===d.length-1},me={batchSize:1e3,batchWait:10},pe={minDirtFactor:.1,minDirtCount:20},ce={...me,...pe},Ar=(s,e)=>{s.includes(e)||s.push(e)},Ue=(s,e)=>{for(const d of e)s.includes(d)||s.push(d)},be=({score:s},{score:e})=>e-s,Ye=()=>new Map,qt=s=>{const e=new Map;for(const d of Object.keys(s))e.set(parseInt(d,10),s[d]);return e},Jt=async s=>{const e=new Map;let d=0;for(const a of Object.keys(s))e.set(parseInt(a,10),s[a]),++d%1e3===0&&await pn(0);return e},pn=s=>new Promise(e=>setTimeout(e,s)),Er=/[\n\r\p{Z}\p{P}]+/u,Tr={class:"search-dialog"},Sr={class:"dialog-content"},Rr={class:"search-list"},Ir=["href"],kr=ft({__name:"Search-Dialog",props:{modelValue:{},modelModifiers:{}},emits:Sn(["closeDialog"],["update:modelValue"]),setup(s,{emit:e}){const d=e,a=()=>{const u=document.querySelector(".search-dialog");u&&(u.classList.add("hide-dialog"),setTimeout(()=>{d("closeDialog")},200))},t=It().site.value.base,r=new Wt({fields:["title","content"],storeFields:["title","href"],searchOptions:{fuzzy:.3}});r.addAll(zt);const n=Rn(s,"modelValue"),i=lt([]),c=lt("Trống trơn~");let h=null;function f(){c.value="搜索中……",h&&clearTimeout(h),h=setTimeout(()=>{i.value=r.search(n.value||"").slice(0,5),i.value.length?c.value="搜到了~":c.value="这里空空的"},500)}return xt(()=>{const u=document.querySelector(".search-dialog");u&&u.classList.add("show-dialog")}),(u,o)=>(j(),$("div",Tr,[Z("div",{class:"dialog-cover",onClick:a}),Z("div",Sr,[Z("button",{type:"button",class:"close-btn",onClick:a},"×"),o[1]||(o[1]=Z("span",{class:"title"},"Tìm kiếm",-1)),Me(Z("input",{type:"text",name:"",id:"search-input",placeholder:"Vui lòng nhập từ khóa","onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onInput:f},null,544),[[In,n.value]]),Z("ul",Rr,[Z("span",null,ct(c.value),1),(j(!0),$(Rt,null,Ot(i.value,l=>(j(),$("li",{onClick:a},[Z("a",{href:tt(t)+l.href},ct(l.title),9,Ir)]))),256))])])]))}}),Lr=Ct(kr,[["__scopeId","data-v-2d5ea415"]]),wr=ft({__name:"Music-Control",setup(s){const e=lt(!1),d=lt(null),a=()=>{d.value&&(e.value?d.value.pause():d.value.play().catch(t=>console.log("Phát nhạc thất bại: ",t)),e.value=!e.value)};return xt(()=>{d.value=document.getElementById("background-music"),d.value&&(d.value.volume=1,d.value.pause(),d.value.play().then(()=>{e.value=!0}).catch(t=>{console.log("Tự động phát nhạc bị chặn:",t)}))}),(t,r)=>(j(),$("span",{class:"music-control",onClick:a},[Z("i",{class:wt(e.value?"iconfont icon-continue continue":"iconfont icon-stop stop")},null,2)]))}}),Pr=Ct(wr,[["__scopeId","data-v-f6fa44b5"]]),_r=ft({__name:"Search-Button",setup(s){const{state:e}=kt(),d=()=>{e.searchDialog=!0,e.showDropdownMenu=!1};return(a,t)=>(j(),$("span",{class:"iconfont icon-search search",onClick:d}))}}),Dr=Ct(_r,[["__scopeId","data-v-afafb397"]]),Vr={class:"toggle-container"},Fr={class:"theme-select"},Br={class:"select-wrapper"},Or={class:"label"},Nr=["id","checked","onChange"],Ur=["for"],br=ft({__name:"ToggleSwitch",setup(s){const{state:e}=kt(),d=lt("system"),a={fireworksEnabled:"Hiệu ứng pháo hoa",SpinePlayerEnabled:"Nhân vật chuyển động"};let t,r;xt(()=>{const h=localStorage.getItem("darkMode");d.value=h||"system",t=window.matchMedia("(prefers-color-scheme: dark)"),r=f=>{if(d.value==="system"){const u=f.matches?"dark":"light";document.documentElement.setAttribute("theme",u),e.darkMode=u}},d.value==="system"&&(r(t),t.addEventListener("change",r)),c(d.value),Object.keys(a).forEach(f=>{const u=localStorage.getItem(f);u!==null&&(e[f]=JSON.parse(u))})});const n=()=>{e.darkMode=d.value,localStorage.setItem("darkMode",d.value),d.value==="system"?(r(t),t.addEventListener("change",r)):t.removeEventListener("change",r),c(d.value)},i=h=>{const f=e[h];e[h]=!f,localStorage.setItem(h,JSON.stringify(!f))},c=h=>{let f=h;h==="system"&&(f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("theme",f),e.darkMode=f};return(h,f)=>(j(),$("div",Vr,[Z("div",Fr,[f[3]||(f[3]=Z("span",{class:"label"},"Chủ đề",-1)),Z("div",Br,[Me(Z("select",{"onUpdate:modelValue":f[0]||(f[0]=u=>d.value=u),onChange:n},[...f[1]||(f[1]=[Z("option",{value:"light"},"Arona",-1),Z("option",{value:"dark"},"Plana",-1),Z("option",{value:"system"},"Mặc định",-1)])],544),[[kn,d.value]]),f[2]||(f[2]=Z("span",{class:"select-arrow"},"▼",-1))])]),(j(),$(Rt,null,Ot(a,(u,o)=>Z("div",{key:o,class:"toggle-item"},[Z("span",Or,ct(u),1),Z("input",{type:"checkbox",id:o,checked:tt(e)[o],onChange:l=>i(o)},null,40,Nr),Z("label",{for:o,class:"toggleSwitch"},null,8,Ur)])),64))]))}}),Yr=Ct(br,[["__scopeId","data-v-ec8fd441"]]),Hr={class:"menu-content"},Wr={class:"first-row"},Zr=ft({__name:"Dropdown-Menu",setup(s){const{state:e}=kt(),d=lt(null),a=t=>{const r=t.target,n=document.querySelector(".hamburger");n&&n.contains(r)||d.value&&!d.value.contains(r)&&e.showDropdownMenu&&(e.showDropdownMenu=!1)};return xt(()=>{document.addEventListener("click",a)}),Zt(()=>{document.removeEventListener("click",a)}),(t,r)=>(j(),$("div",{class:"dropdown-menu",ref_key:"dropdownMenu",ref:d},[Z("div",Hr,[Z("div",Wr,[gt(Pr),gt(Dr)]),gt(Yr)])],512))}}),Gr=Ct(Zr,[["__scopeId","data-v-d112e772"]]),Xr={class:"logo"},zr={class:"menu"},jr=["href","onClick"],qr=ft({__name:"index",setup(s){const e=It().site.value.base,a=It().theme.value.menuList,{state:t}=kt(),r=()=>{t.searchDialog=!1},n=()=>{t.showDropdownMenu=!t.showDropdownMenu},i=()=>{t.currPage=1},c=h=>{h===""&&i(),h==="tags/"&&(i(),t.currTag="")};return(h,f)=>(j(),$(Rt,null,[Z("header",{class:wt([{postViewer:tt(t).currPost.href},"container"])},[Z("nav",null,[Z("span",Xr,[Z("img",{onDragstart:f[0]||(f[0]=ee(()=>{},["prevent"])),src:dr,alt:""},null,32)]),Z("span",zr,[Z("ul",null,[(j(!0),$(Rt,null,Ot(tt(a),u=>(j(),$("li",null,[Z("a",{href:tt(e)+u.url,onClick:o=>c(u.url)},ct(u.name),9,jr)]))),256))])]),Z("div",{class:wt(["hamburger",{active:tt(t).showDropdownMenu}]),onClick:n},[...f[1]||(f[1]=[Z("span",{class:"line"},null,-1),Z("span",{class:"line"},null,-1),Z("span",{class:"line"},null,-1)])],2),gt(Gr,{showMenu:tt(t).showDropdownMenu},null,8,["showMenu"])])],2),tt(t).searchDialog?(j(),Bt(Lr,{key:0,onCloseDialog:r})):St("",!0)],64))}}),Jr=Ct(qr,[["__scopeId","data-v-252f194a"]]),Qr="/bluearchive/assets/banner_video.a3M91JR5.mp4",Kr={key:0,autoplay:"",muted:"",loop:"",class:"bg-video"},$r={key:1,class:"bg-img"},ti=ft({__name:"Banner",setup(s){const d=It().theme.value.videoBanner,{state:a}=kt();class t{constructor(){this.K=1,this.F=15,this.speed=.1,this.noise=30,this.phase=0,this.devicePixelRatio=window.devicePixelRatio||1,this.width=this.devicePixelRatio*window.innerWidth,this.height=this.devicePixelRatio*100,this.MAX=this.height/2,this.canvas=document.getElementById("wave"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/this.devicePixelRatio+"px",this.canvas.style.height=this.height/this.devicePixelRatio+"px",this.ctx=this.canvas.getContext("2d"),this.run=!1,this.animationFrameID=null}_globalAttenuationFn(h){return Math.pow(this.K*4/(this.K*4+Math.pow(h,4)),this.K*2)}_drawLine(h,f,u,o,l){this.ctx.moveTo(0,0),this.ctx.beginPath(),this.ctx.strokeStyle=f,this.ctx.lineWidth=u||1,l=l||this.F,o=o*this.MAX||this.noise;for(let m=-this.K;m<=this.K;m+=.01){m=parseFloat(m.toFixed(2));const v=this.width*((m+this.K)/(this.K*2)),g=this.height/2+o*Math.pow(Math.sin(m*10*h),1)*Math.sin(l*m-this.phase);this.ctx.lineTo(v,g)}this.ctx.lineTo(this.width,this.height),this.ctx.lineTo(0,this.height),this.ctx.fillStyle=f,this.ctx.fill()}_clear(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"}_draw(){if(!this.run)return;this.phase=(this.phase+this.speed)%(Math.PI*64),this._clear();const h=getComputedStyle(document.documentElement).getPropertyValue("--wave-color1").trim(),f=getComputedStyle(document.documentElement).getPropertyValue("--wave-color2").trim();this._drawLine(.5,h,1,.35,6),this._drawLine(1,f,1,.25,6),this.animationFrameID=requestAnimationFrame(this._draw.bind(this))}start(){this.phase=0,this.run=!0,this._draw()}stop(){this.run=!1,this._clear(),this.animationFrameID!==null&&(cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null)}setNoise(h){this.noise=Math.min(h,1)*this.MAX}setSpeed(h){this.speed=h}set(h,f){this.setNoise(h),this.setSpeed(f)}}let r=null;function n(){r&&r.stop(),r=new t,r.setSpeed(.01),r.start()}function i(c,h){let f;return function(){clearTimeout(f),f=window.setTimeout(()=>{c()},h)}}return xt(()=>{n(),window.addEventListener("resize",i(()=>{r&&r.stop(),n()},100))}),(c,h)=>(j(),$("div",{class:wt(["banner",{postViewer:tt(a).currPost.href,loadingComplete:!tt(a).splashLoading}])},[Ln(c.$slots,"default",{},void 0),h[1]||(h[1]=Z("canvas",{id:"wave"},null,-1)),tt(d)?(j(),$("video",Kr,[...h[0]||(h[0]=[Z("source",{src:Qr,type:"video/mp4"},null,-1)])])):(j(),$("div",$r))],2))}}),ei=Ct(ti,[["__scopeId","data-v-a82d58d2"]]),ni="/bluearchive/assets/hikari-shupogaki.DjgCYv49.gif",ri={class:"welcome-text"},ii={class:"name"},ai={class:"motto"},si=["href"],He=30,oi=ft({__name:"Welcome-Box",setup(s){const e=It().theme.value,d=e.name,a=e.welcomeText,t=e.motto,r=e.social,n=lt(null),i=lt(0),c=lt(0),h=lt(0),f=M=>{n.value&&window.requestAnimationFrame(()=>{const x=n.value.getBoundingClientRect();i.value=(M.clientX-x.x-x.width/2)/He,c.value=-(M.clientY-x.y-x.height/2)/He,h.value=Math.floor(u(M.clientY-x.y-x.height/2,M.clientX-x.x-x.width/2))})},u=(M,x)=>{let E=Math.atan2(x,M)*(180/Math.PI);return E<0&&(E+=360),E},o=()=>{c.value=i.value=h.value=0};let l=0;const m=lt(""),v=t[Math.floor(Math.random()*t.length)],g=()=>{l<v.length&&(m.value+=v[l],l++,setTimeout(g,Math.random()*150+50))};return xt(()=>{g()}),(M,x)=>(j(),$("div",{class:"welcome-box",ref_key:"welcomeBoxRef",ref:n,onMousemove:f,onMouseleave:o,style:ue({transform:`rotateY(${i.value}deg) rotateX(${c.value}deg)`})},[Z("span",ri,ct(tt(a)),1),gt(Kt,{name:"fade",appear:""},{default:Yt(()=>[Z("div",{class:"info-box",style:ue({background:`linear-gradient(${h.value}deg, var(--infobox-background-initial), var(--infobox-background-final))`})},[Z("img",{onDragstart:x[0]||(x[0]=ee(()=>{},["prevent"])),src:ni,alt:"",class:"avatar"},null,32),Z("span",ii,ct(tt(d)),1),Z("span",ai,[Xt(ct(m.value)+" ",1),x[1]||(x[1]=Z("span",{class:"pointer"},null,-1))]),Z("ul",null,[(j(!0),$(Rt,null,Ot(tt(r),R=>(j(),$("li",{key:R.url},[Z("a",{href:R.url,target:"_blank",rel:"noopener noreferrer"},[Z("i",{class:wt(`iconfont icon-${R.icon} social`)},null,2)],8,si)]))),128))])],4)]),_:1})],36))}}),hi=Ct(oi,[["__scopeId","data-v-aa263cb5"]]),li={class:"container posts-content"},ci={key:0,class:"pinned"},ui={class:"post-header"},di={key:0,class:"cover-container"},fi=["src","alt"],vi={class:"header-content"},mi={class:"title"},pi={key:0,class:"title-dot"},gi={class:"name"},Mi=["href"],Ci={class:"meta-info-bar"},yi={class:"time-info"},xi={datetime:""},Ai={class:"wordcount seperator"},Ei={class:"tags"},Ti=["href","onClick"],Si={class:"excerpt"},Ri={key:0,class:"pagination"},Ii=["disabled"],ki={class:"page-numbers"},Li={key:0,class:"ellipsis"},wi=["onClick"],Pi={key:1,class:"ellipsis"},_i=["disabled"],Qt=3,Di=ft({__name:"Posts-List",setup(s){function e(R){const A=R.replace(/<[^>]*>/g,"").match(/[\p{L}\p{N}_]+/gu);return A?A.length:0}const{state:d}=kt(),{page:a,site:t}=It(),r=t.value.base;function n(R){return(r.endsWith("/")?r:r+"/")+R.replace(/^\//,"")}function i(R){let E;if(typeof R=="number"?E=R:E=new Date(R).getTime(),isNaN(E))return"";const A=new Date(E);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(A)}function c(R){if(typeof R=="number")return R;const E=new Date(R);return isNaN(E.getTime())?0:E.getTime()}const h=_t(()=>(a.value.filePath==="index.md"?zt:a.value.filePath==="tags/index.md"?d.selectedPosts:[]).slice().sort((E,A)=>{if(E.pinned&&!A.pinned)return-1;if(!E.pinned&&A.pinned)return 1;if(E.title==="Xin chào thế giới")return-1;if(A.title==="Xin chào thế giới")return 1;const y=c(E.create);return c(A.create)-y})),f=lt(5),u=_t({get:()=>d.currPage,set:R=>d.currPage=R});xt(()=>{o(),window.addEventListener("popstate",()=>{o()})});function o(){const E=new URLSearchParams(window.location.search).get("page");E&&!isNaN(parseInt(E))&&parseInt(E)>0&&parseInt(E)<=x.value?d.currPage=parseInt(E):d.currPage=1}function l(R){if(R<1||R>x.value)return;d.currPage=R;const E=new URL(window.location.href);R>1?E.searchParams.set("page",R.toString()):E.searchParams.delete("page");const A=E.searchParams.get("tag");A&&E.searchParams.set("tag",A),window.history.pushState({},"",E.toString())}const m=_t(()=>{if(x.value<=7)return Array.from({length:x.value-2},(A,y)=>y+2).filter(A=>A>1&&A<x.value);let R=Math.max(2,u.value-Math.floor(Qt/2)),E=Math.min(x.value-1,R+Qt-1);return E-R<Qt-1&&(R=Math.max(2,E-Qt+1)),Array.from({length:E-R+1},(A,y)=>R+y)}),v=_t(()=>x.value>7&&m.value[0]>2),g=_t(()=>x.value>7&&m.value[m.value.length-1]<x.value-1),M=_t(()=>h.value.slice((u.value-1)*f.value,u.value*f.value).map(R=>({...R,wordCount:e(R.content||"")}))),x=_t(()=>Math.ceil(h.value.length/f.value)||1);return jt(()=>d.selectedPosts,()=>{const E=new URLSearchParams(window.location.search).get("page"),A=Math.ceil(d.selectedPosts.length/f.value)||1;if((!E||u.value>A)&&(u.value=1,E)){const y=new URL(window.location.href);y.searchParams.delete("page"),window.history.pushState({},"",y.toString())}}),(R,E)=>(j(),$("div",li,[gt(wn,{class:"posts-list",name:"list",tag:"div"},{default:Yt(()=>[(j(!0),$(Rt,null,Ot(M.value,A=>(j(),$("article",{class:"post",key:A.href},[A.pinned?(j(),$("span",ci)):St("",!0),Z("header",ui,[A.cover?(j(),$("div",di,[Z("img",{src:n(A.cover),class:"cover-image",alt:A.title+"-cover",loading:"lazy"},null,8,fi)])):St("",!0),Z("div",vi,[Z("div",mi,[A.cover?St("",!0):(j(),$("div",pi)),Z("h1",gi,[Z("a",{href:tt(r)+A.href},ct(A.title),9,Mi)])]),Z("div",Ci,[E[4]||(E[4]=Z("span",{class:"iconfont icon-time time"},null,-1)),Z("div",yi,[Z("time",xi,ct(i(A.create)),1)]),Z("div",Ai,"Khoảng "+ct(A.wordCount)+" chữ",1)]),Z("ul",Ei,[(j(!0),$(Rt,null,Ot(A.tags,y=>(j(),$("li",{key:y},[Z("a",{href:`${tt(r)}tags/`,onClick:p=>tt(d).currTag=y},[E[5]||(E[5]=Z("i",{class:"iconfont icon-tag"},null,-1)),Xt(" "+ct(y),1)],8,Ti)]))),128))]),Z("div",Si,[Z("p",null,ct(A.excerpt),1)])])])]))),128))]),_:1}),x.value!=1?(j(),$("div",Ri,[Z("button",{disabled:u.value===1,class:wt({hide:u.value===1}),id:"up",onClick:E[0]||(E[0]=A=>l(u.value-1))},[...E[6]||(E[6]=[Z("i",{class:"iconfont icon-arrow"},null,-1)])],10,Ii),Z("div",ki,[Z("button",{class:wt(["page-number",{active:u.value===1}]),onClick:E[1]||(E[1]=A=>l(1))}," 1 ",2),v.value?(j(),$("span",Li,"...")):St("",!0),(j(!0),$(Rt,null,Ot(m.value,A=>(j(),$("button",{key:A,class:wt(["page-number",{active:u.value===A}]),onClick:y=>l(A)},ct(A),11,wi))),128)),g.value?(j(),$("span",Pi,"...")):St("",!0),x.value>1?(j(),$("button",{key:2,class:wt(["page-number",{active:u.value===x.value}]),onClick:E[2]||(E[2]=A=>l(x.value))},ct(x.value),3)):St("",!0)]),Z("button",{disabled:u.value>=x.value,class:wt({hide:u.value>=x.value}),id:"next",onClick:E[3]||(E[3]=A=>l(u.value+1))},[...E[7]||(E[7]=[Z("i",{class:"iconfont icon-arrow"},null,-1)])],10,_i)])):St("",!0)]))}}),Vi=Ct(Di,[["__scopeId","data-v-8febf534"]]),Fi={class:"tags"},Bi=["onClick"],Oi=ft({__name:"Tags",setup(s){const e=lt(null),d={},{state:a}=kt(),t=n=>{e.value=n,a.selectedPosts=d[n]||[],a.currTag=n;const i=new URL(window.location.href);n&&n.trim()!==""?i.searchParams.set("tag",n):i.searchParams.delete("tag");const c=i.searchParams.get("page");(!c||c==="1")&&i.searchParams.delete("page"),window.history.pushState({},"",i.toString())};for(const n of zt)if(n.tags)for(const i of n.tags)d[i]||(d[i]=[]),d[i].push(n);function r(){if(typeof window<"u"){const i=new URLSearchParams(window.location.search).get("tag");if(i&&d[i])return i}return a.currTag||""}return xt(()=>{const n=r();n?t(n):a.currTag&&t(a.currTag),window.addEventListener("popstate",()=>{const i=r();i!==e.value&&t(i)})}),jt(()=>a.currTag,n=>{n!==e.value&&t(n)}),Zt(()=>{t("")}),(n,i)=>(j(),$("ul",Fi,[(j(),$(Rt,null,Ot(d,(c,h)=>Z("li",{class:wt(["item",{active:e.value===h}]),key:h},[Z("a",{href:"javascript:void(0)",onClick:f=>t(h)},[i[0]||(i[0]=Z("i",{class:"iconfont icon-tag"},null,-1)),Xt(" "+ct(h),1)],8,Bi)],2)),64))]))}}),Ni=Ct(Oi,[["__scopeId","data-v-6275635c"]]);function Ui(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gn={exports:{}},Mn={exports:{}};(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(d,a){return d<<a|d>>>32-a},rotr:function(d,a){return d<<32-a|d>>>a},endian:function(d){if(d.constructor==Number)return e.rotl(d,8)&16711935|e.rotl(d,24)&4278255360;for(var a=0;a<d.length;a++)d[a]=e.endian(d[a]);return d},randomBytes:function(d){for(var a=[];d>0;d--)a.push(Math.floor(Math.random()*256));return a},bytesToWords:function(d){for(var a=[],t=0,r=0;t<d.length;t++,r+=8)a[r>>>5]|=d[t]<<24-r%32;return a},wordsToBytes:function(d){for(var a=[],t=0;t<d.length*32;t+=8)a.push(d[t>>>5]>>>24-t%32&255);return a},bytesToHex:function(d){for(var a=[],t=0;t<d.length;t++)a.push((d[t]>>>4).toString(16)),a.push((d[t]&15).toString(16));return a.join("")},hexToBytes:function(d){for(var a=[],t=0;t<d.length;t+=2)a.push(parseInt(d.substr(t,2),16));return a},bytesToBase64:function(d){for(var a=[],t=0;t<d.length;t+=3)for(var r=d[t]<<16|d[t+1]<<8|d[t+2],n=0;n<4;n++)t*8+n*6<=d.length*8?a.push(s.charAt(r>>>6*(3-n)&63)):a.push("=");return a.join("")},base64ToBytes:function(d){d=d.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],t=0,r=0;t<d.length;r=++t%4)r!=0&&a.push((s.indexOf(d.charAt(t-1))&Math.pow(2,-2*r+8)-1)<<r*2|s.indexOf(d.charAt(t))>>>6-r*2);return a}};Mn.exports=e})();var bi=Mn.exports,ge={utf8:{stringToBytes:function(s){return ge.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(ge.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var e=[],d=0;d<s.length;d++)e.push(s.charCodeAt(d)&255);return e},bytesToString:function(s){for(var e=[],d=0;d<s.length;d++)e.push(String.fromCharCode(s[d]));return e.join("")}}},We=ge;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Yi=function(s){return s!=null&&(Cn(s)||Hi(s)||!!s._isBuffer)};function Cn(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function Hi(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&Cn(s.slice(0,0))}(function(){var s=bi,e=We.utf8,d=Yi,a=We.bin,t=function(r,n){r.constructor==String?n&&n.encoding==="binary"?r=a.stringToBytes(r):r=e.stringToBytes(r):d(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var i=s.bytesToWords(r),c=r.length*8,h=1732584193,f=-271733879,u=-1732584194,o=271733878,l=0;l<i.length;l++)i[l]=(i[l]<<8|i[l]>>>24)&16711935|(i[l]<<24|i[l]>>>8)&4278255360;i[c>>>5]|=128<<c%32,i[(c+64>>>9<<4)+14]=c;for(var m=t._ff,v=t._gg,g=t._hh,M=t._ii,l=0;l<i.length;l+=16){var x=h,R=f,E=u,A=o;h=m(h,f,u,o,i[l+0],7,-680876936),o=m(o,h,f,u,i[l+1],12,-389564586),u=m(u,o,h,f,i[l+2],17,606105819),f=m(f,u,o,h,i[l+3],22,-1044525330),h=m(h,f,u,o,i[l+4],7,-176418897),o=m(o,h,f,u,i[l+5],12,1200080426),u=m(u,o,h,f,i[l+6],17,-1473231341),f=m(f,u,o,h,i[l+7],22,-45705983),h=m(h,f,u,o,i[l+8],7,1770035416),o=m(o,h,f,u,i[l+9],12,-1958414417),u=m(u,o,h,f,i[l+10],17,-42063),f=m(f,u,o,h,i[l+11],22,-1990404162),h=m(h,f,u,o,i[l+12],7,1804603682),o=m(o,h,f,u,i[l+13],12,-40341101),u=m(u,o,h,f,i[l+14],17,-1502002290),f=m(f,u,o,h,i[l+15],22,1236535329),h=v(h,f,u,o,i[l+1],5,-165796510),o=v(o,h,f,u,i[l+6],9,-1069501632),u=v(u,o,h,f,i[l+11],14,643717713),f=v(f,u,o,h,i[l+0],20,-373897302),h=v(h,f,u,o,i[l+5],5,-701558691),o=v(o,h,f,u,i[l+10],9,38016083),u=v(u,o,h,f,i[l+15],14,-660478335),f=v(f,u,o,h,i[l+4],20,-405537848),h=v(h,f,u,o,i[l+9],5,568446438),o=v(o,h,f,u,i[l+14],9,-1019803690),u=v(u,o,h,f,i[l+3],14,-187363961),f=v(f,u,o,h,i[l+8],20,1163531501),h=v(h,f,u,o,i[l+13],5,-1444681467),o=v(o,h,f,u,i[l+2],9,-51403784),u=v(u,o,h,f,i[l+7],14,1735328473),f=v(f,u,o,h,i[l+12],20,-1926607734),h=g(h,f,u,o,i[l+5],4,-378558),o=g(o,h,f,u,i[l+8],11,-2022574463),u=g(u,o,h,f,i[l+11],16,1839030562),f=g(f,u,o,h,i[l+14],23,-35309556),h=g(h,f,u,o,i[l+1],4,-1530992060),o=g(o,h,f,u,i[l+4],11,1272893353),u=g(u,o,h,f,i[l+7],16,-155497632),f=g(f,u,o,h,i[l+10],23,-1094730640),h=g(h,f,u,o,i[l+13],4,681279174),o=g(o,h,f,u,i[l+0],11,-358537222),u=g(u,o,h,f,i[l+3],16,-722521979),f=g(f,u,o,h,i[l+6],23,76029189),h=g(h,f,u,o,i[l+9],4,-640364487),o=g(o,h,f,u,i[l+12],11,-421815835),u=g(u,o,h,f,i[l+15],16,530742520),f=g(f,u,o,h,i[l+2],23,-995338651),h=M(h,f,u,o,i[l+0],6,-198630844),o=M(o,h,f,u,i[l+7],10,1126891415),u=M(u,o,h,f,i[l+14],15,-1416354905),f=M(f,u,o,h,i[l+5],21,-57434055),h=M(h,f,u,o,i[l+12],6,1700485571),o=M(o,h,f,u,i[l+3],10,-1894986606),u=M(u,o,h,f,i[l+10],15,-1051523),f=M(f,u,o,h,i[l+1],21,-2054922799),h=M(h,f,u,o,i[l+8],6,1873313359),o=M(o,h,f,u,i[l+15],10,-30611744),u=M(u,o,h,f,i[l+6],15,-1560198380),f=M(f,u,o,h,i[l+13],21,1309151649),h=M(h,f,u,o,i[l+4],6,-145523070),o=M(o,h,f,u,i[l+11],10,-1120210379),u=M(u,o,h,f,i[l+2],15,718787259),f=M(f,u,o,h,i[l+9],21,-343485551),h=h+x>>>0,f=f+R>>>0,u=u+E>>>0,o=o+A>>>0}return s.endian([h,f,u,o])};t._ff=function(r,n,i,c,h,f,u){var o=r+(n&i|~n&c)+(h>>>0)+u;return(o<<f|o>>>32-f)+n},t._gg=function(r,n,i,c,h,f,u){var o=r+(n&c|i&~c)+(h>>>0)+u;return(o<<f|o>>>32-f)+n},t._hh=function(r,n,i,c,h,f,u){var o=r+(n^i^c)+(h>>>0)+u;return(o<<f|o>>>32-f)+n},t._ii=function(r,n,i,c,h,f,u){var o=r+(i^(n|~c))+(h>>>0)+u;return(o<<f|o>>>32-f)+n},t._blocksize=16,t._digestsize=16,gn.exports=function(r,n){if(r==null)throw new Error("Illegal argument "+r);var i=s.wordsToBytes(t(r,n));return n&&n.asBytes?i:n&&n.asString?a.bytesToString(i):s.bytesToHex(i)}})();var Wi=gn.exports;const Zi=Ui(Wi),Gi={class:"gitalk-container"},Xi=ft({__name:"Gitalk",setup(s){const e=It().theme.value;return xt(()=>{const d={clientID:e.clientID,clientSecret:e.clientSecret,repo:e.repo,owner:e.owner,admin:e.admin,id:Zi(location.pathname).toString(),distractionFreeMode:!1};new Gitalk(d).render("gitalk-container")}),(d,a)=>(j(),$("div",Gi,[...a[0]||(a[0]=[Z("div",{id:"gitalk-container"},null,-1)])]))}}),zi={class:"view-box container"},ji=ft({__name:"Post-Viewer",setup(s){const e=Pn(),a=It().site.value.base,{state:t}=kt();function r(){let i=zt.findIndex(c=>c.href===e.path.replace(a,""));t.currPost=zt[i]}xt(()=>{r()}),Zt(()=>{t.currPost={id:0,title:"",content:"",href:"",create:0,update:0,tags:[],wordCount:0,cover:"",excerpt:""}}),jt(()=>e.path,()=>{r()});const n=It().theme.value;return(i,c)=>{const h=Ge("content");return j(),$("div",zi,[gt(h,{class:"content"}),tt(n).clientID?(j(),Bt(Xi,{key:0})):St("",!0)])}}}),qi={class:"post-banner"},Ji={class:"title"},Qi={class:"status"},Ki=ft({__name:"Post-InnerBanner",setup(s){const{state:e}=kt();return(d,a)=>Me((j(),$("div",qi,[Z("h1",Ji,ct(tt(e).currPost.title),1),Z("span",Qi," Đăng vào "+ct(Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(tt(e).currPost.create)))+" | Khoảng "+ct(tt(e).currPost.wordCount)+" chữ ",1)],512)),[[_n,tt(e).currPost.title]])}}),$i=Ct(Ki,[["__scopeId","data-v-3ad3a1d5"]]),ta="/bluearchive/assets/NotFound.BbqB1acd.webp",ea={class:"not-found"},na={class:"band"},ra=["href"],ia=ft({__name:"NotFound",setup(s){const e=It().site.value.base;return(d,a)=>(j(),$("div",ea,[a[0]||(a[0]=Z("img",{src:ta,alt:""},null,-1)),a[1]||(a[1]=Z("span",null,"页面不存在",-1)),Z("span",na,[Z("a",{href:tt(e)},"回到主页",8,ra)])]))}}),aa=Ct(ia,[["__scopeId","data-v-a820399f"]]),sa="/bluearchive/assets/toTop.Cuiv4RfP.svg",Ze="bottom: -25%; right: -25%; opacity: 0;",oa=ft({__name:"ToTop",setup(s){const e=lt(Ze),d=()=>{window.requestAnimationFrame(()=>{window.scrollY>600?e.value="bottom: 50px":e.value=Ze})},a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return xt(()=>{window.addEventListener("scroll",d),d()}),Zt(()=>{window.removeEventListener("scroll",d)}),(t,r)=>(j(),$("a",{href:"#",class:"totop",onClick:a,style:ue(e.value),"aria-label":"to-top"},[Z("img",{onDragstart:r[0]||(r[0]=ee(()=>{},["prevent"])),src:sa,alt:""},null,32)],4))}}),ha=Ct(oa,[["__scopeId","data-v-a51efd29"]]),la={class:"fireworks"},ca=ft({__name:"Fireworks",setup(s){const{state:e}=kt();function d(){document.removeEventListener("mousedown",a),window.removeEventListener("resize",t)}let a,t;function r(){d();const n=["102, 167, 221","62, 131, 225","33, 78, 194"],i=["252, 146, 174","202, 180, 190","207, 198, 255"],c={colors:e.darkMode==="dark"?i:n,numberOfParticles:20,orbitRadius:{min:50,max:100},circleRadius:{min:10,max:20},diffuseRadius:{min:50,max:100},animeDuration:{min:900,max:1500}};let h=0,f=0;const u=c.colors,o=document.querySelector(".fireworks"),l=o.getContext("2d");function m(y){y.width=window.innerWidth,y.height=window.innerHeight,y.style.width=`${window.innerWidth}px`,y.style.height=`${window.innerHeight}px`}function v(y){var p,T,w,I;h=y instanceof MouseEvent?y.clientX:((p=y.touches[0])==null?void 0:p.clientX)||((T=y.changedTouches[0])==null?void 0:T.clientX),f=y instanceof MouseEvent?y.clientY:((w=y.touches[0])==null?void 0:w.clientY)||((I=y.changedTouches[0])==null?void 0:I.clientY)}function g(y){const p=et.random(0,360)*Math.PI/180,T=et.random(c.diffuseRadius.min,c.diffuseRadius.max),w=[-1,1][et.random(0,1)]*T;return{x:y.x+w*Math.cos(p),y:y.y+w*Math.sin(p)}}function M(y,p){return{x:y,y:p,color:`rgba(${u[et.random(0,u.length-1)]},${et.random(.2,.8)})`,radius:et.random(c.circleRadius.min,c.circleRadius.max),angle:et.random(0,360),endPos:g({x:y,y:p}),draw(){l.save(),l.translate(this.x,this.y),l.rotate(this.angle*Math.PI/180),l.beginPath(),l.moveTo(0,-this.radius),l.lineTo(this.radius*Math.sin(Math.PI/3),this.radius*Math.cos(Math.PI/3)),l.lineTo(-this.radius*Math.sin(Math.PI/3),this.radius*Math.cos(Math.PI/3)),l.closePath(),l.fillStyle=this.color,l.fill(),l.restore()}}}function x(y,p){return{x:y,y:p,color:e.darkMode==="dark"?"rgb(233, 179, 237)":"rgb(106, 159, 255)",radius:.1,alpha:.5,lineWidth:6,draw(){l.globalAlpha=this.alpha,l.beginPath(),l.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),l.lineWidth=this.lineWidth,l.strokeStyle=this.color,l.stroke(),l.globalAlpha=1}}}function R(y){y.animatables.forEach(p=>{const T=p.target;typeof T.draw=="function"&&T.draw()})}function E(y,p){const T=x(y,p),w=Array.from({length:c.numberOfParticles},()=>M(y,p));et.timeline().add({targets:w,x(I){return I.endPos.x},y(I){return I.endPos.y},radius:0,duration:et.random(c.animeDuration.min,c.animeDuration.max),easing:"easeOutExpo",update:R}).add({targets:T,radius:et.random(c.orbitRadius.min,c.orbitRadius.max),lineWidth:0,alpha:{value:0,easing:"linear",duration:et.random(600,800)},duration:et.random(1200,1800),easing:"easeOutExpo",update:R},0)}const A=et({duration:Number.POSITIVE_INFINITY,update:()=>{l.clearRect(0,0,o.width,o.height)}});t=()=>m(o),a=y=>{A.play(),v(y),E(h,f)},document.addEventListener("mousedown",a),window.addEventListener("resize",t),m(o)}return xt(()=>{r()}),jt(()=>e.darkMode,()=>{r()}),Zt(()=>{d()}),(n,i)=>(j(),$("canvas",la))}}),ua=Ct(ca,[["__scopeId","data-v-853edc5f"]]),da="data:image/svg+xml,%3csvg%20width='487'%20height='177'%20viewBox='0%200%20487%20177'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.5%2086.5L0.5%20154.5H20L71.5%2086.5H55L17%20138L21.5%2086.5H4.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M73.5%20102.5L53%20154.5H67.5L87.5%20102.5H73.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M79.5%2088.5L75.5%2098H90L94%2088.5H79.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M117%2088.5L111.5%20102.5H99.5L95%20114.5H106L95%20143.5C94.3333%20147.167%2094.3%20154.5%2099.5%20154.5H118.5L124%20142.5H113.5C112.167%20142.5%20109.9%20141.8%20111.5%20139C113.1%20136.2%20118.5%20122.167%20121%20115.5H135.5L141%20102.5H126.5L132%2088.5H117Z'%20fill='%23128AFA'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M150%20134.5H187L195.5%20114.5C196.833%20110.833%20197.5%20103.3%20189.5%20102.5C181.5%20101.7%20166.167%20102.167%20159.5%20102.5C156.333%20102.667%20148.9%20105.3%20144.5%20114.5C140.1%20123.7%20135.333%20135.333%20133.5%20140C132.5%20144.833%20132.8%20154.5%20142%20154.5H180L185%20142.5H150C148.667%20141.333%20146.8%20138.1%20150%20134.5ZM177%20123H155C153.8%20119.4%20157.5%20115.833%20159.5%20114.5C164.833%20114%20176%20113.5%20178%20115.5C180%20117.5%20178.167%20121.333%20177%20123Z'%20fill='%23128AFA'/%3e%3cpath%20d='M158%2011L190.5%2026L196.5%2028.5L260%2057.5L196.5%20177L266.5%2060.5L337.5%2089L344%2091.5L353.5%2095L344%2090.5L337.5%2087.5L269.5%2056L278.5%2038.5L279.5%2036.5L296%200.5L275%2034.5L274%2036L263%2052.5L199.5%2027L193%2024.5L158%2011Z'%20fill='%23128AFA'/%3e%3cpath%20d='M428%20102.5H391C388.5%20102.667%20382.6%20104.9%20379%20112.5L374%20123.5C372.5%20127.333%20372.2%20135%20383%20135H399.5C401.333%20136.167%20403.6%20139.2%20398%20142H366.5L361.5%20154.5H401C403.167%20154%20408.3%20151.9%20411.5%20147.5C414.7%20143.1%20416.833%20136.333%20417.5%20133.5C418.667%20129.833%20419.4%20122.5%20413%20122.5H390C388.667%20120.833%20387.5%20117%20393.5%20115H422.5L428%20102.5Z'%20fill='%232B2B2B'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M320.891%20135.442H357.891L366.391%20115.442C367.725%20111.775%20368.391%20104.242%20360.391%20103.442C352.391%20102.642%20337.058%20103.108%20330.391%20103.442C327.225%20103.608%20319.791%20106.242%20315.391%20115.442C310.991%20124.642%20306.225%20136.275%20304.391%20140.942C303.391%20145.775%20303.691%20155.442%20312.891%20155.442H350.891L355.891%20143.442H320.891C319.558%20142.275%20317.691%20139.042%20320.891%20135.442ZM347.891%20123.942H325.891C324.691%20120.342%20328.391%20116.775%20330.391%20115.442C335.725%20114.942%20346.891%20114.442%20348.891%20116.442C350.891%20118.442%20349.058%20122.275%20347.891%20123.942Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M263.5%20154.5L278%20115.5C280.167%20111.5%20286%20103.4%20292%20103C298%20102.6%20307.833%20102.833%20312%20103L308%20114.5L295%20115.5C294%20115.833%20291.6%20117.8%20290%20123C288.4%20128.2%20281.333%20146.167%20278%20154.5H263.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M250.5%2098.5L257.5%2086H267C270.167%2086.8333%20276%2090.3%20274%2097.5C272%20104.7%20266.5%20117.5%20264%20123C262.5%20126.833%20256.6%20134.5%20245%20134.5H227.5L235%20121.5H246C247.667%20121.333%20251.3%20120.2%20252.5%20117C253.7%20113.8%20255.333%20109.333%20256%20107.5C256.667%20105.833%20257.6%20102%20256%20100C254.4%2098%20251.667%2098.1667%20250.5%2098.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M218.5%2086H237.5L231.5%2098.5H227.5L219.5%20123L203%20154.5H191.5L218.5%2086Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M190.5%2026C164.5%2039.2%20199.667%2067.5%20220.5%2080H225.5C206.5%2071%20185.897%2050.5%20186.5%2041C186.982%2033.4%20193.368%2029.5%20196.5%2028.5L190.5%2026Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M275%2034.5C235.338%2018.7587%20201.934%2020.6892%20193%2024.5L199.5%2027C206.167%2024%20232.4%2020.8%20274%2036L275%2034.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M344%2090.5C340.782%2068.5268%20299.404%2045.2411%20279.5%2036.5L278.5%2038.5C326.147%2061.2911%20337.49%2082.0562%20337.5%2087.5L344%2090.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M342.5%2096L344%2091.5L337.5%2089C338.7%2090.6%20335.667%2094.3333%20334%2096H342.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M486.5%20103H449.5C447%20103.167%20441.1%20105.4%20437.5%20113L432.5%20124C431%20127.833%20430.7%20135.5%20441.5%20135.5H458C459.833%20136.667%20462.1%20139.7%20456.5%20142.5H425L420%20155H459.5C461.667%20154.5%20466.8%20152.4%20470%20148C473.2%20143.6%20475.333%20136.833%20476%20134C477.167%20130.333%20477.9%20123%20471.5%20123H448.5C447.167%20121.333%20446%20117.5%20452%20115.5H481L486.5%20103Z'%20fill='%232B2B2B'/%3e%3c/svg%3e",fa={class:"container"},va={class:"footer-info"},ma=["href"],pa={class:"footer-logo"},ga=ft({__name:"Footer",setup(s){const e=It().theme.value,d=e.footerName,a=e.poweredList;return(t,r)=>(j(),$("footer",fa,[Z("div",va,[Z("span",null,"© "+ct(new Date().getFullYear())+" "+ct(tt(d)),1),r[2]||(r[2]=Z("br",null,null,-1)),Z("span",null,[r[1]||(r[1]=Xt("Cung cấp bởi ",-1)),(j(!0),$(Rt,null,Ot(tt(a),(n,i)=>(j(),$("span",{class:"powered-list",key:n.url},[Z("a",{href:n.url},ct(n.name),9,ma),Xt(ct(i<tt(a).length-1?" & ":""),1)]))),128))])]),Z("div",pa,[Z("img",{onDragstart:r[0]||(r[0]=ee(()=>{},["prevent"])),src:da,alt:"logo-vitepress"},null,32)])]))}}),Ma=Ct(ga,[["__scopeId","data-v-d4e3e738"]]);var rt=function(){var s=function(e,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])},s(e,d)};return function(e,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");s(e,d);function a(){this.constructor=e}e.prototype=d===null?Object.create(d):(a.prototype=d.prototype,new a)}}(),O;(function(s){var e=function(){function y(p,T,w){if(p==null)throw new Error("name cannot be null.");if(T==null)throw new Error("timelines cannot be null.");this.name=p,this.timelines=T,this.timelineIds=[];for(var I=0;I<T.length;I++)this.timelineIds[T[I].getPropertyId()]=!0;this.duration=w}return y.prototype.hasTimeline=function(p){return this.timelineIds[p]==!0},y.prototype.apply=function(p,T,w,I,F,k,_,N){if(p==null)throw new Error("skeleton cannot be null.");I&&this.duration!=0&&(w%=this.duration,T>0&&(T%=this.duration));for(var L=this.timelines,C=0,S=L.length;C<S;C++)L[C].apply(p,T,w,F,k,_,N)},y.binarySearch=function(p,T,w){w===void 0&&(w=1);var I=0,F=p.length/w-2;if(F==0)return w;for(var k=F>>>1;;){if(p[(k+1)*w]<=T?I=k+1:F=k,I==F)return(I+1)*w;k=I+F>>>1}},y.linearSearch=function(p,T,w){for(var I=0,F=p.length-w;I<=F;I+=w)if(p[I]>T)return I;return-1},y}();s.Animation=e;var d;(function(y){y[y.setup=0]="setup",y[y.first=1]="first",y[y.replace=2]="replace",y[y.add=3]="add"})(d=s.MixBlend||(s.MixBlend={}));var a;(function(y){y[y.mixIn=0]="mixIn",y[y.mixOut=1]="mixOut"})(a=s.MixDirection||(s.MixDirection={}));var t;(function(y){y[y.rotate=0]="rotate",y[y.translate=1]="translate",y[y.scale=2]="scale",y[y.shear=3]="shear",y[y.attachment=4]="attachment",y[y.color=5]="color",y[y.deform=6]="deform",y[y.event=7]="event",y[y.drawOrder=8]="drawOrder",y[y.ikConstraint=9]="ikConstraint",y[y.transformConstraint=10]="transformConstraint",y[y.pathConstraintPosition=11]="pathConstraintPosition",y[y.pathConstraintSpacing=12]="pathConstraintSpacing",y[y.pathConstraintMix=13]="pathConstraintMix",y[y.twoColor=14]="twoColor"})(t=s.TimelineType||(s.TimelineType={}));var r=function(){function y(p){if(p<=0)throw new Error("frameCount must be > 0: "+p);this.curves=s.Utils.newFloatArray((p-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(p){this.curves[p*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(p){this.curves[p*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(p){var T=p*y.BEZIER_SIZE;if(T==this.curves.length)return y.LINEAR;var w=this.curves[T];return w==y.LINEAR?y.LINEAR:w==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(p,T,w,I,F){var k=(-T*2+I)*.03,_=(-w*2+F)*.03,N=((T-I)*3+1)*.006,L=((w-F)*3+1)*.006,C=k*2+N,S=_*2+L,V=T*.3+k+N*.16666667,D=w*.3+_+L*.16666667,W=p*y.BEZIER_SIZE,b=this.curves;b[W++]=y.BEZIER;for(var H=V,Y=D,U=W+y.BEZIER_SIZE-1;W<U;W+=2)b[W]=H,b[W+1]=Y,V+=C,D+=S,C+=N,S+=L,H+=V,Y+=D},y.prototype.getCurvePercent=function(p,T){T=s.MathUtils.clamp(T,0,1);var w=this.curves,I=p*y.BEZIER_SIZE,F=w[I];if(F==y.LINEAR)return T;if(F==y.STEPPED)return 0;I++;for(var k=0,_=I,N=I+y.BEZIER_SIZE-1;I<N;I+=2)if(k=w[I],k>=T){var L=void 0,C=void 0;return I==_?(L=0,C=0):(L=w[I-2],C=w[I-1]),C+(w[I+1]-C)*(T-L)/(k-L)}var S=w[I-1];return S+(1-S)*(T-k)/(1-k)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=10*2-1,y}();s.CurveTimeline=r;var n=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T<<1),w}return p.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},p.prototype.setFrame=function(T,w,I){T<<=1,this.frames[T]=w,this.frames[T+p.ROTATION]=I},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.bones[this.boneIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.rotation=C.data.rotation;return;case d.first:var S=C.data.rotation-C.rotation;C.rotation+=(S-(16384-(16384.499999999996-S/360|0))*360)*k}return}if(I>=L[L.length-p.ENTRIES]){var V=L[L.length+p.PREV_ROTATION];switch(_){case d.setup:C.rotation=C.data.rotation+V*k;break;case d.first:case d.replace:V+=C.data.rotation-C.rotation,V-=(16384-(16384.499999999996-V/360|0))*360;case d.add:C.rotation+=V*k}return}var D=e.binarySearch(L,I,p.ENTRIES),W=L[D+p.PREV_ROTATION],b=L[D],H=this.getCurvePercent((D>>1)-1,1-(I-b)/(L[D+p.PREV_TIME]-b)),Y=L[D+p.ROTATION]-W;switch(Y=W+(Y-(16384-(16384.499999999996-Y/360|0))*360)*H,_){case d.setup:C.rotation=C.data.rotation+(Y-(16384-(16384.499999999996-Y/360|0))*360)*k;break;case d.first:case d.replace:Y+=C.data.rotation-C.rotation;case d.add:C.rotation+=(Y-(16384-(16384.499999999996-Y/360|0))*360)*k}}},p.ENTRIES=2,p.PREV_TIME=-2,p.PREV_ROTATION=-1,p.ROTATION=1,p}(r);s.RotateTimeline=n;var i=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},p.prototype.setFrame=function(T,w,I,F){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.X]=I,this.frames[T+p.Y]=F},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.bones[this.boneIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.x=C.data.x,C.y=C.data.y;return;case d.first:C.x+=(C.data.x-C.x)*k,C.y+=(C.data.y-C.y)*k}return}var S=0,V=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_X],V=L[L.length+p.PREV_Y];else{var D=e.binarySearch(L,I,p.ENTRIES);S=L[D+p.PREV_X],V=L[D+p.PREV_Y];var W=L[D],b=this.getCurvePercent(D/p.ENTRIES-1,1-(I-W)/(L[D+p.PREV_TIME]-W));S+=(L[D+p.X]-S)*b,V+=(L[D+p.Y]-V)*b}switch(_){case d.setup:C.x=C.data.x+S*k,C.y=C.data.y+V*k;break;case d.first:case d.replace:C.x+=(C.data.x+S-C.x)*k,C.y+=(C.data.y+V-C.y)*k;break;case d.add:C.x+=S*k,C.y+=V*k}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p}(r);s.TranslateTimeline=i;var c=function(y){rt(p,y);function p(T){return y.call(this,T)||this}return p.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.bones[this.boneIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.scaleX=C.data.scaleX,C.scaleY=C.data.scaleY;return;case d.first:C.scaleX+=(C.data.scaleX-C.scaleX)*k,C.scaleY+=(C.data.scaleY-C.scaleY)*k}return}var S=0,V=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_X]*C.data.scaleX,V=L[L.length+p.PREV_Y]*C.data.scaleY;else{var D=e.binarySearch(L,I,p.ENTRIES);S=L[D+p.PREV_X],V=L[D+p.PREV_Y];var W=L[D],b=this.getCurvePercent(D/p.ENTRIES-1,1-(I-W)/(L[D+p.PREV_TIME]-W));S=(S+(L[D+p.X]-S)*b)*C.data.scaleX,V=(V+(L[D+p.Y]-V)*b)*C.data.scaleY}if(k==1)_==d.add?(C.scaleX+=S-C.data.scaleX,C.scaleY+=V-C.data.scaleY):(C.scaleX=S,C.scaleY=V);else{var H=0,Y=0;if(N==a.mixOut)switch(_){case d.setup:H=C.data.scaleX,Y=C.data.scaleY,C.scaleX=H+(Math.abs(S)*s.MathUtils.signum(H)-H)*k,C.scaleY=Y+(Math.abs(V)*s.MathUtils.signum(Y)-Y)*k;break;case d.first:case d.replace:H=C.scaleX,Y=C.scaleY,C.scaleX=H+(Math.abs(S)*s.MathUtils.signum(H)-H)*k,C.scaleY=Y+(Math.abs(V)*s.MathUtils.signum(Y)-Y)*k;break;case d.add:H=C.scaleX,Y=C.scaleY,C.scaleX=H+(Math.abs(S)*s.MathUtils.signum(H)-C.data.scaleX)*k,C.scaleY=Y+(Math.abs(V)*s.MathUtils.signum(Y)-C.data.scaleY)*k}else switch(_){case d.setup:H=Math.abs(C.data.scaleX)*s.MathUtils.signum(S),Y=Math.abs(C.data.scaleY)*s.MathUtils.signum(V),C.scaleX=H+(S-H)*k,C.scaleY=Y+(V-Y)*k;break;case d.first:case d.replace:H=Math.abs(C.scaleX)*s.MathUtils.signum(S),Y=Math.abs(C.scaleY)*s.MathUtils.signum(V),C.scaleX=H+(S-H)*k,C.scaleY=Y+(V-Y)*k;break;case d.add:H=s.MathUtils.signum(S),Y=s.MathUtils.signum(V),C.scaleX=Math.abs(C.scaleX)*H+(S-Math.abs(C.data.scaleX)*H)*k,C.scaleY=Math.abs(C.scaleY)*Y+(V-Math.abs(C.data.scaleY)*Y)*k}}}},p}(i);s.ScaleTimeline=c;var h=function(y){rt(p,y);function p(T){return y.call(this,T)||this}return p.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.bones[this.boneIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.shearX=C.data.shearX,C.shearY=C.data.shearY;return;case d.first:C.shearX+=(C.data.shearX-C.shearX)*k,C.shearY+=(C.data.shearY-C.shearY)*k}return}var S=0,V=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_X],V=L[L.length+p.PREV_Y];else{var D=e.binarySearch(L,I,p.ENTRIES);S=L[D+p.PREV_X],V=L[D+p.PREV_Y];var W=L[D],b=this.getCurvePercent(D/p.ENTRIES-1,1-(I-W)/(L[D+p.PREV_TIME]-W));S=S+(L[D+p.X]-S)*b,V=V+(L[D+p.Y]-V)*b}switch(_){case d.setup:C.shearX=C.data.shearX+S*k,C.shearY=C.data.shearY+V*k;break;case d.first:case d.replace:C.shearX+=(C.data.shearX+S-C.shearX)*k,C.shearY+=(C.data.shearY+V-C.shearY)*k;break;case d.add:C.shearX+=S*k,C.shearY+=V*k}}},p}(i);s.ShearTimeline=h;var f=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},p.prototype.setFrame=function(T,w,I,F,k,_){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.R]=I,this.frames[T+p.G]=F,this.frames[T+p.B]=k,this.frames[T+p.A]=_},p.prototype.apply=function(T,w,I,F,k,_,N){var L=T.slots[this.slotIndex];if(L.bone.active){var C=this.frames;if(I<C[0]){switch(_){case d.setup:L.color.setFromColor(L.data.color);return;case d.first:var S=L.color,V=L.data.color;S.add((V.r-S.r)*k,(V.g-S.g)*k,(V.b-S.b)*k,(V.a-S.a)*k)}return}var D=0,W=0,b=0,H=0;if(I>=C[C.length-p.ENTRIES]){var Y=C.length;D=C[Y+p.PREV_R],W=C[Y+p.PREV_G],b=C[Y+p.PREV_B],H=C[Y+p.PREV_A]}else{var U=e.binarySearch(C,I,p.ENTRIES);D=C[U+p.PREV_R],W=C[U+p.PREV_G],b=C[U+p.PREV_B],H=C[U+p.PREV_A];var B=C[U],P=this.getCurvePercent(U/p.ENTRIES-1,1-(I-B)/(C[U+p.PREV_TIME]-B));D+=(C[U+p.R]-D)*P,W+=(C[U+p.G]-W)*P,b+=(C[U+p.B]-b)*P,H+=(C[U+p.A]-H)*P}if(k==1)L.color.set(D,W,b,H);else{var S=L.color;_==d.setup&&S.setFromColor(L.data.color),S.add((D-S.r)*k,(W-S.g)*k,(b-S.b)*k,(H-S.a)*k)}}},p.ENTRIES=5,p.PREV_TIME=-5,p.PREV_R=-4,p.PREV_G=-3,p.PREV_B=-2,p.PREV_A=-1,p.R=1,p.G=2,p.B=3,p.A=4,p}(r);s.ColorTimeline=f;var u=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},p.prototype.setFrame=function(T,w,I,F,k,_,N,L,C){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.R]=I,this.frames[T+p.G]=F,this.frames[T+p.B]=k,this.frames[T+p.A]=_,this.frames[T+p.R2]=N,this.frames[T+p.G2]=L,this.frames[T+p.B2]=C},p.prototype.apply=function(T,w,I,F,k,_,N){var L=T.slots[this.slotIndex];if(L.bone.active){var C=this.frames;if(I<C[0]){switch(_){case d.setup:L.color.setFromColor(L.data.color),L.darkColor.setFromColor(L.data.darkColor);return;case d.first:var S=L.color,V=L.darkColor,D=L.data.color,W=L.data.darkColor;S.add((D.r-S.r)*k,(D.g-S.g)*k,(D.b-S.b)*k,(D.a-S.a)*k),V.add((W.r-V.r)*k,(W.g-V.g)*k,(W.b-V.b)*k,0)}return}var b=0,H=0,Y=0,U=0,B=0,P=0,G=0;if(I>=C[C.length-p.ENTRIES]){var z=C.length;b=C[z+p.PREV_R],H=C[z+p.PREV_G],Y=C[z+p.PREV_B],U=C[z+p.PREV_A],B=C[z+p.PREV_R2],P=C[z+p.PREV_G2],G=C[z+p.PREV_B2]}else{var X=e.binarySearch(C,I,p.ENTRIES);b=C[X+p.PREV_R],H=C[X+p.PREV_G],Y=C[X+p.PREV_B],U=C[X+p.PREV_A],B=C[X+p.PREV_R2],P=C[X+p.PREV_G2],G=C[X+p.PREV_B2];var J=C[X],Q=this.getCurvePercent(X/p.ENTRIES-1,1-(I-J)/(C[X+p.PREV_TIME]-J));b+=(C[X+p.R]-b)*Q,H+=(C[X+p.G]-H)*Q,Y+=(C[X+p.B]-Y)*Q,U+=(C[X+p.A]-U)*Q,B+=(C[X+p.R2]-B)*Q,P+=(C[X+p.G2]-P)*Q,G+=(C[X+p.B2]-G)*Q}if(k==1)L.color.set(b,H,Y,U),L.darkColor.set(B,P,G,1);else{var S=L.color,V=L.darkColor;_==d.setup&&(S.setFromColor(L.data.color),V.setFromColor(L.data.darkColor)),S.add((b-S.r)*k,(H-S.g)*k,(Y-S.b)*k,(U-S.a)*k),V.add((B-V.r)*k,(P-V.g)*k,(G-V.b)*k,0)}}},p.ENTRIES=8,p.PREV_TIME=-8,p.PREV_R=-7,p.PREV_G=-6,p.PREV_B=-5,p.PREV_A=-4,p.PREV_R2=-3,p.PREV_G2=-2,p.PREV_B2=-1,p.R=1,p.G=2,p.B=3,p.A=4,p.R2=5,p.G2=6,p.B2=7,p}(r);s.TwoColorTimeline=u;var o=function(){function y(p){this.frames=s.Utils.newFloatArray(p),this.attachmentNames=new Array(p)}return y.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},y.prototype.getFrameCount=function(){return this.frames.length},y.prototype.setFrame=function(p,T,w){this.frames[p]=T,this.attachmentNames[p]=w},y.prototype.apply=function(p,T,w,I,F,k,_){var N=p.slots[this.slotIndex];if(N.bone.active){if(_==a.mixOut){k==d.setup&&this.setAttachment(p,N,N.data.attachmentName);return}var L=this.frames;if(w<L[0]){(k==d.setup||k==d.first)&&this.setAttachment(p,N,N.data.attachmentName);return}var C=0;w>=L[L.length-1]?C=L.length-1:C=e.binarySearch(L,w,1)-1;var S=this.attachmentNames[C];p.slots[this.slotIndex].setAttachment(S==null?null:p.getAttachment(this.slotIndex,S))}},y.prototype.setAttachment=function(p,T,w){T.setAttachment(w==null?null:p.getAttachment(this.slotIndex,w))},y}();s.AttachmentTimeline=o;var l=null,m=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T),w.frameVertices=new Array(T),l==null&&(l=s.Utils.newFloatArray(64)),w}return p.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},p.prototype.setFrame=function(T,w,I){this.frames[T]=w,this.frameVertices[T]=I},p.prototype.apply=function(T,w,I,F,k,_,N){var L=T.slots[this.slotIndex];if(L.bone.active){var C=L.getAttachment();if(!(!(C instanceof s.VertexAttachment)||C.deformAttachment!=this.attachment)){var S=L.deform;S.length==0&&(_=d.setup);var V=this.frameVertices,D=V[0].length,W=this.frames;if(I<W[0]){var b=C;switch(_){case d.setup:S.length=0;return;case d.first:if(k==1){S.length=0;break}var H=s.Utils.setArraySize(S,D);if(b.bones==null)for(var Y=b.vertices,U=0;U<D;U++)H[U]+=(Y[U]-H[U])*k;else{k=1-k;for(var U=0;U<D;U++)H[U]*=k}}return}var B=s.Utils.setArraySize(S,D);if(I>=W[W.length-1]){var P=V[W.length-1];if(k==1)if(_==d.add){var b=C;if(b.bones==null)for(var Y=b.vertices,G=0;G<D;G++)B[G]+=P[G]-Y[G];else for(var z=0;z<D;z++)B[z]+=P[z]}else s.Utils.arrayCopy(P,0,B,0,D);else switch(_){case d.setup:{var X=C;if(X.bones==null)for(var Y=X.vertices,J=0;J<D;J++){var Q=Y[J];B[J]=Q+(P[J]-Q)*k}else for(var nt=0;nt<D;nt++)B[nt]=P[nt]*k;break}case d.first:case d.replace:for(var K=0;K<D;K++)B[K]+=(P[K]-B[K])*k;break;case d.add:var b=C;if(b.bones==null)for(var Y=b.vertices,ht=0;ht<D;ht++)B[ht]+=(P[ht]-Y[ht])*k;else for(var ot=0;ot<D;ot++)B[ot]+=P[ot]*k}return}var vt=e.binarySearch(W,I),mt=V[vt-1],ut=V[vt],pt=W[vt],st=this.getCurvePercent(vt-1,1-(I-pt)/(W[vt-1]-pt));if(k==1)if(_==d.add){var b=C;if(b.bones==null)for(var Y=b.vertices,at=0;at<D;at++){var it=mt[at];B[at]+=it+(ut[at]-it)*st-Y[at]}else for(var At=0;At<D;At++){var it=mt[At];B[At]+=it+(ut[At]-it)*st}}else for(var yt=0;yt<D;yt++){var it=mt[yt];B[yt]=it+(ut[yt]-it)*st}else switch(_){case d.setup:{var Ft=C;if(Ft.bones==null)for(var Y=Ft.vertices,Et=0;Et<D;Et++){var it=mt[Et],Q=Y[Et];B[Et]=Q+(it+(ut[Et]-it)*st-Q)*k}else for(var Lt=0;Lt<D;Lt++){var it=mt[Lt];B[Lt]=(it+(ut[Lt]-it)*st)*k}break}case d.first:case d.replace:for(var dt=0;dt<D;dt++){var it=mt[dt];B[dt]+=(it+(ut[dt]-it)*st-B[dt])*k}break;case d.add:var b=C;if(b.bones==null)for(var Y=b.vertices,Tt=0;Tt<D;Tt++){var it=mt[Tt];B[Tt]+=(it+(ut[Tt]-it)*st-Y[Tt])*k}else for(var Ut=0;Ut<D;Ut++){var it=mt[Ut];B[Ut]+=(it+(ut[Ut]-it)*st)*k}}}}},p}(r);s.DeformTimeline=m;var v=function(){function y(p){this.frames=s.Utils.newFloatArray(p),this.events=new Array(p)}return y.prototype.getPropertyId=function(){return t.event<<24},y.prototype.getFrameCount=function(){return this.frames.length},y.prototype.setFrame=function(p,T){this.frames[p]=T.time,this.events[p]=T},y.prototype.apply=function(p,T,w,I,F,k,_){if(I!=null){var N=this.frames,L=this.frames.length;if(T>w)this.apply(p,T,Number.MAX_VALUE,I,F,k,_),T=-1;else if(T>=N[L-1])return;if(!(w<N[0])){var C=0;if(T<N[0])C=0;else{C=e.binarySearch(N,T);for(var S=N[C];C>0&&N[C-1]==S;)C--}for(;C<L&&w>=N[C];C++)I.push(this.events[C])}}},y}();s.EventTimeline=v;var g=function(){function y(p){this.frames=s.Utils.newFloatArray(p),this.drawOrders=new Array(p)}return y.prototype.getPropertyId=function(){return t.drawOrder<<24},y.prototype.getFrameCount=function(){return this.frames.length},y.prototype.setFrame=function(p,T,w){this.frames[p]=T,this.drawOrders[p]=w},y.prototype.apply=function(p,T,w,I,F,k,_){var N=p.drawOrder,L=p.slots;if(_==a.mixOut){k==d.setup&&s.Utils.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length);return}var C=this.frames;if(w<C[0]){(k==d.setup||k==d.first)&&s.Utils.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length);return}var S=0;w>=C[C.length-1]?S=C.length-1:S=e.binarySearch(C,w)-1;var V=this.drawOrders[S];if(V==null)s.Utils.arrayCopy(L,0,N,0,L.length);else for(var D=0,W=V.length;D<W;D++)N[D]=L[V[D]]},y}();s.DrawOrderTimeline=g;var M=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},p.prototype.setFrame=function(T,w,I,F,k,_,N){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.MIX]=I,this.frames[T+p.SOFTNESS]=F,this.frames[T+p.BEND_DIRECTION]=k,this.frames[T+p.COMPRESS]=_?1:0,this.frames[T+p.STRETCH]=N?1:0},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.ikConstraints[this.ikConstraintIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.mix=C.data.mix,C.softness=C.data.softness,C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch;return;case d.first:C.mix+=(C.data.mix-C.mix)*k,C.softness+=(C.data.softness-C.softness)*k,C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch}return}if(I>=L[L.length-p.ENTRIES]){_==d.setup?(C.mix=C.data.mix+(L[L.length+p.PREV_MIX]-C.data.mix)*k,C.softness=C.data.softness+(L[L.length+p.PREV_SOFTNESS]-C.data.softness)*k,N==a.mixOut?(C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch):(C.bendDirection=L[L.length+p.PREV_BEND_DIRECTION],C.compress=L[L.length+p.PREV_COMPRESS]!=0,C.stretch=L[L.length+p.PREV_STRETCH]!=0)):(C.mix+=(L[L.length+p.PREV_MIX]-C.mix)*k,C.softness+=(L[L.length+p.PREV_SOFTNESS]-C.softness)*k,N==a.mixIn&&(C.bendDirection=L[L.length+p.PREV_BEND_DIRECTION],C.compress=L[L.length+p.PREV_COMPRESS]!=0,C.stretch=L[L.length+p.PREV_STRETCH]!=0));return}var S=e.binarySearch(L,I,p.ENTRIES),V=L[S+p.PREV_MIX],D=L[S+p.PREV_SOFTNESS],W=L[S],b=this.getCurvePercent(S/p.ENTRIES-1,1-(I-W)/(L[S+p.PREV_TIME]-W));_==d.setup?(C.mix=C.data.mix+(V+(L[S+p.MIX]-V)*b-C.data.mix)*k,C.softness=C.data.softness+(D+(L[S+p.SOFTNESS]-D)*b-C.data.softness)*k,N==a.mixOut?(C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch):(C.bendDirection=L[S+p.PREV_BEND_DIRECTION],C.compress=L[S+p.PREV_COMPRESS]!=0,C.stretch=L[S+p.PREV_STRETCH]!=0)):(C.mix+=(V+(L[S+p.MIX]-V)*b-C.mix)*k,C.softness+=(D+(L[S+p.SOFTNESS]-D)*b-C.softness)*k,N==a.mixIn&&(C.bendDirection=L[S+p.PREV_BEND_DIRECTION],C.compress=L[S+p.PREV_COMPRESS]!=0,C.stretch=L[S+p.PREV_STRETCH]!=0))}},p.ENTRIES=6,p.PREV_TIME=-6,p.PREV_MIX=-5,p.PREV_SOFTNESS=-4,p.PREV_BEND_DIRECTION=-3,p.PREV_COMPRESS=-2,p.PREV_STRETCH=-1,p.MIX=1,p.SOFTNESS=2,p.BEND_DIRECTION=3,p.COMPRESS=4,p.STRETCH=5,p}(r);s.IkConstraintTimeline=M;var x=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},p.prototype.setFrame=function(T,w,I,F,k,_){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.ROTATE]=I,this.frames[T+p.TRANSLATE]=F,this.frames[T+p.SCALE]=k,this.frames[T+p.SHEAR]=_},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.transformConstraints[this.transformConstraintIndex];if(C.active){if(I<L[0]){var S=C.data;switch(_){case d.setup:C.rotateMix=S.rotateMix,C.translateMix=S.translateMix,C.scaleMix=S.scaleMix,C.shearMix=S.shearMix;return;case d.first:C.rotateMix+=(S.rotateMix-C.rotateMix)*k,C.translateMix+=(S.translateMix-C.translateMix)*k,C.scaleMix+=(S.scaleMix-C.scaleMix)*k,C.shearMix+=(S.shearMix-C.shearMix)*k}return}var V=0,D=0,W=0,b=0;if(I>=L[L.length-p.ENTRIES]){var H=L.length;V=L[H+p.PREV_ROTATE],D=L[H+p.PREV_TRANSLATE],W=L[H+p.PREV_SCALE],b=L[H+p.PREV_SHEAR]}else{var Y=e.binarySearch(L,I,p.ENTRIES);V=L[Y+p.PREV_ROTATE],D=L[Y+p.PREV_TRANSLATE],W=L[Y+p.PREV_SCALE],b=L[Y+p.PREV_SHEAR];var U=L[Y],B=this.getCurvePercent(Y/p.ENTRIES-1,1-(I-U)/(L[Y+p.PREV_TIME]-U));V+=(L[Y+p.ROTATE]-V)*B,D+=(L[Y+p.TRANSLATE]-D)*B,W+=(L[Y+p.SCALE]-W)*B,b+=(L[Y+p.SHEAR]-b)*B}if(_==d.setup){var S=C.data;C.rotateMix=S.rotateMix+(V-S.rotateMix)*k,C.translateMix=S.translateMix+(D-S.translateMix)*k,C.scaleMix=S.scaleMix+(W-S.scaleMix)*k,C.shearMix=S.shearMix+(b-S.shearMix)*k}else C.rotateMix+=(V-C.rotateMix)*k,C.translateMix+=(D-C.translateMix)*k,C.scaleMix+=(W-C.scaleMix)*k,C.shearMix+=(b-C.shearMix)*k}},p.ENTRIES=5,p.PREV_TIME=-5,p.PREV_ROTATE=-4,p.PREV_TRANSLATE=-3,p.PREV_SCALE=-2,p.PREV_SHEAR=-1,p.ROTATE=1,p.TRANSLATE=2,p.SCALE=3,p.SHEAR=4,p}(r);s.TransformConstraintTimeline=x;var R=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(T,w,I){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.VALUE]=I},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.pathConstraints[this.pathConstraintIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.position=C.data.position;return;case d.first:C.position+=(C.data.position-C.position)*k}return}var S=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_VALUE];else{var V=e.binarySearch(L,I,p.ENTRIES);S=L[V+p.PREV_VALUE];var D=L[V],W=this.getCurvePercent(V/p.ENTRIES-1,1-(I-D)/(L[V+p.PREV_TIME]-D));S+=(L[V+p.VALUE]-S)*W}_==d.setup?C.position=C.data.position+(S-C.data.position)*k:C.position+=(S-C.position)*k}},p.ENTRIES=2,p.PREV_TIME=-2,p.PREV_VALUE=-1,p.VALUE=1,p}(r);s.PathConstraintPositionTimeline=R;var E=function(y){rt(p,y);function p(T){return y.call(this,T)||this}return p.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.pathConstraints[this.pathConstraintIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.spacing=C.data.spacing;return;case d.first:C.spacing+=(C.data.spacing-C.spacing)*k}return}var S=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_VALUE];else{var V=e.binarySearch(L,I,p.ENTRIES);S=L[V+p.PREV_VALUE];var D=L[V],W=this.getCurvePercent(V/p.ENTRIES-1,1-(I-D)/(L[V+p.PREV_TIME]-D));S+=(L[V+p.VALUE]-S)*W}_==d.setup?C.spacing=C.data.spacing+(S-C.data.spacing)*k:C.spacing+=(S-C.spacing)*k}},p}(R);s.PathConstraintSpacingTimeline=E;var A=function(y){rt(p,y);function p(T){var w=y.call(this,T)||this;return w.frames=s.Utils.newFloatArray(T*p.ENTRIES),w}return p.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(T,w,I,F){T*=p.ENTRIES,this.frames[T]=w,this.frames[T+p.ROTATE]=I,this.frames[T+p.TRANSLATE]=F},p.prototype.apply=function(T,w,I,F,k,_,N){var L=this.frames,C=T.pathConstraints[this.pathConstraintIndex];if(C.active){if(I<L[0]){switch(_){case d.setup:C.rotateMix=C.data.rotateMix,C.translateMix=C.data.translateMix;return;case d.first:C.rotateMix+=(C.data.rotateMix-C.rotateMix)*k,C.translateMix+=(C.data.translateMix-C.translateMix)*k}return}var S=0,V=0;if(I>=L[L.length-p.ENTRIES])S=L[L.length+p.PREV_ROTATE],V=L[L.length+p.PREV_TRANSLATE];else{var D=e.binarySearch(L,I,p.ENTRIES);S=L[D+p.PREV_ROTATE],V=L[D+p.PREV_TRANSLATE];var W=L[D],b=this.getCurvePercent(D/p.ENTRIES-1,1-(I-W)/(L[D+p.PREV_TIME]-W));S+=(L[D+p.ROTATE]-S)*b,V+=(L[D+p.TRANSLATE]-V)*b}_==d.setup?(C.rotateMix=C.data.rotateMix+(S-C.data.rotateMix)*k,C.translateMix=C.data.translateMix+(V-C.data.translateMix)*k):(C.rotateMix+=(S-C.rotateMix)*k,C.translateMix+=(V-C.translateMix)*k)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_ROTATE=-2,p.PREV_TRANSLATE=-1,p.ROTATE=1,p.TRANSLATE=2,p}(r);s.PathConstraintMixTimeline=A})(O||(O={}));var O;(function(s){var e=function(){function n(i){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new a(this),this.propertyIDs=new s.IntSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool(function(){return new d}),this.data=i}return n.prototype.update=function(i){i*=this.timeScale;for(var c=this.tracks,h=0,f=c.length;h<f;h++){var u=c[h];if(u!=null){u.animationLast=u.nextAnimationLast,u.trackLast=u.nextTrackLast;var o=i*u.timeScale;if(u.delay>0){if(u.delay-=o,u.delay>0)continue;o=-u.delay,u.delay=0}var l=u.next;if(l!=null){var m=u.trackLast-l.delay;if(m>=0){for(l.delay=0,l.trackTime+=u.timeScale==0?0:(m/u.timeScale+i)*l.timeScale,u.trackTime+=o,this.setCurrent(h,l,!0);l.mixingFrom!=null;)l.mixTime+=i,l=l.mixingFrom;continue}}else if(u.trackLast>=u.trackEnd&&u.mixingFrom==null){c[h]=null,this.queue.end(u),this.disposeNext(u);continue}if(u.mixingFrom!=null&&this.updateMixingFrom(u,i)){var v=u.mixingFrom;for(u.mixingFrom=null,v!=null&&(v.mixingTo=null);v!=null;)this.queue.end(v),v=v.mixingFrom}u.trackTime+=o}}this.queue.drain()},n.prototype.updateMixingFrom=function(i,c){var h=i.mixingFrom;if(h==null)return!0;var f=this.updateMixingFrom(h,c);return h.animationLast=h.nextAnimationLast,h.trackLast=h.nextTrackLast,i.mixTime>0&&i.mixTime>=i.mixDuration?((h.totalAlpha==0||i.mixDuration==0)&&(i.mixingFrom=h.mixingFrom,h.mixingFrom!=null&&(h.mixingFrom.mixingTo=i),i.interruptAlpha=h.interruptAlpha,this.queue.end(h)),f):(h.trackTime+=c*h.timeScale,i.mixTime+=c,!1)},n.prototype.apply=function(i){if(i==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var c=this.events,h=this.tracks,f=!1,u=0,o=h.length;u<o;u++){var l=h[u];if(!(l==null||l.delay>0)){f=!0;var m=u==0?s.MixBlend.first:l.mixBlend,v=l.alpha;l.mixingFrom!=null?v*=this.applyMixingFrom(l,i,m):l.trackTime>=l.trackEnd&&l.next==null&&(v=0);var g=l.animationLast,M=l.getAnimationTime(),x=l.animation.timelines.length,R=l.animation.timelines;if(u==0&&v==1||m==s.MixBlend.add)for(var E=0;E<x;E++){s.Utils.webkit602BugfixHelper(v,m);var A=R[E];A instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(A,i,M,m,!0):A.apply(i,g,M,c,v,m,s.MixDirection.mixIn)}else{var y=l.timelineMode,p=l.timelinesRotation.length==0;p&&s.Utils.setArraySize(l.timelinesRotation,x<<1,null);for(var T=l.timelinesRotation,E=0;E<x;E++){var w=R[E],I=y[E]==n.SUBSEQUENT?m:s.MixBlend.setup;w instanceof s.RotateTimeline?this.applyRotateTimeline(w,i,M,v,I,T,E<<1,p):w instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(w,i,M,m,!0):(s.Utils.webkit602BugfixHelper(v,m),w.apply(i,g,M,c,v,I,s.MixDirection.mixIn))}}this.queueEvents(l,M),c.length=0,l.nextAnimationLast=M,l.nextTrackLast=l.trackTime}}for(var F=this.unkeyedState+n.SETUP,k=i.slots,_=0,N=i.slots.length;_<N;_++){var L=k[_];if(L.attachmentState==F){var C=L.data.attachmentName;L.setAttachment(C==null?null:i.getAttachment(L.data.index,C))}}return this.unkeyedState+=2,this.queue.drain(),f},n.prototype.applyMixingFrom=function(i,c,h){var f=i.mixingFrom;f.mixingFrom!=null&&this.applyMixingFrom(f,c,h);var u=0;i.mixDuration==0?(u=1,h==s.MixBlend.first&&(h=s.MixBlend.setup)):(u=i.mixTime/i.mixDuration,u>1&&(u=1),h!=s.MixBlend.first&&(h=f.mixBlend));var o=u<f.eventThreshold?this.events:null,l=u<f.attachmentThreshold,m=u<f.drawOrderThreshold,v=f.animationLast,g=f.getAnimationTime(),M=f.animation.timelines.length,x=f.animation.timelines,R=f.alpha*i.interruptAlpha,E=R*(1-u);if(h==s.MixBlend.add)for(var A=0;A<M;A++)x[A].apply(c,v,g,o,E,h,s.MixDirection.mixOut);else{var y=f.timelineMode,p=f.timelineHoldMix,T=f.timelinesRotation.length==0;T&&s.Utils.setArraySize(f.timelinesRotation,M<<1,null);var w=f.timelinesRotation;f.totalAlpha=0;for(var A=0;A<M;A++){var I=x[A],F=s.MixDirection.mixOut,k=void 0,_=0;switch(y[A]){case n.SUBSEQUENT:if(!m&&I instanceof s.DrawOrderTimeline)continue;k=h,_=E;break;case n.FIRST:k=s.MixBlend.setup,_=E;break;case n.HOLD_SUBSEQUENT:k=h,_=R;break;case n.HOLD_FIRST:k=s.MixBlend.setup,_=R;break;default:k=s.MixBlend.setup;var N=p[A];_=R*Math.max(0,1-N.mixTime/N.mixDuration);break}f.totalAlpha+=_,I instanceof s.RotateTimeline?this.applyRotateTimeline(I,c,g,_,k,w,A<<1,T):I instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(I,c,g,k,l):(s.Utils.webkit602BugfixHelper(_,h),m&&I instanceof s.DrawOrderTimeline&&k==s.MixBlend.setup&&(F=s.MixDirection.mixIn),I.apply(c,v,g,o,_,k,F))}}return i.mixDuration>0&&this.queueEvents(f,g),this.events.length=0,f.nextAnimationLast=g,f.nextTrackLast=f.trackTime,u},n.prototype.applyAttachmentTimeline=function(i,c,h,f,u){var o=c.slots[i.slotIndex];if(o.bone.active){var l=i.frames;if(h<l[0])(f==s.MixBlend.setup||f==s.MixBlend.first)&&this.setAttachment(c,o,o.data.attachmentName,u);else{var m;h>=l[l.length-1]?m=l.length-1:m=s.Animation.binarySearch(l,h)-1,this.setAttachment(c,o,i.attachmentNames[m],u)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+n.SETUP)}},n.prototype.setAttachment=function(i,c,h,f){c.setAttachment(h==null?null:i.getAttachment(c.data.index,h)),f&&(c.attachmentState=this.unkeyedState+n.CURRENT)},n.prototype.applyRotateTimeline=function(i,c,h,f,u,o,l,m){if(m&&(o[l]=0),f==1){i.apply(c,0,h,null,1,u,s.MixDirection.mixIn);return}var v=i,g=v.frames,M=c.bones[v.boneIndex];if(M.active){var x=0,R=0;if(h<g[0])switch(u){case s.MixBlend.setup:M.rotation=M.data.rotation;default:return;case s.MixBlend.first:x=M.rotation,R=M.data.rotation}else if(x=u==s.MixBlend.setup?M.data.rotation:M.rotation,h>=g[g.length-s.RotateTimeline.ENTRIES])R=M.data.rotation+g[g.length+s.RotateTimeline.PREV_ROTATION];else{var E=s.Animation.binarySearch(g,h,s.RotateTimeline.ENTRIES),A=g[E+s.RotateTimeline.PREV_ROTATION],y=g[E],p=v.getCurvePercent((E>>1)-1,1-(h-y)/(g[E+s.RotateTimeline.PREV_TIME]-y));R=g[E+s.RotateTimeline.ROTATION]-A,R-=(16384-(16384.499999999996-R/360|0))*360,R=A+R*p+M.data.rotation,R-=(16384-(16384.499999999996-R/360|0))*360}var T=0,w=R-x;if(w-=(16384-(16384.499999999996-w/360|0))*360,w==0)T=o[l];else{var I=0,F=0;m?(I=0,F=w):(I=o[l],F=o[l+1]);var k=w>0,_=I>=0;s.MathUtils.signum(F)!=s.MathUtils.signum(w)&&Math.abs(F)<=90&&(Math.abs(I)>180&&(I+=360*s.MathUtils.signum(I)),_=k),T=w+I-I%360,_!=k&&(T+=360*s.MathUtils.signum(I)),o[l]=T}o[l+1]=w,x+=T*f,M.rotation=x-(16384-(16384.499999999996-x/360|0))*360}},n.prototype.queueEvents=function(i,c){for(var h=i.animationStart,f=i.animationEnd,u=f-h,o=i.trackLast%u,l=this.events,m=0,v=l.length;m<v;m++){var g=l[m];if(g.time<o)break;g.time>f||this.queue.event(i,g)}var M=!1;for(i.loop?M=u==0||o>i.trackTime%u:M=c>=f&&i.animationLast<f,M&&this.queue.complete(i);m<v;m++){var x=l[m];x.time<h||this.queue.event(i,l[m])}},n.prototype.clearTracks=function(){var i=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var c=0,h=this.tracks.length;c<h;c++)this.clearTrack(c);this.tracks.length=0,this.queue.drainDisabled=i,this.queue.drain()},n.prototype.clearTrack=function(i){if(!(i>=this.tracks.length)){var c=this.tracks[i];if(c!=null){this.queue.end(c),this.disposeNext(c);for(var h=c;;){var f=h.mixingFrom;if(f==null)break;this.queue.end(f),h.mixingFrom=null,h.mixingTo=null,h=f}this.tracks[c.trackIndex]=null,this.queue.drain()}}},n.prototype.setCurrent=function(i,c,h){var f=this.expandToIndex(i);this.tracks[i]=c,f!=null&&(h&&this.queue.interrupt(f),c.mixingFrom=f,f.mixingTo=c,c.mixTime=0,f.mixingFrom!=null&&f.mixDuration>0&&(c.interruptAlpha*=Math.min(1,f.mixTime/f.mixDuration)),f.timelinesRotation.length=0),this.queue.start(c)},n.prototype.setAnimation=function(i,c,h){var f=this.data.skeletonData.findAnimation(c);if(f==null)throw new Error("Animation not found: "+c);return this.setAnimationWith(i,f,h)},n.prototype.setAnimationWith=function(i,c,h){if(c==null)throw new Error("animation cannot be null.");var f=!0,u=this.expandToIndex(i);u!=null&&(u.nextTrackLast==-1?(this.tracks[i]=u.mixingFrom,this.queue.interrupt(u),this.queue.end(u),this.disposeNext(u),u=u.mixingFrom,f=!1):this.disposeNext(u));var o=this.trackEntry(i,c,h,u);return this.setCurrent(i,o,f),this.queue.drain(),o},n.prototype.addAnimation=function(i,c,h,f){var u=this.data.skeletonData.findAnimation(c);if(u==null)throw new Error("Animation not found: "+c);return this.addAnimationWith(i,u,h,f)},n.prototype.addAnimationWith=function(i,c,h,f){if(c==null)throw new Error("animation cannot be null.");var u=this.expandToIndex(i);if(u!=null)for(;u.next!=null;)u=u.next;var o=this.trackEntry(i,c,h,u);if(u==null)this.setCurrent(i,o,!0),this.queue.drain();else if(u.next=o,f<=0){var l=u.animationEnd-u.animationStart;l!=0?(u.loop?f+=l*(1+(u.trackTime/l|0)):f+=Math.max(l,u.trackTime),f-=this.data.getMix(u.animation,c)):f=u.trackTime}return o.delay=f,o},n.prototype.setEmptyAnimation=function(i,c){var h=this.setAnimationWith(i,n.emptyAnimation,!1);return h.mixDuration=c,h.trackEnd=c,h},n.prototype.addEmptyAnimation=function(i,c,h){h<=0&&(h-=c);var f=this.addAnimationWith(i,n.emptyAnimation,!1,h);return f.mixDuration=c,f.trackEnd=c,f},n.prototype.setEmptyAnimations=function(i){var c=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var h=0,f=this.tracks.length;h<f;h++){var u=this.tracks[h];u!=null&&this.setEmptyAnimation(u.trackIndex,i)}this.queue.drainDisabled=c,this.queue.drain()},n.prototype.expandToIndex=function(i){return i<this.tracks.length?this.tracks[i]:(s.Utils.ensureArrayCapacity(this.tracks,i+1,null),this.tracks.length=i+1,null)},n.prototype.trackEntry=function(i,c,h,f){var u=this.trackEntryPool.obtain();return u.trackIndex=i,u.animation=c,u.loop=h,u.holdPrevious=!1,u.eventThreshold=0,u.attachmentThreshold=0,u.drawOrderThreshold=0,u.animationStart=0,u.animationEnd=c.duration,u.animationLast=-1,u.nextAnimationLast=-1,u.delay=0,u.trackTime=0,u.trackLast=-1,u.nextTrackLast=-1,u.trackEnd=Number.MAX_VALUE,u.timeScale=1,u.alpha=1,u.interruptAlpha=1,u.mixTime=0,u.mixDuration=f==null?0:this.data.getMix(f.animation,c),u.mixBlend=s.MixBlend.replace,u},n.prototype.disposeNext=function(i){for(var c=i.next;c!=null;)this.queue.dispose(c),c=c.next;i.next=null},n.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var i=0,c=this.tracks.length;i<c;i++){var h=this.tracks[i];if(h!=null){for(;h.mixingFrom!=null;)h=h.mixingFrom;do(h.mixingFrom==null||h.mixBlend!=s.MixBlend.add)&&this.computeHold(h),h=h.mixingTo;while(h!=null)}}},n.prototype.computeHold=function(i){var c=i.mixingTo,h=i.animation.timelines,f=i.animation.timelines.length,u=s.Utils.setArraySize(i.timelineMode,f);i.timelineHoldMix.length=0;var o=s.Utils.setArraySize(i.timelineHoldMix,f),l=this.propertyIDs;if(c!=null&&c.holdPrevious){for(var m=0;m<f;m++)u[m]=l.add(h[m].getPropertyId())?n.HOLD_FIRST:n.HOLD_SUBSEQUENT;return}t:for(var m=0;m<f;m++){var v=h[m],g=v.getPropertyId();if(!l.add(g))u[m]=n.SUBSEQUENT;else if(c==null||v instanceof s.AttachmentTimeline||v instanceof s.DrawOrderTimeline||v instanceof s.EventTimeline||!c.animation.hasTimeline(g))u[m]=n.FIRST;else{for(var M=c.mixingTo;M!=null;M=M.mixingTo)if(!M.animation.hasTimeline(g)){if(i.mixDuration>0){u[m]=n.HOLD_MIX,o[m]=M;continue t}break}u[m]=n.HOLD_FIRST}}},n.prototype.getCurrent=function(i){return i>=this.tracks.length?null:this.tracks[i]},n.prototype.addListener=function(i){if(i==null)throw new Error("listener cannot be null.");this.listeners.push(i)},n.prototype.removeListener=function(i){var c=this.listeners.indexOf(i);c>=0&&this.listeners.splice(c,1)},n.prototype.clearListeners=function(){this.listeners.length=0},n.prototype.clearListenerNotifications=function(){this.queue.clear()},n.emptyAnimation=new s.Animation("<empty>",[],0),n.SUBSEQUENT=0,n.FIRST=1,n.HOLD_SUBSEQUENT=2,n.HOLD_FIRST=3,n.HOLD_MIX=4,n.SETUP=1,n.CURRENT=2,n}();s.AnimationState=e;var d=function(){function n(){this.mixBlend=s.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){if(this.loop){var i=this.animationEnd-this.animationStart;return i==0?this.animationStart:this.trackTime%i+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(i){this.animationLast=i,this.nextAnimationLast=i},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},n}();s.TrackEntry=d;var a=function(){function n(i){this.objects=[],this.drainDisabled=!1,this.animState=i}return n.prototype.start=function(i){this.objects.push(t.start),this.objects.push(i),this.animState.animationsChanged=!0},n.prototype.interrupt=function(i){this.objects.push(t.interrupt),this.objects.push(i)},n.prototype.end=function(i){this.objects.push(t.end),this.objects.push(i),this.animState.animationsChanged=!0},n.prototype.dispose=function(i){this.objects.push(t.dispose),this.objects.push(i)},n.prototype.complete=function(i){this.objects.push(t.complete),this.objects.push(i)},n.prototype.event=function(i,c){this.objects.push(t.event),this.objects.push(i),this.objects.push(c)},n.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var i=this.objects,c=this.animState.listeners,h=0;h<i.length;h+=2){var f=i[h],u=i[h+1];switch(f){case t.start:u.listener!=null&&u.listener.start&&u.listener.start(u);for(var o=0;o<c.length;o++)c[o].start&&c[o].start(u);break;case t.interrupt:u.listener!=null&&u.listener.interrupt&&u.listener.interrupt(u);for(var o=0;o<c.length;o++)c[o].interrupt&&c[o].interrupt(u);break;case t.end:u.listener!=null&&u.listener.end&&u.listener.end(u);for(var o=0;o<c.length;o++)c[o].end&&c[o].end(u);case t.dispose:u.listener!=null&&u.listener.dispose&&u.listener.dispose(u);for(var o=0;o<c.length;o++)c[o].dispose&&c[o].dispose(u);this.animState.trackEntryPool.free(u);break;case t.complete:u.listener!=null&&u.listener.complete&&u.listener.complete(u);for(var o=0;o<c.length;o++)c[o].complete&&c[o].complete(u);break;case t.event:var l=i[h+++2];u.listener!=null&&u.listener.event&&u.listener.event(u,l);for(var o=0;o<c.length;o++)c[o].event&&c[o].event(u,l);break}}this.clear(),this.drainDisabled=!1}},n.prototype.clear=function(){this.objects.length=0},n}();s.EventQueue=a;var t;(function(n){n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event"})(t=s.EventType||(s.EventType={}));var r=function(){function n(){}return n.prototype.start=function(i){},n.prototype.interrupt=function(i){},n.prototype.end=function(i){},n.prototype.dispose=function(i){},n.prototype.complete=function(i){},n.prototype.event=function(i,c){},n}();s.AnimationStateAdapter=r})(O||(O={}));var O;(function(s){var e=function(){function d(a){if(this.animationToMixTime={},this.defaultMix=0,a==null)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return d.prototype.setMix=function(a,t,r){var n=this.skeletonData.findAnimation(a);if(n==null)throw new Error("Animation not found: "+a);var i=this.skeletonData.findAnimation(t);if(i==null)throw new Error("Animation not found: "+t);this.setMixWith(n,i,r)},d.prototype.setMixWith=function(a,t,r){if(a==null)throw new Error("from cannot be null.");if(t==null)throw new Error("to cannot be null.");var n=a.name+"."+t.name;this.animationToMixTime[n]=r},d.prototype.getMix=function(a,t){var r=a.name+"."+t.name,n=this.animationToMixTime[r];return n===void 0?this.defaultMix:n},d}();s.AnimationStateData=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){t===void 0&&(t=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=a,this.pathPrefix=t}return d.prototype.downloadText=function(a,t,r){var n=new XMLHttpRequest;n.overrideMimeType("text/html"),this.rawDataUris[a]&&(a=this.rawDataUris[a]),n.open("GET",a,!0),n.onload=function(){n.status==200?t(n.responseText):r(n.status,n.responseText)},n.onerror=function(){r(n.status,n.responseText)},n.send()},d.prototype.downloadBinary=function(a,t,r){var n=new XMLHttpRequest;this.rawDataUris[a]&&(a=this.rawDataUris[a]),n.open("GET",a,!0),n.responseType="arraybuffer",n.onload=function(){n.status==200?t(new Uint8Array(n.response)):r(n.status,n.responseText)},n.onerror=function(){r(n.status,n.responseText)},n.send()},d.prototype.setRawDataURI=function(a,t){this.rawDataUris[this.pathPrefix+a]=t},d.prototype.loadBinary=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a,this.toLoad++,this.downloadBinary(a,function(i){n.assets[a]=i,t&&t(a,i),n.toLoad--,n.loaded++},function(i,c){n.errors[a]="Couldn't load binary ".concat(a,": status ").concat(status,", ").concat(c),r&&r(a,"Couldn't load binary ".concat(a,": status ").concat(status,", ").concat(c)),n.toLoad--,n.loaded++})},d.prototype.loadText=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a,this.toLoad++,this.downloadText(a,function(i){n.assets[a]=i,t&&t(a,i),n.toLoad--,n.loaded++},function(i,c){n.errors[a]="Couldn't load text ".concat(a,": status ").concat(status,", ").concat(c),r&&r(a,"Couldn't load text ".concat(a,": status ").concat(status,", ").concat(c)),n.toLoad--,n.loaded++})},d.prototype.loadTexture=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a;var i=a;this.toLoad++;var c=new Image;c.crossOrigin="anonymous",c.onload=function(h){var f=n.textureLoader(c);n.assets[i]=f,n.toLoad--,n.loaded++,t&&t(a,c)},c.onerror=function(h){n.errors[a]="Couldn't load image ".concat(a),n.toLoad--,n.loaded++,r&&r(a,"Couldn't load image ".concat(a))},this.rawDataUris[a]&&(a=this.rawDataUris[a]),c.src=a},d.prototype.loadTextureAtlas=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null);var i=a.lastIndexOf("/")>=0?a.substring(0,a.lastIndexOf("/")):"";a=this.pathPrefix+a,this.toLoad++,this.downloadText(a,function(c){var h={count:0},f=new Array;try{var u=new s.TextureAtlas(c,function(M){f.push(i==""?M:i+"/"+M);var x=document.createElement("img");return x.width=16,x.height=16,new s.FakeTexture(x)})}catch(M){var o=M;n.errors[a]="Couldn't load texture atlas ".concat(a,": ").concat(o.message),r&&r(a,"Couldn't load texture atlas ".concat(a,": ").concat(o.message)),n.toLoad--,n.loaded++;return}for(var l=function(M){var x=!1;n.loadTexture(M,function(R,E){if(h.count++,h.count==f.length)if(x)n.errors[a]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(a),r&&r(a,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(a)),n.toLoad--,n.loaded++;else try{var A=new s.TextureAtlas(c,function(p){return n.get(i==""?p:i+"/"+p)});n.assets[a]=A,t&&t(a,A),n.toLoad--,n.loaded++}catch(p){var y=p;n.errors[a]="Couldn't load texture atlas ".concat(a,": ").concat(y.message),r&&r(a,"Couldn't load texture atlas ".concat(a,": ").concat(y.message)),n.toLoad--,n.loaded++}},function(R,E){x=!0,h.count++,h.count==f.length&&(n.errors[a]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(a),r&&r(a,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(a)),n.toLoad--,n.loaded++)})},m=0,v=f;m<v.length;m++){var g=v[m];l(g)}},function(c,h){n.errors[a]="Couldn't load texture atlas ".concat(a,": status ").concat(status,", ").concat(h),r&&r(a,"Couldn't load texture atlas ".concat(a,": status ").concat(status,", ").concat(h)),n.toLoad--,n.loaded++})},d.prototype.get=function(a){return a=this.pathPrefix+a,this.assets[a]},d.prototype.remove=function(a){a=this.pathPrefix+a;var t=this.assets[a];t.dispose&&t.dispose(),this.assets[a]=null},d.prototype.removeAll=function(){for(var a in this.assets){var t=this.assets[a];t.dispose&&t.dispose()}this.assets={}},d.prototype.isLoadingComplete=function(){return this.toLoad==0},d.prototype.getToLoad=function(){return this.toLoad},d.prototype.getLoaded=function(){return this.loaded},d.prototype.dispose=function(){this.removeAll()},d.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},d.prototype.getErrors=function(){return this.errors},d}();s.AssetManager=e})(O||(O={}));var O;(function(s){var e=function(){function d(a){this.atlas=a}return d.prototype.newRegionAttachment=function(a,t,r){var n=this.atlas.findRegion(r);if(n==null)throw new Error("Region not found in atlas: "+r+" (region attachment: "+t+")");n.renderObject=n;var i=new s.RegionAttachment(t);return i.setRegion(n),i},d.prototype.newMeshAttachment=function(a,t,r){var n=this.atlas.findRegion(r);if(n==null)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+t+")");n.renderObject=n;var i=new s.MeshAttachment(t);return i.region=n,i},d.prototype.newBoundingBoxAttachment=function(a,t){return new s.BoundingBoxAttachment(t)},d.prototype.newPathAttachment=function(a,t){return new s.PathAttachment(t)},d.prototype.newPointAttachment=function(a,t){return new s.PointAttachment(t)},d.prototype.newClippingAttachment=function(a,t){return new s.ClippingAttachment(t)},d}();s.AtlasAttachmentLoader=e})(O||(O={}));var O;(function(s){(function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"})(s.BlendMode||(s.BlendMode={}))})(O||(O={}));var O;(function(s){var e=function(){function d(a,t,r){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=t,this.parent=r,this.setToSetupPose()}return d.prototype.isActive=function(){return this.active},d.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},d.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},d.prototype.updateWorldTransformWith=function(a,t,r,n,i,c,h){this.ax=a,this.ay=t,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=c,this.ashearY=h,this.appliedValid=!0;var f=this.parent;if(f==null){var u=this.skeleton,o=r+90+h,l=u.scaleX,m=u.scaleY;this.a=s.MathUtils.cosDeg(r+c)*n*l,this.b=s.MathUtils.cosDeg(o)*i*l,this.c=s.MathUtils.sinDeg(r+c)*n*m,this.d=s.MathUtils.sinDeg(o)*i*m,this.worldX=a*l+u.x,this.worldY=t*m+u.y;return}var v=f.a,g=f.b,M=f.c,x=f.d;switch(this.worldX=v*a+g*t+f.worldX,this.worldY=M*a+x*t+f.worldY,this.data.transformMode){case s.TransformMode.Normal:{var o=r+90+h,R=s.MathUtils.cosDeg(r+c)*n,E=s.MathUtils.cosDeg(o)*i,A=s.MathUtils.sinDeg(r+c)*n,y=s.MathUtils.sinDeg(o)*i;this.a=v*R+g*A,this.b=v*E+g*y,this.c=M*R+x*A,this.d=M*E+x*y;return}case s.TransformMode.OnlyTranslation:{var o=r+90+h;this.a=s.MathUtils.cosDeg(r+c)*n,this.b=s.MathUtils.cosDeg(o)*i,this.c=s.MathUtils.sinDeg(r+c)*n,this.d=s.MathUtils.sinDeg(o)*i;break}case s.TransformMode.NoRotationOrReflection:{var p=v*v+M*M,T=0;p>1e-4?(p=Math.abs(v*x-g*M)/p,v/=this.skeleton.scaleX,M/=this.skeleton.scaleY,g=M*p,x=v*p,T=Math.atan2(M,v)*s.MathUtils.radDeg):(v=0,M=0,T=90-Math.atan2(x,g)*s.MathUtils.radDeg);var w=r+c-T,I=r+h-T+90,R=s.MathUtils.cosDeg(w)*n,E=s.MathUtils.cosDeg(I)*i,A=s.MathUtils.sinDeg(w)*n,y=s.MathUtils.sinDeg(I)*i;this.a=v*R-g*A,this.b=v*E-g*y,this.c=M*R+x*A,this.d=M*E+x*y;break}case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:{var F=s.MathUtils.cosDeg(r),k=s.MathUtils.sinDeg(r),_=(v*F+g*k)/this.skeleton.scaleX,N=(M*F+x*k)/this.skeleton.scaleY,p=Math.sqrt(_*_+N*N);p>1e-5&&(p=1/p),_*=p,N*=p,p=Math.sqrt(_*_+N*N),this.data.transformMode==s.TransformMode.NoScale&&v*x-g*M<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p);var L=Math.PI/2+Math.atan2(N,_),C=Math.cos(L)*p,S=Math.sin(L)*p,R=s.MathUtils.cosDeg(c)*n,E=s.MathUtils.cosDeg(90+h)*i,A=s.MathUtils.sinDeg(c)*n,y=s.MathUtils.sinDeg(90+h)*i;this.a=_*R+C*A,this.b=_*E+C*y,this.c=N*R+S*A,this.d=N*E+S*y;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},d.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},d.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*s.MathUtils.radDeg},d.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*s.MathUtils.radDeg},d.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},d.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},d.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var a=this.parent;if(a==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*s.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*s.MathUtils.radDeg;return}var t=a.a,r=a.b,n=a.c,i=a.d,c=1/(t*i-r*n),h=this.worldX-a.worldX,f=this.worldY-a.worldY;this.ax=h*i*c-f*r*c,this.ay=f*t*c-h*n*c;var u=c*i,o=c*t,l=c*r,m=c*n,v=u*this.a-l*this.c,g=u*this.b-l*this.d,M=o*this.c-m*this.a,x=o*this.d-m*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(v*v+M*M),this.ascaleX>1e-4){var R=v*x-g*M;this.ascaleY=R/this.ascaleX,this.ashearY=Math.atan2(v*g+M*x,R)*s.MathUtils.radDeg,this.arotation=Math.atan2(M,v)*s.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(g*g+x*x),this.ashearY=0,this.arotation=90-Math.atan2(x,g)*s.MathUtils.radDeg},d.prototype.worldToLocal=function(a){var t=this.a,r=this.b,n=this.c,i=this.d,c=1/(t*i-r*n),h=a.x-this.worldX,f=a.y-this.worldY;return a.x=h*i*c-f*r*c,a.y=f*t*c-h*n*c,a},d.prototype.localToWorld=function(a){var t=a.x,r=a.y;return a.x=t*this.a+r*this.b+this.worldX,a.y=t*this.c+r*this.d+this.worldY,a},d.prototype.worldToLocalRotation=function(a){var t=s.MathUtils.sinDeg(a),r=s.MathUtils.cosDeg(a);return Math.atan2(this.a*t-this.c*r,this.d*r-this.b*t)*s.MathUtils.radDeg+this.rotation-this.shearX},d.prototype.localToWorldRotation=function(a){a-=this.rotation-this.shearX;var t=s.MathUtils.sinDeg(a),r=s.MathUtils.cosDeg(a);return Math.atan2(r*this.c+t*this.d,r*this.a+t*this.b)*s.MathUtils.radDeg},d.prototype.rotateWorld=function(a){var t=this.a,r=this.b,n=this.c,i=this.d,c=s.MathUtils.cosDeg(a),h=s.MathUtils.sinDeg(a);this.a=c*t-h*n,this.b=c*r-h*i,this.c=h*t+c*n,this.d=h*r+c*i,this.appliedValid=!1},d}();s.Bone=e})(O||(O={}));var O;(function(s){var e=function(){function a(t,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=d.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=t,this.name=r,this.parent=n}return a}();s.BoneData=e;var d;(function(a){a[a.Normal=0]="Normal",a[a.OnlyTranslation=1]="OnlyTranslation",a[a.NoRotationOrReflection=2]="NoRotationOrReflection",a[a.NoScale=3]="NoScale",a[a.NoScaleOrReflection=4]="NoScaleOrReflection"})(d=s.TransformMode||(s.TransformMode={}))})(O||(O={}));var O;(function(s){var e=function(){function d(a,t,r){this.name=a,this.order=t,this.skinRequired=r}return d}();s.ConstraintData=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){if(t==null)throw new Error("data cannot be null.");this.time=a,this.data=t}return d}();s.Event=e})(O||(O={}));var O;(function(s){var e=function(){function d(a){this.name=a}return d}();s.EventData=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.softness=a.softness,this.bendDirection=a.bendDirection,this.compress=a.compress,this.stretch=a.stretch,this.bones=new Array;for(var r=0;r<a.bones.length;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findBone(a.target.name)}return d.prototype.isActive=function(){return this.active},d.prototype.apply=function(){this.update()},d.prototype.update=function(){var a=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],a.worldX,a.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],a.worldX,a.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},d.prototype.apply1=function(a,t,r,n,i,c,h){a.appliedValid||a.updateAppliedTransform();var f=a.parent,u=f.a,o=f.b,l=f.c,m=f.d,v=-a.ashearX-a.arotation,g=0,M=0;switch(a.data.transformMode){case s.TransformMode.OnlyTranslation:g=t-a.worldX,M=r-a.worldY;break;case s.TransformMode.NoRotationOrReflection:var x=Math.abs(u*m-o*l)/(u*u+l*l),R=u/a.skeleton.scaleX,E=l/a.skeleton.scaleY;o=-E*x*a.skeleton.scaleX,m=R*x*a.skeleton.scaleY,v+=Math.atan2(E,R)*s.MathUtils.radDeg;default:var A=t-f.worldX,y=r-f.worldY,p=u*m-o*l;g=(A*m-y*o)/p-a.ax,M=(y*u-A*l)/p-a.ay}v+=Math.atan2(M,g)*s.MathUtils.radDeg,a.ascaleX<0&&(v+=180),v>180?v-=360:v<-180&&(v+=360);var T=a.ascaleX,w=a.ascaleY;if(n||i){switch(a.data.transformMode){case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:g=t-a.worldX,M=r-a.worldY}var I=a.data.length*T,F=Math.sqrt(g*g+M*M);if(n&&F<I||i&&F>I&&I>1e-4){var x=(F/I-1)*h+1;T*=x,c&&(w*=x)}}a.updateWorldTransformWith(a.ax,a.ay,a.arotation+v*h,T,w,a.ashearX,a.ashearY)},d.prototype.apply2=function(a,t,r,n,i,c,h,f){if(f==0){t.updateWorldTransform();return}a.appliedValid||a.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var u=a.ax,o=a.ay,l=a.ascaleX,m=l,v=a.ascaleY,g=t.ascaleX,M=0,x=0,R=0;l<0?(l=-l,M=180,R=-1):(M=0,R=1),v<0&&(v=-v,R=-R),g<0?(g=-g,x=180):x=0;var E=t.ax,A=0,y=0,p=0,T=a.a,w=a.b,I=a.c,F=a.d,k=Math.abs(l-v)<=1e-4;k?(A=t.ay,y=T*E+w*A+a.worldX,p=I*E+F*A+a.worldY):(A=0,y=T*E+a.worldX,p=I*E+a.worldY);var _=a.parent;T=_.a,w=_.b,I=_.c,F=_.d;var N=1/(T*F-w*I),L=y-_.worldX,C=p-_.worldY,S=(L*F-C*w)*N-u,V=(C*T-L*I)*N-o,D=Math.sqrt(S*S+V*V),W=t.data.length*g,b,H;if(D<1e-4){this.apply1(a,r,n,!1,c,!1,f),t.updateWorldTransformWith(E,A,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}L=r-_.worldX,C=n-_.worldY;var Y=(L*F-C*w)*N-u,U=(C*T-L*I)*N-o,B=Y*Y+U*U;if(h!=0){h*=l*(g+1)/2;var P=Math.sqrt(B),G=P-D-W*l+h;if(G>0){var z=Math.min(1,G/(h*2))-1;z=(G-h*(1-z*z))/P,Y-=z*Y,U-=z*U,B=Y*Y+U*U}}t:if(k){W*=l;var X=(B-D*D-W*W)/(2*D*W);X<-1?X=-1:X>1&&(X=1,c&&(m*=(Math.sqrt(B)/(D+W)-1)*f+1)),H=Math.acos(X)*i,T=D+W*X,w=W*Math.sin(H),b=Math.atan2(U*T-Y*w,Y*T+U*w)}else{T=l*W,w=v*W;var J=T*T,Q=w*w,nt=Math.atan2(U,Y);I=Q*D*D+J*B-J*Q;var K=-2*Q*D,ht=Q-J;if(F=K*K-4*ht*I,F>=0){var ot=Math.sqrt(F);K<0&&(ot=-ot),ot=-(K+ot)/2;var vt=ot/ht,mt=I/ot,ut=Math.abs(vt)<Math.abs(mt)?vt:mt;if(ut*ut<=B){C=Math.sqrt(B-ut*ut)*i,b=nt-Math.atan2(C,ut),H=Math.atan2(C/v,(ut-D)/l);break t}}var pt=s.MathUtils.PI,st=D-T,at=st*st,it=0,At=0,yt=D+T,Ft=yt*yt,Et=0;I=-T*D/(J-Q),I>=-1&&I<=1&&(I=Math.acos(I),L=T*Math.cos(I)+D,C=w*Math.sin(I),F=L*L+C*C,F<at&&(pt=I,at=F,st=L,it=C),F>Ft&&(At=I,Ft=F,yt=L,Et=C)),B<=(at+Ft)/2?(b=nt-Math.atan2(it*i,st),H=pt*i):(b=nt-Math.atan2(Et*i,yt),H=At*i)}var Lt=Math.atan2(A,E)*R,dt=a.arotation;b=(b-Lt)*s.MathUtils.radDeg+M-dt,b>180?b-=360:b<-180&&(b+=360),a.updateWorldTransformWith(u,o,dt+b*f,m,a.ascaleY,0,0),dt=t.arotation,H=((H+Lt)*s.MathUtils.radDeg-t.ashearX)*R+x-dt,H>180?H-=360:H<-180&&(H+=360),t.updateWorldTransformWith(E,A,dt+H*f,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},d}();s.IkConstraint=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t,0,!1)||this;return r.bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return a}(s.ConstraintData);s.IkConstraintData=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var r=0,n=a.bones.length;r<n;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return d.prototype.isActive=function(){return this.active},d.prototype.apply=function(){this.update()},d.prototype.update=function(){var a=this.target.getAttachment();if(a instanceof s.PathAttachment){var t=this.rotateMix,r=this.translateMix,n=r>0,i=t>0;if(!(!n&&!i)){var c=this.data,h=c.spacingMode==s.SpacingMode.Percent,f=c.rotateMode,u=f==s.RotateMode.Tangent,o=f==s.RotateMode.ChainScale,l=this.bones.length,m=u?l:l+1,v=this.bones,g=s.Utils.setArraySize(this.spaces,m),M=null,x=this.spacing;if(o||!h){o&&(M=s.Utils.setArraySize(this.lengths,l));for(var R=c.spacingMode==s.SpacingMode.Length,E=0,A=m-1;E<A;){var y=v[E],p=y.data.length;if(p<d.epsilon)o&&(M[E]=0),g[++E]=0;else if(h){if(o){var T=p*y.a,w=p*y.c,I=Math.sqrt(T*T+w*w);M[E]=I}g[++E]=x}else{var T=p*y.a,w=p*y.c,F=Math.sqrt(T*T+w*w);o&&(M[E]=F),g[++E]=(R?p+x:x)*F/p}}}else for(var E=1;E<m;E++)g[E]=x;var k=this.computeWorldPositions(a,m,u,c.positionMode==s.PositionMode.Percent,h),_=k[0],N=k[1],L=c.offsetRotation,C=!1;if(L==0)C=f==s.RotateMode.Chain;else{C=!1;var S=this.target.bone;L*=S.a*S.d-S.b*S.c>0?s.MathUtils.degRad:-s.MathUtils.degRad}for(var E=0,S=3;E<l;E++,S+=3){var y=v[E];y.worldX+=(_-y.worldX)*r,y.worldY+=(N-y.worldY)*r;var T=k[S],w=k[S+1],V=T-_,D=w-N;if(o){var W=M[E];if(W!=0){var b=(Math.sqrt(V*V+D*D)/W-1)*t+1;y.a*=b,y.c*=b}}if(_=T,N=w,i){var H=y.a,Y=y.b,U=y.c,B=y.d,P=0,G=0,z=0;if(u?P=k[S-1]:g[E+1]==0?P=k[S+2]:P=Math.atan2(D,V),P-=Math.atan2(U,H),C){G=Math.cos(P),z=Math.sin(P);var X=y.data.length;_+=(X*(G*H-z*U)-V)*t,N+=(X*(z*H+G*U)-D)*t}else P+=L;P>s.MathUtils.PI?P-=s.MathUtils.PI2:P<-s.MathUtils.PI&&(P+=s.MathUtils.PI2),P*=t,G=Math.cos(P),z=Math.sin(P),y.a=G*H-z*U,y.b=G*Y-z*B,y.c=z*H+G*U,y.d=z*Y+G*B}y.appliedValid=!1}}}},d.prototype.computeWorldPositions=function(a,t,r,n,i){var c=this.target,h=this.position,f=this.spaces,u=s.Utils.setArraySize(this.positions,t*3+2),o=null,l=a.closed,m=a.worldVerticesLength,v=m/6,g=d.NONE;if(!a.constantSpeed){var M=a.lengths;v-=l?1:2;var x=M[v];if(n&&(h*=x),i)for(var R=1;R<t;R++)f[R]*=x;o=s.Utils.setArraySize(this.world,8);for(var R=0,E=0,A=0;R<t;R++,E+=3){var y=f[R];h+=y;var p=h;if(l)p%=x,p<0&&(p+=x),A=0;else if(p<0){g!=d.BEFORE&&(g=d.BEFORE,a.computeWorldVertices(c,2,4,o,0,2)),this.addBeforePosition(p,o,0,u,E);continue}else if(p>x){g!=d.AFTER&&(g=d.AFTER,a.computeWorldVertices(c,m-6,4,o,0,2)),this.addAfterPosition(p-x,o,0,u,E);continue}for(;;A++){var T=M[A];if(!(p>T)){if(A==0)p/=T;else{var w=M[A-1];p=(p-w)/(T-w)}break}}A!=g&&(g=A,l&&A==v?(a.computeWorldVertices(c,m-4,4,o,0,2),a.computeWorldVertices(c,0,4,o,4,2)):a.computeWorldVertices(c,A*6+2,8,o,0,2)),this.addCurvePosition(p,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],u,E,r||R>0&&y==0)}return u}l?(m+=2,o=s.Utils.setArraySize(this.world,m),a.computeWorldVertices(c,2,m-4,o,0,2),a.computeWorldVertices(c,0,2,o,m-4,2),o[m-2]=o[0],o[m-1]=o[1]):(v--,m-=4,o=s.Utils.setArraySize(this.world,m),a.computeWorldVertices(c,2,m,o,0,2));for(var I=s.Utils.setArraySize(this.curves,v),F=0,k=o[0],_=o[1],N=0,L=0,C=0,S=0,V=0,D=0,W=0,b=0,H=0,Y=0,U=0,B=0,P=0,G=0,R=0,z=2;R<v;R++,z+=6)N=o[z],L=o[z+1],C=o[z+2],S=o[z+3],V=o[z+4],D=o[z+5],W=(k-N*2+C)*.1875,b=(_-L*2+S)*.1875,H=((N-C)*3-k+V)*.09375,Y=((L-S)*3-_+D)*.09375,U=W*2+H,B=b*2+Y,P=(N-k)*.75+W+H*.16666667,G=(L-_)*.75+b+Y*.16666667,F+=Math.sqrt(P*P+G*G),P+=U,G+=B,U+=H,B+=Y,F+=Math.sqrt(P*P+G*G),P+=U,G+=B,F+=Math.sqrt(P*P+G*G),P+=U+H,G+=B+Y,F+=Math.sqrt(P*P+G*G),I[R]=F,k=V,_=D;if(n?h*=F:h*=F/a.lengths[v-1],i)for(var R=1;R<t;R++)f[R]*=F;for(var X=this.segments,J=0,R=0,E=0,A=0,Q=0;R<t;R++,E+=3){var y=f[R];h+=y;var p=h;if(l)p%=F,p<0&&(p+=F),A=0;else if(p<0){this.addBeforePosition(p,o,0,u,E);continue}else if(p>F){this.addAfterPosition(p-F,o,m-4,u,E);continue}for(;;A++){var nt=I[A];if(!(p>nt)){if(A==0)p/=nt;else{var w=I[A-1];p=(p-w)/(nt-w)}break}}if(A!=g){g=A;var K=A*6;for(k=o[K],_=o[K+1],N=o[K+2],L=o[K+3],C=o[K+4],S=o[K+5],V=o[K+6],D=o[K+7],W=(k-N*2+C)*.03,b=(_-L*2+S)*.03,H=((N-C)*3-k+V)*.006,Y=((L-S)*3-_+D)*.006,U=W*2+H,B=b*2+Y,P=(N-k)*.3+W+H*.16666667,G=(L-_)*.3+b+Y*.16666667,J=Math.sqrt(P*P+G*G),X[0]=J,K=1;K<8;K++)P+=U,G+=B,U+=H,B+=Y,J+=Math.sqrt(P*P+G*G),X[K]=J;P+=U,G+=B,J+=Math.sqrt(P*P+G*G),X[8]=J,P+=U+H,G+=B+Y,J+=Math.sqrt(P*P+G*G),X[9]=J,Q=0}for(p*=J;;Q++){var ht=X[Q];if(!(p>ht)){if(Q==0)p/=ht;else{var w=X[Q-1];p=Q+(p-w)/(ht-w)}break}}this.addCurvePosition(p*.1,k,_,N,L,C,S,V,D,u,E,r||R>0&&y==0)}return u},d.prototype.addBeforePosition=function(a,t,r,n,i){var c=t[r],h=t[r+1],f=t[r+2]-c,u=t[r+3]-h,o=Math.atan2(u,f);n[i]=c+a*Math.cos(o),n[i+1]=h+a*Math.sin(o),n[i+2]=o},d.prototype.addAfterPosition=function(a,t,r,n,i){var c=t[r+2],h=t[r+3],f=c-t[r],u=h-t[r+1],o=Math.atan2(u,f);n[i]=c+a*Math.cos(o),n[i+1]=h+a*Math.sin(o),n[i+2]=o},d.prototype.addCurvePosition=function(a,t,r,n,i,c,h,f,u,o,l,m){if(a==0||isNaN(a)){o[l]=t,o[l+1]=r,o[l+2]=Math.atan2(i-r,n-t);return}var v=a*a,g=v*a,M=1-a,x=M*M,R=x*M,E=M*a,A=E*3,y=M*A,p=A*a,T=t*R+n*y+c*p+f*g,w=r*R+i*y+h*p+u*g;o[l]=T,o[l+1]=w,m&&(a<.001?o[l+2]=Math.atan2(i-r,n-t):o[l+2]=Math.atan2(w-(r*x+i*E*2+h*v),T-(t*x+n*E*2+c*v)))},d.NONE=-1,d.BEFORE=-2,d.AFTER=-3,d.epsilon=1e-5,d}();s.PathConstraint=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t,0,!1)||this;return r.bones=new Array,r}return a}(s.ConstraintData);s.PathConstraintData=e,function(d){d[d.Fixed=0]="Fixed",d[d.Percent=1]="Percent"}(s.PositionMode||(s.PositionMode={})),function(d){d[d.Length=0]="Length",d[d.Fixed=1]="Fixed",d[d.Percent=2]="Percent"}(s.SpacingMode||(s.SpacingMode={})),function(d){d[d.Tangent=0]="Tangent",d[d.Chain=1]="Chain",d[d.ChainScale=2]="ChainScale"}(s.RotateMode||(s.RotateMode={}))})(O||(O={}));var O;(function(s){var e=function(){function a(t){this.toLoad=new Array,this.assets={},this.clientId=t}return a.prototype.loaded=function(){var t=0;for(var r in this.assets)t++;return t},a}(),d=function(){function a(t){t===void 0&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}return a.prototype.queueAsset=function(t,r,n){var i=this.clientAssets[t];return i==null&&(i=new e(t),this.clientAssets[t]=i),r!==null&&(i.textureLoader=r),i.toLoad.push(n),this.queuedAssets[n]===n?!1:(this.queuedAssets[n]=n,!0)},a.prototype.loadText=function(t,r){var n=this;if(r=this.pathPrefix+r,!!this.queueAsset(t,null,r)){var i=new XMLHttpRequest;i.overrideMimeType("text/html"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?n.rawAssets[r]=i.responseText:n.errors[r]="Couldn't load text ".concat(r,": status ").concat(i.status,", ").concat(i.responseText))},i.open("GET",r,!0),i.send()}},a.prototype.loadJson=function(t,r){var n=this;if(r=this.pathPrefix+r,!!this.queueAsset(t,null,r)){var i=new XMLHttpRequest;i.overrideMimeType("text/html"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?n.rawAssets[r]=JSON.parse(i.responseText):n.errors[r]="Couldn't load text ".concat(r,": status ").concat(i.status,", ").concat(i.responseText))},i.open("GET",r,!0),i.send()}},a.prototype.loadTexture=function(t,r,n){var i=this;if(n=this.pathPrefix+n,!!this.queueAsset(t,r,n)){var c=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),h=!c&&typeof importScripts<"u";if(h){var f={mode:"cors"};fetch(n,f).then(function(o){return o.ok||(i.errors[n]="Couldn't load image "+n),o.blob()}).then(function(o){return createImageBitmap(o,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(o){i.rawAssets[n]=o})}else{var u=new Image;u.crossOrigin="anonymous",u.onload=function(o){i.rawAssets[n]=u},u.onerror=function(o){i.errors[n]="Couldn't load image ".concat(n)},u.src=n}}},a.prototype.get=function(t,r){r=this.pathPrefix+r;var n=this.clientAssets[t];return n==null?!0:n.assets[r]},a.prototype.updateClientAssets=function(t){for(var r=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),n=!r&&typeof importScripts<"u",i=0;i<t.toLoad.length;i++){var c=t.toLoad[i],h=t.assets[c];if(h==null){var f=this.rawAssets[c];if(f==null)continue;n?f instanceof ImageBitmap?t.assets[c]=t.textureLoader(f):t.assets[c]=f:f instanceof HTMLImageElement?t.assets[c]=t.textureLoader(f):t.assets[c]=f}}},a.prototype.isLoadingComplete=function(t){var r=this.clientAssets[t];return r==null?!0:(this.updateClientAssets(r),r.toLoad.length==r.loaded())},a.prototype.dispose=function(){},a.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},a.prototype.getErrors=function(){return this.errors},a}();s.SharedAssetManager=d})(O||(O={}));var O;(function(s){var e=function(){function d(a){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,a==null)throw new Error("data cannot be null.");this.data=a,this.bones=new Array;for(var t=0;t<a.bones.length;t++){var r=a.bones[t],n=void 0;if(r.parent==null)n=new s.Bone(r,this,null);else{var i=this.bones[r.parent.index];n=new s.Bone(r,this,i),i.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(var t=0;t<a.slots.length;t++){var c=a.slots[t],n=this.bones[c.boneData.index],h=new s.Slot(c,n);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var t=0;t<a.ikConstraints.length;t++){var f=a.ikConstraints[t];this.ikConstraints.push(new s.IkConstraint(f,this))}this.transformConstraints=new Array;for(var t=0;t<a.transformConstraints.length;t++){var u=a.transformConstraints[t];this.transformConstraints.push(new s.TransformConstraint(u,this))}this.pathConstraints=new Array;for(var t=0;t<a.pathConstraints.length;t++){var o=a.pathConstraints[t];this.pathConstraints.push(new s.PathConstraint(o,this))}this.color=new s.Color(1,1,1,1),this.updateCache()}return d.prototype.updateCache=function(){var a=this._updateCache;a.length=0,this.updateCacheReset.length=0;for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin!=null)for(var c=this.skin.bones,r=0,n=this.skin.bones.length;r<n;r++){var i=this.bones[c[r].index];do i.sorted=!1,i.active=!0,i=i.parent;while(i!=null)}var h=this.ikConstraints,f=this.transformConstraints,u=this.pathConstraints,o=h.length,l=f.length,m=u.length,v=o+l+m;t:for(var r=0;r<v;r++){for(var g=0;g<o;g++){var M=h[g];if(M.data.order==r){this.sortIkConstraint(M);continue t}}for(var g=0;g<l;g++){var M=f[g];if(M.data.order==r){this.sortTransformConstraint(M);continue t}}for(var g=0;g<m;g++){var M=u[g];if(M.data.order==r){this.sortPathConstraint(M);continue t}}}for(var r=0,n=t.length;r<n;r++)this.sortBone(t[r])},d.prototype.sortIkConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){var t=a.target;this.sortBone(t);var r=a.bones,n=r[0];if(this.sortBone(n),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(a),this.sortReset(n.children),r[r.length-1].sorted=!0}},d.prototype.sortPathConstraint=function(a){if(a.active=a.target.bone.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){var t=a.target,r=t.data.index,n=t.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,r,n),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,c=this.data.skins.length;i<c;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var h=t.getAttachment();h instanceof s.PathAttachment&&this.sortPathConstraintAttachmentWith(h,n);for(var f=a.bones,u=f.length,i=0;i<u;i++)this.sortBone(f[i]);this._updateCache.push(a);for(var i=0;i<u;i++)this.sortReset(f[i].children);for(var i=0;i<u;i++)f[i].sorted=!0}},d.prototype.sortTransformConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){this.sortBone(a.target);var t=a.bones,r=t.length;if(a.data.local)for(var n=0;n<r;n++){var i=t[n];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(var n=0;n<r;n++)this.sortBone(t[n]);this._updateCache.push(a);for(var c=0;c<r;c++)this.sortReset(t[c].children);for(var c=0;c<r;c++)t[c].sorted=!0}},d.prototype.sortPathConstraintAttachment=function(a,t,r){var n=a.attachments[t];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},d.prototype.sortPathConstraintAttachmentWith=function(a,t){if(a instanceof s.PathAttachment){var r=a.bones;if(r==null)this.sortBone(t);else for(var n=this.bones,i=0;i<r.length;)for(var c=r[i++],h=i+c;i<h;i++){var f=r[i];this.sortBone(n[f])}}},d.prototype.sortBone=function(a){if(!a.sorted){var t=a.parent;t!=null&&this.sortBone(t),a.sorted=!0,this._updateCache.push(a)}},d.prototype.sortReset=function(a){for(var t=0,r=a.length;t<r;t++){var n=a[t];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},d.prototype.updateWorldTransform=function(){for(var a=this.updateCacheReset,t=0,r=a.length;t<r;t++){var n=a[t];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var i=this._updateCache,t=0,r=i.length;t<r;t++)i[t].update()},d.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},d.prototype.setBonesToSetupPose=function(){for(var a=this.bones,t=0,r=a.length;t<r;t++)a[t].setToSetupPose();for(var n=this.ikConstraints,t=0,r=n.length;t<r;t++){var i=n[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}for(var c=this.transformConstraints,t=0,r=c.length;t<r;t++){var i=c[t],h=i.data;i.rotateMix=h.rotateMix,i.translateMix=h.translateMix,i.scaleMix=h.scaleMix,i.shearMix=h.shearMix}for(var f=this.pathConstraints,t=0,r=f.length;t<r;t++){var i=f[t],h=i.data;i.position=h.position,i.spacing=h.spacing,i.rotateMix=h.rotateMix,i.translateMix=h.translateMix}},d.prototype.setSlotsToSetupPose=function(){var a=this.slots;s.Utils.arrayCopy(a,0,this.drawOrder,0,a.length);for(var t=0,r=a.length;t<r;t++)a[t].setToSetupPose()},d.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},d.prototype.findBone=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},d.prototype.findBoneIndex=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++)if(t[r].data.name==a)return r;return-1},d.prototype.findSlot=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},d.prototype.findSlotIndex=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++)if(t[r].data.name==a)return r;return-1},d.prototype.setSkinByName=function(a){var t=this.data.findSkin(a);if(t==null)throw new Error("Skin not found: "+a);this.setSkin(t)},d.prototype.setSkin=function(a){if(a!=this.skin){if(a!=null)if(this.skin!=null)a.attachAll(this,this.skin);else for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r],c=i.data.attachmentName;if(c!=null){var h=a.getAttachment(r,c);h!=null&&i.setAttachment(h)}}this.skin=a,this.updateCache()}},d.prototype.getAttachmentByName=function(a,t){return this.getAttachment(this.data.findSlotIndex(a),t)},d.prototype.getAttachment=function(a,t){if(t==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var r=this.skin.getAttachment(a,t);if(r!=null)return r}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(a,t):null},d.prototype.setAttachment=function(a,t){if(a==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var c=r[n];if(c.data.name==a){var h=null;if(t!=null&&(h=this.getAttachment(n,t),h==null))throw new Error("Attachment not found: "+t+", for slot: "+a);c.setAttachment(h);return}}throw new Error("Slot not found: "+a)},d.prototype.findIkConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},d.prototype.findTransformConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},d.prototype.findPathConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},d.prototype.getBounds=function(a,t,r){if(r===void 0&&(r=new Array(2)),a==null)throw new Error("offset cannot be null.");if(t==null)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,u=0,o=n.length;u<o;u++){var l=n[u];if(l.bone.active){var m=0,v=null,g=l.getAttachment();if(g instanceof s.RegionAttachment)m=8,v=s.Utils.setArraySize(r,m,0),g.computeWorldVertices(l.bone,v,0,2);else if(g instanceof s.MeshAttachment){var M=g;m=M.worldVerticesLength,v=s.Utils.setArraySize(r,m,0),M.computeWorldVertices(l,0,m,v,0,2)}if(v!=null)for(var x=0,R=v.length;x<R;x+=2){var E=v[x],A=v[x+1];i=Math.min(i,E),c=Math.min(c,A),h=Math.max(h,E),f=Math.max(f,A)}}}a.set(i,c),t.set(h-i,f-c)},d.prototype.update=function(a){this.time+=a},d}();s.Skeleton=e})(O||(O={}));var O;(function(s){var e=function(){function r(n){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=n}return r.prototype.readSkeletonData=function(n){var i=this.scale,c=new s.SkeletonData;c.name="";var h=new d(n);if(c.hash=h.readString(),c.version=h.readString(),c.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");c.x=h.readFloat(),c.y=h.readFloat(),c.width=h.readFloat(),c.height=h.readFloat();var f=h.readBoolean();f&&(c.fps=h.readFloat(),c.imagesPath=h.readString(),c.audioPath=h.readString());var u=0;u=h.readInt(!0);for(var o=0;o<u;o++)h.strings.push(h.readString());u=h.readInt(!0);for(var o=0;o<u;o++){var l=h.readString(),m=o==0?null:c.bones[h.readInt(!0)],v=new s.BoneData(o,l,m);v.rotation=h.readFloat(),v.x=h.readFloat()*i,v.y=h.readFloat()*i,v.scaleX=h.readFloat(),v.scaleY=h.readFloat(),v.shearX=h.readFloat(),v.shearY=h.readFloat(),v.length=h.readFloat()*i,v.transformMode=r.TransformModeValues[h.readInt(!0)],v.skinRequired=h.readBoolean(),f&&s.Color.rgba8888ToColor(v.color,h.readInt32()),c.bones.push(v)}u=h.readInt(!0);for(var o=0;o<u;o++){var g=h.readString(),M=c.bones[h.readInt(!0)],v=new s.SlotData(o,g,M);s.Color.rgba8888ToColor(v.color,h.readInt32());var x=h.readInt32();x!=-1&&s.Color.rgb888ToColor(v.darkColor=new s.Color,x),v.attachmentName=h.readStringRef(),v.blendMode=r.BlendModeValues[h.readInt(!0)],c.slots.push(v)}u=h.readInt(!0);for(var o=0,R=void 0;o<u;o++){var v=new s.IkConstraintData(h.readString());v.order=h.readInt(!0),v.skinRequired=h.readBoolean(),R=h.readInt(!0);for(var E=0;E<R;E++)v.bones.push(c.bones[h.readInt(!0)]);v.target=c.bones[h.readInt(!0)],v.mix=h.readFloat(),v.softness=h.readFloat()*i,v.bendDirection=h.readByte(),v.compress=h.readBoolean(),v.stretch=h.readBoolean(),v.uniform=h.readBoolean(),c.ikConstraints.push(v)}u=h.readInt(!0);for(var o=0,R=void 0;o<u;o++){var v=new s.TransformConstraintData(h.readString());v.order=h.readInt(!0),v.skinRequired=h.readBoolean(),R=h.readInt(!0);for(var E=0;E<R;E++)v.bones.push(c.bones[h.readInt(!0)]);v.target=c.bones[h.readInt(!0)],v.local=h.readBoolean(),v.relative=h.readBoolean(),v.offsetRotation=h.readFloat(),v.offsetX=h.readFloat()*i,v.offsetY=h.readFloat()*i,v.offsetScaleX=h.readFloat(),v.offsetScaleY=h.readFloat(),v.offsetShearY=h.readFloat(),v.rotateMix=h.readFloat(),v.translateMix=h.readFloat(),v.scaleMix=h.readFloat(),v.shearMix=h.readFloat(),c.transformConstraints.push(v)}u=h.readInt(!0);for(var o=0,R=void 0;o<u;o++){var v=new s.PathConstraintData(h.readString());v.order=h.readInt(!0),v.skinRequired=h.readBoolean(),R=h.readInt(!0);for(var E=0;E<R;E++)v.bones.push(c.bones[h.readInt(!0)]);v.target=c.slots[h.readInt(!0)],v.positionMode=r.PositionModeValues[h.readInt(!0)],v.spacingMode=r.SpacingModeValues[h.readInt(!0)],v.rotateMode=r.RotateModeValues[h.readInt(!0)],v.offsetRotation=h.readFloat(),v.position=h.readFloat(),v.positionMode==s.PositionMode.Fixed&&(v.position*=i),v.spacing=h.readFloat(),(v.spacingMode==s.SpacingMode.Length||v.spacingMode==s.SpacingMode.Fixed)&&(v.spacing*=i),v.rotateMix=h.readFloat(),v.translateMix=h.readFloat(),c.pathConstraints.push(v)}var A=this.readSkin(h,c,!0,f);A!=null&&(c.defaultSkin=A,c.skins.push(A));{var o=c.skins.length;for(s.Utils.setArraySize(c.skins,u=o+h.readInt(!0));o<u;o++)c.skins[o]=this.readSkin(h,c,!1,f)}u=this.linkedMeshes.length;for(var o=0;o<u;o++){var y=this.linkedMeshes[o],p=y.skin==null?c.defaultSkin:c.findSkin(y.skin);if(p==null)throw new Error("Skin not found: "+y.skin);var T=p.getAttachment(y.slotIndex,y.parent);if(T==null)throw new Error("Parent mesh not found: "+y.parent);y.mesh.deformAttachment=y.inheritDeform?T:y.mesh,y.mesh.setParentMesh(T),y.mesh.updateUVs()}this.linkedMeshes.length=0,u=h.readInt(!0);for(var o=0;o<u;o++){var v=new s.EventData(h.readStringRef());v.intValue=h.readInt(!1),v.floatValue=h.readFloat(),v.stringValue=h.readString(),v.audioPath=h.readString(),v.audioPath!=null&&(v.volume=h.readFloat(),v.balance=h.readFloat()),c.events.push(v)}u=h.readInt(!0);for(var o=0;o<u;o++)c.animations.push(this.readAnimation(h,h.readString(),c));return c},r.prototype.readSkin=function(n,i,c,h){var f=null,u=0;if(c){if(u=n.readInt(!0),u==0)return null;f=new s.Skin("default")}else{f=new s.Skin(n.readStringRef()),f.bones.length=n.readInt(!0);for(var o=0,l=f.bones.length;o<l;o++)f.bones[o]=i.bones[n.readInt(!0)];for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.ikConstraints[n.readInt(!0)]);for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.transformConstraints[n.readInt(!0)]);for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.pathConstraints[n.readInt(!0)]);u=n.readInt(!0)}for(var o=0;o<u;o++)for(var m=n.readInt(!0),v=0,g=n.readInt(!0);v<g;v++){var M=n.readStringRef(),x=this.readAttachment(n,i,f,m,M,h);x!=null&&f.setAttachment(m,M,x)}return f},r.prototype.readAttachment=function(n,i,c,h,f,u){var o=this.scale,l=n.readStringRef();l==null&&(l=f);var m=n.readByte(),v=r.AttachmentTypeValues[m];switch(v){case s.AttachmentType.Region:{var g=n.readStringRef(),M=n.readFloat(),x=n.readFloat(),R=n.readFloat(),E=n.readFloat(),A=n.readFloat(),y=n.readFloat(),p=n.readFloat(),T=n.readInt32();g==null&&(g=l);var w=this.attachmentLoader.newRegionAttachment(c,l,g);return w==null?null:(w.path=g,w.x=x*o,w.y=R*o,w.scaleX=E,w.scaleY=A,w.rotation=M,w.width=y*o,w.height=p*o,s.Color.rgba8888ToColor(w.color,T),w.updateOffset(),w)}case s.AttachmentType.BoundingBox:{var I=n.readInt(!0),F=this.readVertices(n,I),T=u?n.readInt32():0,k=this.attachmentLoader.newBoundingBoxAttachment(c,l);return k==null?null:(k.worldVerticesLength=I<<1,k.vertices=F.vertices,k.bones=F.bones,u&&s.Color.rgba8888ToColor(k.color,T),k)}case s.AttachmentType.Mesh:{var g=n.readStringRef(),T=n.readInt32(),I=n.readInt(!0),_=this.readFloatArray(n,I<<1,1),N=this.readShortArray(n),F=this.readVertices(n,I),L=n.readInt(!0),C=null,y=0,p=0;u&&(C=this.readShortArray(n),y=n.readFloat(),p=n.readFloat()),g==null&&(g=l);var S=this.attachmentLoader.newMeshAttachment(c,l,g);return S==null?null:(S.path=g,s.Color.rgba8888ToColor(S.color,T),S.bones=F.bones,S.vertices=F.vertices,S.worldVerticesLength=I<<1,S.triangles=N,S.regionUVs=_,S.updateUVs(),S.hullLength=L<<1,u&&(S.edges=C,S.width=y*o,S.height=p*o),S)}case s.AttachmentType.LinkedMesh:{var g=n.readStringRef(),T=n.readInt32(),V=n.readStringRef(),D=n.readStringRef(),W=n.readBoolean(),y=0,p=0;u&&(y=n.readFloat(),p=n.readFloat()),g==null&&(g=l);var S=this.attachmentLoader.newMeshAttachment(c,l,g);return S==null?null:(S.path=g,s.Color.rgba8888ToColor(S.color,T),u&&(S.width=y*o,S.height=p*o),this.linkedMeshes.push(new a(S,V,h,D,W)),S)}case s.AttachmentType.Path:{for(var b=n.readBoolean(),H=n.readBoolean(),I=n.readInt(!0),F=this.readVertices(n,I),Y=s.Utils.newArray(I/3,0),U=0,B=Y.length;U<B;U++)Y[U]=n.readFloat()*o;var T=u?n.readInt32():0,g=this.attachmentLoader.newPathAttachment(c,l);return g==null?null:(g.closed=b,g.constantSpeed=H,g.worldVerticesLength=I<<1,g.vertices=F.vertices,g.bones=F.bones,g.lengths=Y,u&&s.Color.rgba8888ToColor(g.color,T),g)}case s.AttachmentType.Point:{var M=n.readFloat(),x=n.readFloat(),R=n.readFloat(),T=u?n.readInt32():0,P=this.attachmentLoader.newPointAttachment(c,l);return P==null?null:(P.x=x*o,P.y=R*o,P.rotation=M,u&&s.Color.rgba8888ToColor(P.color,T),P)}case s.AttachmentType.Clipping:{var G=n.readInt(!0),I=n.readInt(!0),F=this.readVertices(n,I),T=u?n.readInt32():0,z=this.attachmentLoader.newClippingAttachment(c,l);return z==null?null:(z.endSlot=i.slots[G],z.worldVerticesLength=I<<1,z.vertices=F.vertices,z.bones=F.bones,u&&s.Color.rgba8888ToColor(z.color,T),z)}}return null},r.prototype.readVertices=function(n,i){var c=i<<1,h=new t,f=this.scale;if(!n.readBoolean())return h.vertices=this.readFloatArray(n,c,f),h;for(var u=new Array,o=new Array,l=0;l<i;l++){var m=n.readInt(!0);o.push(m);for(var v=0;v<m;v++)o.push(n.readInt(!0)),u.push(n.readFloat()*f),u.push(n.readFloat()*f),u.push(n.readFloat())}return h.vertices=s.Utils.toFloatArray(u),h.bones=o,h},r.prototype.readFloatArray=function(n,i,c){var h=new Array(i);if(c==1)for(var f=0;f<i;f++)h[f]=n.readFloat();else for(var f=0;f<i;f++)h[f]=n.readFloat()*c;return h},r.prototype.readShortArray=function(n){for(var i=n.readInt(!0),c=new Array(i),h=0;h<i;h++)c[h]=n.readShort();return c},r.prototype.readAnimation=function(n,i,c){for(var h=new Array,f=this.scale,u=0,o=new s.Color,l=new s.Color,m=0,v=n.readInt(!0);m<v;m++)for(var g=n.readInt(!0),M=0,x=n.readInt(!0);M<x;M++){var R=n.readByte(),E=n.readInt(!0);switch(R){case r.SLOT_ATTACHMENT:{var A=new s.AttachmentTimeline(E);A.slotIndex=g;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readStringRef());h.push(A),u=Math.max(u,A.frames[E-1]);break}case r.SLOT_COLOR:{var A=new s.ColorTimeline(E);A.slotIndex=g;for(var y=0;y<E;y++){var p=n.readFloat();s.Color.rgba8888ToColor(o,n.readInt32()),A.setFrame(y,p,o.r,o.g,o.b,o.a),y<E-1&&this.readCurve(n,y,A)}h.push(A),u=Math.max(u,A.frames[(E-1)*s.ColorTimeline.ENTRIES]);break}case r.SLOT_TWO_COLOR:{var A=new s.TwoColorTimeline(E);A.slotIndex=g;for(var y=0;y<E;y++){var p=n.readFloat();s.Color.rgba8888ToColor(o,n.readInt32()),s.Color.rgb888ToColor(l,n.readInt32()),A.setFrame(y,p,o.r,o.g,o.b,o.a,l.r,l.g,l.b),y<E-1&&this.readCurve(n,y,A)}h.push(A),u=Math.max(u,A.frames[(E-1)*s.TwoColorTimeline.ENTRIES]);break}}}for(var m=0,v=n.readInt(!0);m<v;m++)for(var T=n.readInt(!0),M=0,x=n.readInt(!0);M<x;M++){var R=n.readByte(),E=n.readInt(!0);switch(R){case r.BONE_ROTATE:{var A=new s.RotateTimeline(E);A.boneIndex=T;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat()),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.RotateTimeline.ENTRIES]);break}case r.BONE_TRANSLATE:case r.BONE_SCALE:case r.BONE_SHEAR:{var A=void 0,w=1;R==r.BONE_SCALE?A=new s.ScaleTimeline(E):R==r.BONE_SHEAR?A=new s.ShearTimeline(E):(A=new s.TranslateTimeline(E),w=f),A.boneIndex=T;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat()*w,n.readFloat()*w),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.TranslateTimeline.ENTRIES]);break}}}for(var m=0,v=n.readInt(!0);m<v;m++){var I=n.readInt(!0),E=n.readInt(!0),A=new s.IkConstraintTimeline(E);A.ikConstraintIndex=I;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()*f,n.readByte(),n.readBoolean(),n.readBoolean()),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.IkConstraintTimeline.ENTRIES])}for(var m=0,v=n.readInt(!0);m<v;m++){var I=n.readInt(!0),E=n.readInt(!0),A=new s.TransformConstraintTimeline(E);A.transformConstraintIndex=I;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.TransformConstraintTimeline.ENTRIES])}for(var m=0,v=n.readInt(!0);m<v;m++)for(var I=n.readInt(!0),F=c.pathConstraints[I],M=0,x=n.readInt(!0);M<x;M++){var R=n.readByte(),E=n.readInt(!0);switch(R){case r.PATH_POSITION:case r.PATH_SPACING:{var A=void 0,w=1;R==r.PATH_SPACING?(A=new s.PathConstraintSpacingTimeline(E),(F.spacingMode==s.SpacingMode.Length||F.spacingMode==s.SpacingMode.Fixed)&&(w=f)):(A=new s.PathConstraintPositionTimeline(E),F.positionMode==s.PositionMode.Fixed&&(w=f)),A.pathConstraintIndex=I;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat()*w),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.PathConstraintPositionTimeline.ENTRIES]);break}case r.PATH_MIX:{var A=new s.PathConstraintMixTimeline(E);A.pathConstraintIndex=I;for(var y=0;y<E;y++)A.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()),y<E-1&&this.readCurve(n,y,A);h.push(A),u=Math.max(u,A.frames[(E-1)*s.PathConstraintMixTimeline.ENTRIES]);break}}}for(var m=0,v=n.readInt(!0);m<v;m++)for(var k=c.skins[n.readInt(!0)],M=0,x=n.readInt(!0);M<x;M++)for(var g=n.readInt(!0),_=0,N=n.readInt(!0);_<N;_++){var L=k.getAttachment(g,n.readStringRef()),C=L.bones!=null,S=L.vertices,V=C?S.length/3*2:S.length,E=n.readInt(!0),A=new s.DeformTimeline(E);A.slotIndex=g,A.attachment=L;for(var y=0;y<E;y++){var p=n.readFloat(),D=void 0,W=n.readInt(!0);if(W==0)D=C?s.Utils.newFloatArray(V):S;else{D=s.Utils.newFloatArray(V);var b=n.readInt(!0);if(W+=b,f==1)for(var H=b;H<W;H++)D[H]=n.readFloat();else for(var H=b;H<W;H++)D[H]=n.readFloat()*f;if(!C)for(var H=0,Y=D.length;H<Y;H++)D[H]+=S[H]}A.setFrame(y,p,D),y<E-1&&this.readCurve(n,y,A)}h.push(A),u=Math.max(u,A.frames[E-1])}var U=n.readInt(!0);if(U>0){for(var A=new s.DrawOrderTimeline(U),B=c.slots.length,m=0;m<U;m++){for(var p=n.readFloat(),P=n.readInt(!0),G=s.Utils.newArray(B,0),M=B-1;M>=0;M--)G[M]=-1;for(var z=s.Utils.newArray(B-P,0),X=0,J=0,M=0;M<P;M++){for(var g=n.readInt(!0);X!=g;)z[J++]=X++;G[X+n.readInt(!0)]=X++}for(;X<B;)z[J++]=X++;for(var M=B-1;M>=0;M--)G[M]==-1&&(G[M]=z[--J]);A.setFrame(m,p,G)}h.push(A),u=Math.max(u,A.frames[U-1])}var Q=n.readInt(!0);if(Q>0){for(var A=new s.EventTimeline(Q),m=0;m<Q;m++){var p=n.readFloat(),nt=c.events[n.readInt(!0)],K=new s.Event(p,nt);K.intValue=n.readInt(!1),K.floatValue=n.readFloat(),K.stringValue=n.readBoolean()?n.readString():nt.stringValue,K.data.audioPath!=null&&(K.volume=n.readFloat(),K.balance=n.readFloat()),A.setFrame(m,K)}h.push(A),u=Math.max(u,A.frames[Q-1])}return new s.Animation(i,h,u)},r.prototype.readCurve=function(n,i,c){switch(n.readByte()){case r.CURVE_STEPPED:c.setStepped(i);break;case r.CURVE_BEZIER:this.setCurve(c,i,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat());break}},r.prototype.setCurve=function(n,i,c,h,f,u){n.setCurve(i,c,h,f,u)},r.AttachmentTypeValues=[0,1,2,3,4,5,6],r.TransformModeValues=[s.TransformMode.Normal,s.TransformMode.OnlyTranslation,s.TransformMode.NoRotationOrReflection,s.TransformMode.NoScale,s.TransformMode.NoScaleOrReflection],r.PositionModeValues=[s.PositionMode.Fixed,s.PositionMode.Percent],r.SpacingModeValues=[s.SpacingMode.Length,s.SpacingMode.Fixed,s.SpacingMode.Percent],r.RotateModeValues=[s.RotateMode.Tangent,s.RotateMode.Chain,s.RotateMode.ChainScale],r.BlendModeValues=[s.BlendMode.Normal,s.BlendMode.Additive,s.BlendMode.Multiply,s.BlendMode.Screen],r.BONE_ROTATE=0,r.BONE_TRANSLATE=1,r.BONE_SCALE=2,r.BONE_SHEAR=3,r.SLOT_ATTACHMENT=0,r.SLOT_COLOR=1,r.SLOT_TWO_COLOR=2,r.PATH_POSITION=0,r.PATH_SPACING=1,r.PATH_MIX=2,r.CURVE_LINEAR=0,r.CURVE_STEPPED=1,r.CURVE_BEZIER=2,r}();s.SkeletonBinary=e;var d=function(){function r(n,i,c,h){i===void 0&&(i=new Array),c===void 0&&(c=0),h===void 0&&(h=new DataView(n.buffer)),this.strings=i,this.index=c,this.buffer=h}return r.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},r.prototype.readShort=function(){var n=this.buffer.getInt16(this.index);return this.index+=2,n},r.prototype.readInt32=function(){var n=this.buffer.getInt32(this.index);return this.index+=4,n},r.prototype.readInt=function(n){var i=this.readByte(),c=i&127;return i&128&&(i=this.readByte(),c|=(i&127)<<7,i&128&&(i=this.readByte(),c|=(i&127)<<14,i&128&&(i=this.readByte(),c|=(i&127)<<21,i&128&&(i=this.readByte(),c|=(i&127)<<28)))),n?c:c>>>1^-(c&1)},r.prototype.readStringRef=function(){var n=this.readInt(!0);return n==0?null:this.strings[n-1]},r.prototype.readString=function(){var n=this.readInt(!0);switch(n){case 0:return null;case 1:return""}n--;for(var i="",c=0;c<n;){var h=this.readByte();switch(h>>4){case 12:case 13:i+=String.fromCharCode((h&31)<<6|this.readByte()&63),c+=2;break;case 14:i+=String.fromCharCode((h&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),c+=3;break;default:i+=String.fromCharCode(h),c++}}return i},r.prototype.readFloat=function(){var n=this.buffer.getFloat32(this.index);return this.index+=4,n},r.prototype.readBoolean=function(){return this.readByte()!=0},r}(),a=function(){function r(n,i,c,h,f){this.mesh=n,this.skin=i,this.slotIndex=c,this.parent=h,this.inheritDeform=f}return r}(),t=function(){function r(n,i){n===void 0&&(n=null),i===void 0&&(i=null),this.bones=n,this.vertices=i}return r}()})(O||(O={}));var O;(function(s){var e=function(){function d(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new s.Pool(function(){return s.Utils.newFloatArray(16)})}return d.prototype.update=function(a,t){if(a==null)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,c=a.slots,h=c.length;r.length=0,i.freeAll(n),n.length=0;for(var f=0;f<h;f++){var u=c[f];if(u.bone.active){var o=u.getAttachment();if(o instanceof s.BoundingBoxAttachment){var l=o;r.push(l);var m=i.obtain();m.length!=l.worldVerticesLength&&(m=s.Utils.newFloatArray(l.worldVerticesLength)),n.push(m),l.computeWorldVertices(u,0,l.worldVerticesLength,m,0,2)}}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},d.prototype.aabbCompute=function(){for(var a=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,c=0,h=i.length;c<h;c++)for(var f=i[c],u=f,o=0,l=f.length;o<l;o+=2){var m=u[o],v=u[o+1];a=Math.min(a,m),t=Math.min(t,v),r=Math.max(r,m),n=Math.max(n,v)}this.minX=a,this.minY=t,this.maxX=r,this.maxY=n},d.prototype.aabbContainsPoint=function(a,t){return a>=this.minX&&a<=this.maxX&&t>=this.minY&&t<=this.maxY},d.prototype.aabbIntersectsSegment=function(a,t,r,n){var i=this.minX,c=this.minY,h=this.maxX,f=this.maxY;if(a<=i&&r<=i||t<=c&&n<=c||a>=h&&r>=h||t>=f&&n>=f)return!1;var u=(n-t)/(r-a),o=u*(i-a)+t;if(o>c&&o<f||(o=u*(h-a)+t,o>c&&o<f))return!0;var l=(c-t)/u+a;return l>i&&l<h||(l=(f-t)/u+a,l>i&&l<h)},d.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},d.prototype.containsPoint=function(a,t){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],a,t))return this.boundingBoxes[n];return null},d.prototype.containsPointPolygon=function(a,t,r){for(var n=a,i=a.length,c=i-2,h=!1,f=0;f<i;f+=2){var u=n[f+1],o=n[c+1];if(u<r&&o>=r||o<r&&u>=r){var l=n[f];l+(r-u)/(o-u)*(n[c]-l)<t&&(h=!h)}c=f}return h},d.prototype.intersectsSegment=function(a,t,r,n){for(var i=this.polygons,c=0,h=i.length;c<h;c++)if(this.intersectsSegmentPolygon(i[c],a,t,r,n))return this.boundingBoxes[c];return null},d.prototype.intersectsSegmentPolygon=function(a,t,r,n,i){for(var c=a,h=a.length,f=t-n,u=r-i,o=t*i-r*n,l=c[h-2],m=c[h-1],v=0;v<h;v+=2){var g=c[v],M=c[v+1],x=l*M-m*g,R=l-g,E=m-M,A=f*E-u*R,y=(o*R-f*x)/A;if((y>=l&&y<=g||y>=g&&y<=l)&&(y>=t&&y<=n||y>=n&&y<=t)){var p=(o*E-u*x)/A;if((p>=m&&p<=M||p>=M&&p<=m)&&(p>=r&&p<=i||p>=i&&p<=r))return!0}l=g,m=M}return!1},d.prototype.getPolygon=function(a){if(a==null)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(a);return t==-1?null:this.polygons[t]},d.prototype.getWidth=function(){return this.maxX-this.minX},d.prototype.getHeight=function(){return this.maxY-this.minY},d}();s.SkeletonBounds=e})(O||(O={}));var O;(function(s){var e=function(){function d(){this.triangulator=new s.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return d.prototype.clipStart=function(a,t){if(this.clipAttachment!=null)return 0;this.clipAttachment=t;var r=t.worldVerticesLength,n=s.Utils.setArraySize(this.clippingPolygon,r);t.computeWorldVertices(a,0,r,n,0,2);var i=this.clippingPolygon;d.makeClockwise(i);for(var c=this.clippingPolygons=this.triangulator.decompose(i,this.triangulator.triangulate(i)),h=0,f=c.length;h<f;h++){var u=c[h];d.makeClockwise(u),u.push(u[0]),u.push(u[1])}return c.length},d.prototype.clipEndWithSlot=function(a){this.clipAttachment!=null&&this.clipAttachment.endSlot==a.data&&this.clipEnd()},d.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},d.prototype.isClipping=function(){return this.clipAttachment!=null},d.prototype.clipTriangles=function(a,t,r,n,i,c,h,f){var u=this.clipOutput,o=this.clippedVertices,l=this.clippedTriangles,m=this.clippingPolygons,v=this.clippingPolygons.length,g=f?12:8,M=0;o.length=0,l.length=0;t:for(var x=0;x<n;x+=3){var R=r[x]<<1,E=a[R],A=a[R+1],y=i[R],p=i[R+1];R=r[x+1]<<1;var T=a[R],w=a[R+1],I=i[R],F=i[R+1];R=r[x+2]<<1;for(var k=a[R],_=a[R+1],N=i[R],L=i[R+1],C=0;C<v;C++){var S=o.length;if(this.clip(E,A,T,w,k,_,m[C],u)){var V=u.length;if(V==0)continue;for(var D=w-_,W=k-T,b=E-k,H=_-A,Y=1/(D*b+W*(A-_)),U=V>>1,B=this.clipOutput,P=s.Utils.setArraySize(o,S+U*g),G=0;G<V;G+=2){var z=B[G],X=B[G+1];P[S]=z,P[S+1]=X,P[S+2]=c.r,P[S+3]=c.g,P[S+4]=c.b,P[S+5]=c.a;var J=z-k,Q=X-_,nt=(D*J+W*Q)*Y,K=(H*J+b*Q)*Y,ht=1-nt-K;P[S+6]=y*nt+I*K+N*ht,P[S+7]=p*nt+F*K+L*ht,f&&(P[S+8]=h.r,P[S+9]=h.g,P[S+10]=h.b,P[S+11]=h.a),S+=g}S=l.length;var ot=s.Utils.setArraySize(l,S+3*(U-2));U--;for(var G=1;G<U;G++)ot[S]=M,ot[S+1]=M+G,ot[S+2]=M+G+1,S+=3;M+=U+1}else{var P=s.Utils.setArraySize(o,S+3*g);P[S]=E,P[S+1]=A,P[S+2]=c.r,P[S+3]=c.g,P[S+4]=c.b,P[S+5]=c.a,f?(P[S+6]=y,P[S+7]=p,P[S+8]=h.r,P[S+9]=h.g,P[S+10]=h.b,P[S+11]=h.a,P[S+12]=T,P[S+13]=w,P[S+14]=c.r,P[S+15]=c.g,P[S+16]=c.b,P[S+17]=c.a,P[S+18]=I,P[S+19]=F,P[S+20]=h.r,P[S+21]=h.g,P[S+22]=h.b,P[S+23]=h.a,P[S+24]=k,P[S+25]=_,P[S+26]=c.r,P[S+27]=c.g,P[S+28]=c.b,P[S+29]=c.a,P[S+30]=N,P[S+31]=L,P[S+32]=h.r,P[S+33]=h.g,P[S+34]=h.b,P[S+35]=h.a):(P[S+6]=y,P[S+7]=p,P[S+8]=T,P[S+9]=w,P[S+10]=c.r,P[S+11]=c.g,P[S+12]=c.b,P[S+13]=c.a,P[S+14]=I,P[S+15]=F,P[S+16]=k,P[S+17]=_,P[S+18]=c.r,P[S+19]=c.g,P[S+20]=c.b,P[S+21]=c.a,P[S+22]=N,P[S+23]=L),S=l.length;var ot=s.Utils.setArraySize(l,S+3);ot[S]=M,ot[S+1]=M+1,ot[S+2]=M+2,M+=3;continue t}}}},d.prototype.clip=function(a,t,r,n,i,c,h,f){var u=f,o=!1,l=null;h.length%4>=2?(l=f,f=this.scratch):l=this.scratch,l.length=0,l.push(a),l.push(t),l.push(r),l.push(n),l.push(i),l.push(c),l.push(a),l.push(t),f.length=0;for(var m=h,v=h.length-4,g=0;;g+=2){for(var M=m[g],x=m[g+1],R=m[g+2],E=m[g+3],A=M-R,y=x-E,p=l,T=l.length-2,w=f.length,I=0;I<T;I+=2){var F=p[I],k=p[I+1],_=p[I+2],N=p[I+3],L=A*(N-E)-y*(_-R)>0;if(A*(k-E)-y*(F-R)>0){if(L){f.push(_),f.push(N);continue}var C=N-k,S=_-F,V=C*(R-M)-S*(E-x);if(Math.abs(V)>1e-6){var D=(S*(x-k)-C*(M-F))/V;f.push(M+(R-M)*D),f.push(x+(E-x)*D)}else f.push(M),f.push(x)}else if(L){var C=N-k,S=_-F,V=C*(R-M)-S*(E-x);if(Math.abs(V)>1e-6){var D=(S*(x-k)-C*(M-F))/V;f.push(M+(R-M)*D),f.push(x+(E-x)*D)}else f.push(M),f.push(x);f.push(_),f.push(N)}o=!0}if(w==f.length)return u.length=0,!0;if(f.push(f[0]),f.push(f[1]),g==v)break;var W=f;f=l,f.length=0,l=W}if(u!=f){u.length=0;for(var g=0,b=f.length-2;g<b;g++)u[g]=f[g]}else u.length=u.length-2;return o},d.makeClockwise=function(a){for(var t=a,r=a.length,n=t[r-2]*t[1]-t[0]*t[r-1],i=0,c=0,h=0,f=0,u=0,o=r-3;u<o;u+=2)i=t[u],c=t[u+1],h=t[u+2],f=t[u+3],n+=i*f-h*c;if(!(n<0))for(var u=0,l=r-2,o=r>>1;u<o;u+=2){var m=t[u],v=t[u+1],g=l-u;t[u]=t[g],t[u+1]=t[g+1],t[g]=m,t[g+1]=v}},d}();s.SkeletonClipping=e})(O||(O={}));var O;(function(s){var e=function(){function d(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return d.prototype.findBone=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findBoneIndex=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},d.prototype.findSlot=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findSlotIndex=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},d.prototype.findSkin=function(a){if(a==null)throw new Error("skinName cannot be null.");for(var t=this.skins,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findEvent=function(a){if(a==null)throw new Error("eventDataName cannot be null.");for(var t=this.events,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findAnimation=function(a){if(a==null)throw new Error("animationName cannot be null.");for(var t=this.animations,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findIkConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findTransformConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findPathConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},d.prototype.findPathConstraintIndex=function(a){if(a==null)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},d}();s.SkeletonData=e})(O||(O={}));var O;(function(s){var e=function(){function a(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return a.prototype.readSkeletonData=function(t){var r=this.scale,n=new s.SkeletonData,i=typeof t=="string"?JSON.parse(t):t,c=i.skeleton;if(c!=null){if(n.hash=c.hash,n.version=c.spine,n.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=c.x,n.y=c.y,n.width=c.width,n.height=c.height,n.fps=c.fps,n.imagesPath=c.images}if(i.bones)for(var h=0;h<i.bones.length;h++){var f=i.bones[h],u=null,o=this.getValue(f,"parent",null);if(o!=null&&(u=n.findBone(o),u==null))throw new Error("Parent bone not found: "+o);var l=new s.BoneData(n.bones.length,f.name,u);l.length=this.getValue(f,"length",0)*r,l.x=this.getValue(f,"x",0)*r,l.y=this.getValue(f,"y",0)*r,l.rotation=this.getValue(f,"rotation",0),l.scaleX=this.getValue(f,"scaleX",1),l.scaleY=this.getValue(f,"scaleY",1),l.shearX=this.getValue(f,"shearX",0),l.shearY=this.getValue(f,"shearY",0),l.transformMode=a.transformModeFromString(this.getValue(f,"transform","normal")),l.skinRequired=this.getValue(f,"skin",!1),n.bones.push(l)}if(i.slots)for(var h=0;h<i.slots.length;h++){var m=i.slots[h],v=m.name,g=m.bone,M=n.findBone(g);if(M==null)throw new Error("Slot bone not found: "+g);var l=new s.SlotData(n.slots.length,v,M),x=this.getValue(m,"color",null);x!=null&&l.color.setFromString(x);var R=this.getValue(m,"dark",null);R!=null&&(l.darkColor=new s.Color(1,1,1,1),l.darkColor.setFromString(R)),l.attachmentName=this.getValue(m,"attachment",null),l.blendMode=a.blendModeFromString(this.getValue(m,"blend","normal")),n.slots.push(l)}if(i.ik)for(var h=0;h<i.ik.length;h++){var E=i.ik[h],l=new s.IkConstraintData(E.name);l.order=this.getValue(E,"order",0),l.skinRequired=this.getValue(E,"skin",!1);for(var A=0;A<E.bones.length;A++){var g=E.bones[A],y=n.findBone(g);if(y==null)throw new Error("IK bone not found: "+g);l.bones.push(y)}var p=E.target;if(l.target=n.findBone(p),l.target==null)throw new Error("IK target bone not found: "+p);l.mix=this.getValue(E,"mix",1),l.softness=this.getValue(E,"softness",0)*r,l.bendDirection=this.getValue(E,"bendPositive",!0)?1:-1,l.compress=this.getValue(E,"compress",!1),l.stretch=this.getValue(E,"stretch",!1),l.uniform=this.getValue(E,"uniform",!1),n.ikConstraints.push(l)}if(i.transform)for(var h=0;h<i.transform.length;h++){var E=i.transform[h],l=new s.TransformConstraintData(E.name);l.order=this.getValue(E,"order",0),l.skinRequired=this.getValue(E,"skin",!1);for(var A=0;A<E.bones.length;A++){var g=E.bones[A],y=n.findBone(g);if(y==null)throw new Error("Transform constraint bone not found: "+g);l.bones.push(y)}var p=E.target;if(l.target=n.findBone(p),l.target==null)throw new Error("Transform constraint target bone not found: "+p);l.local=this.getValue(E,"local",!1),l.relative=this.getValue(E,"relative",!1),l.offsetRotation=this.getValue(E,"rotation",0),l.offsetX=this.getValue(E,"x",0)*r,l.offsetY=this.getValue(E,"y",0)*r,l.offsetScaleX=this.getValue(E,"scaleX",0),l.offsetScaleY=this.getValue(E,"scaleY",0),l.offsetShearY=this.getValue(E,"shearY",0),l.rotateMix=this.getValue(E,"rotateMix",1),l.translateMix=this.getValue(E,"translateMix",1),l.scaleMix=this.getValue(E,"scaleMix",1),l.shearMix=this.getValue(E,"shearMix",1),n.transformConstraints.push(l)}if(i.path)for(var h=0;h<i.path.length;h++){var E=i.path[h],l=new s.PathConstraintData(E.name);l.order=this.getValue(E,"order",0),l.skinRequired=this.getValue(E,"skin",!1);for(var A=0;A<E.bones.length;A++){var g=E.bones[A],y=n.findBone(g);if(y==null)throw new Error("Transform constraint bone not found: "+g);l.bones.push(y)}var p=E.target;if(l.target=n.findSlot(p),l.target==null)throw new Error("Path target slot not found: "+p);l.positionMode=a.positionModeFromString(this.getValue(E,"positionMode","percent")),l.spacingMode=a.spacingModeFromString(this.getValue(E,"spacingMode","length")),l.rotateMode=a.rotateModeFromString(this.getValue(E,"rotateMode","tangent")),l.offsetRotation=this.getValue(E,"rotation",0),l.position=this.getValue(E,"position",0),l.positionMode==s.PositionMode.Fixed&&(l.position*=r),l.spacing=this.getValue(E,"spacing",0),(l.spacingMode==s.SpacingMode.Length||l.spacingMode==s.SpacingMode.Fixed)&&(l.spacing*=r),l.rotateMix=this.getValue(E,"rotateMix",1),l.translateMix=this.getValue(E,"translateMix",1),n.pathConstraints.push(l)}if(i.skins)for(var h=0;h<i.skins.length;h++){var T=i.skins[h],w=new s.Skin(T.name);if(T.bones)for(var I=0;I<T.bones.length;I++){var y=n.findBone(T.bones[I]);if(y==null)throw new Error("Skin bone not found: "+T.bones[h]);w.bones.push(y)}if(T.ik)for(var I=0;I<T.ik.length;I++){var F=n.findIkConstraint(T.ik[I]);if(F==null)throw new Error("Skin IK constraint not found: "+T.ik[h]);w.constraints.push(F)}if(T.transform)for(var I=0;I<T.transform.length;I++){var F=n.findTransformConstraint(T.transform[I]);if(F==null)throw new Error("Skin transform constraint not found: "+T.transform[h]);w.constraints.push(F)}if(T.path)for(var I=0;I<T.path.length;I++){var F=n.findPathConstraint(T.path[I]);if(F==null)throw new Error("Skin path constraint not found: "+T.path[h]);w.constraints.push(F)}for(var v in T.attachments){var k=n.findSlot(v);if(k==null)throw new Error("Slot not found: "+v);var m=T.attachments[v];for(var _ in m){var N=this.readAttachment(m[_],w,k.index,_,n);N!=null&&w.setAttachment(k.index,_,N)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var h=0,L=this.linkedMeshes.length;h<L;h++){var C=this.linkedMeshes[h],w=C.skin==null?n.defaultSkin:n.findSkin(C.skin);if(w==null)throw new Error("Skin not found: "+C.skin);var S=w.getAttachment(C.slotIndex,C.parent);if(S==null)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?S:C.mesh,C.mesh.setParentMesh(S),C.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var V in i.events){var D=i.events[V],l=new s.EventData(V);l.intValue=this.getValue(D,"int",0),l.floatValue=this.getValue(D,"float",0),l.stringValue=this.getValue(D,"string",""),l.audioPath=this.getValue(D,"audio",null),l.audioPath!=null&&(l.volume=this.getValue(D,"volume",1),l.balance=this.getValue(D,"balance",0)),n.events.push(l)}if(i.animations)for(var W in i.animations){var b=i.animations[W];this.readAnimation(b,W,n)}return n},a.prototype.readAttachment=function(t,r,n,i,c){var h=this.scale;i=this.getValue(t,"name",i);var f=this.getValue(t,"type","region");switch(f){case"region":{var u=this.getValue(t,"path",i),o=this.attachmentLoader.newRegionAttachment(r,i,u);if(o==null)return null;o.path=u,o.x=this.getValue(t,"x",0)*h,o.y=this.getValue(t,"y",0)*h,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*h,o.height=t.height*h;var l=this.getValue(t,"color",null);return l!=null&&o.color.setFromString(l),o.updateOffset(),o}case"boundingbox":{var m=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(m==null)return null;this.readVertices(t,m,t.vertexCount<<1);var l=this.getValue(t,"color",null);return l!=null&&m.color.setFromString(l),m}case"mesh":case"linkedmesh":{var u=this.getValue(t,"path",i),v=this.attachmentLoader.newMeshAttachment(r,i,u);if(v==null)return null;v.path=u;var l=this.getValue(t,"color",null);l!=null&&v.color.setFromString(l),v.width=this.getValue(t,"width",0)*h,v.height=this.getValue(t,"height",0)*h;var g=this.getValue(t,"parent",null);if(g!=null)return this.linkedMeshes.push(new d(v,this.getValue(t,"skin",null),n,g,this.getValue(t,"deform",!0))),v;var M=t.uvs;return this.readVertices(t,v,M.length),v.triangles=t.triangles,v.regionUVs=M,v.updateUVs(),v.edges=this.getValue(t,"edges",null),v.hullLength=this.getValue(t,"hull",0)*2,v}case"path":{var u=this.attachmentLoader.newPathAttachment(r,i);if(u==null)return null;u.closed=this.getValue(t,"closed",!1),u.constantSpeed=this.getValue(t,"constantSpeed",!0);var x=t.vertexCount;this.readVertices(t,u,x<<1);for(var R=s.Utils.newArray(x/3,0),E=0;E<t.lengths.length;E++)R[E]=t.lengths[E]*h;u.lengths=R;var l=this.getValue(t,"color",null);return l!=null&&u.color.setFromString(l),u}case"point":{var A=this.attachmentLoader.newPointAttachment(r,i);if(A==null)return null;A.x=this.getValue(t,"x",0)*h,A.y=this.getValue(t,"y",0)*h,A.rotation=this.getValue(t,"rotation",0);var l=this.getValue(t,"color",null);return l!=null&&A.color.setFromString(l),A}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var p=this.getValue(t,"end",null);if(p!=null){var T=c.findSlot(p);if(T==null)throw new Error("Clipping end slot not found: "+p);y.endSlot=T}var x=t.vertexCount;this.readVertices(t,y,x<<1);var l=this.getValue(t,"color",null);return l!=null&&y.color.setFromString(l),y}}return null},a.prototype.readVertices=function(t,r,n){var i=this.scale;r.worldVerticesLength=n;var c=t.vertices;if(n==c.length){var h=s.Utils.toFloatArray(c);if(i!=1)for(var f=0,u=c.length;f<u;f++)h[f]*=i;r.vertices=h;return}for(var o=new Array,l=new Array,f=0,u=c.length;f<u;){var m=c[f++];l.push(m);for(var v=f+m*4;f<v;f+=4)l.push(c[f]),o.push(c[f+1]*i),o.push(c[f+2]*i),o.push(c[f+3])}r.bones=l,r.vertices=s.Utils.toFloatArray(o)},a.prototype.readAnimation=function(t,r,n){var i=this.scale,c=new Array,h=0;if(t.slots)for(var f in t.slots){var u=t.slots[f],o=n.findSlotIndex(f);if(o==-1)throw new Error("Slot not found: "+f);for(var l in u){var m=u[l];if(l=="attachment"){var v=new s.AttachmentTimeline(m.length);v.slotIndex=o;for(var g=0,M=0;M<m.length;M++){var x=m[M];v.setFrame(g++,this.getValue(x,"time",0),x.name)}c.push(v),h=Math.max(h,v.frames[v.getFrameCount()-1])}else if(l=="color"){var v=new s.ColorTimeline(m.length);v.slotIndex=o;for(var g=0,M=0;M<m.length;M++){var x=m[M],R=new s.Color;R.setFromString(x.color),v.setFrame(g,this.getValue(x,"time",0),R.r,R.g,R.b,R.a),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.ColorTimeline.ENTRIES])}else if(l=="twoColor"){var v=new s.TwoColorTimeline(m.length);v.slotIndex=o;for(var g=0,M=0;M<m.length;M++){var x=m[M],E=new s.Color,A=new s.Color;E.setFromString(x.light),A.setFromString(x.dark),v.setFrame(g,this.getValue(x,"time",0),E.r,E.g,E.b,E.a,A.r,A.g,A.b),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+l+" ("+f+")")}}if(t.bones)for(var y in t.bones){var p=t.bones[y],T=n.findBoneIndex(y);if(T==-1)throw new Error("Bone not found: "+y);for(var l in p){var m=p[l];if(l==="rotate"){var v=new s.RotateTimeline(m.length);v.boneIndex=T;for(var g=0,M=0;M<m.length;M++){var x=m[M];v.setFrame(g,this.getValue(x,"time",0),this.getValue(x,"angle",0)),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.RotateTimeline.ENTRIES])}else if(l==="translate"||l==="scale"||l==="shear"){var v=null,w=1,I=0;l==="scale"?(v=new s.ScaleTimeline(m.length),I=1):l==="shear"?v=new s.ShearTimeline(m.length):(v=new s.TranslateTimeline(m.length),w=i),v.boneIndex=T;for(var g=0,M=0;M<m.length;M++){var x=m[M],F=this.getValue(x,"x",I),k=this.getValue(x,"y",I);v.setFrame(g,this.getValue(x,"time",0),F*w,k*w),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+l+" ("+y+")")}}if(t.ik)for(var _ in t.ik){var N=t.ik[_],L=n.findIkConstraint(_),v=new s.IkConstraintTimeline(N.length);v.ikConstraintIndex=n.ikConstraints.indexOf(L);for(var g=0,M=0;M<N.length;M++){var x=N[M];v.setFrame(g,this.getValue(x,"time",0),this.getValue(x,"mix",1),this.getValue(x,"softness",0)*i,this.getValue(x,"bendPositive",!0)?1:-1,this.getValue(x,"compress",!1),this.getValue(x,"stretch",!1)),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var _ in t.transform){var N=t.transform[_],L=n.findTransformConstraint(_),v=new s.TransformConstraintTimeline(N.length);v.transformConstraintIndex=n.transformConstraints.indexOf(L);for(var g=0,M=0;M<N.length;M++){var x=N[M];v.setFrame(g,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1),this.getValue(x,"scaleMix",1),this.getValue(x,"shearMix",1)),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var _ in t.path){var N=t.path[_],C=n.findPathConstraintIndex(_);if(C==-1)throw new Error("Path constraint not found: "+_);var S=n.pathConstraints[C];for(var l in N){var m=N[l];if(l==="position"||l==="spacing"){var v=null,w=1;l==="spacing"?(v=new s.PathConstraintSpacingTimeline(m.length),(S.spacingMode==s.SpacingMode.Length||S.spacingMode==s.SpacingMode.Fixed)&&(w=i)):(v=new s.PathConstraintPositionTimeline(m.length),S.positionMode==s.PositionMode.Fixed&&(w=i)),v.pathConstraintIndex=C;for(var g=0,M=0;M<m.length;M++){var x=m[M];v.setFrame(g,this.getValue(x,"time",0),this.getValue(x,l,0)*w),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.PathConstraintPositionTimeline.ENTRIES])}else if(l==="mix"){var v=new s.PathConstraintMixTimeline(m.length);v.pathConstraintIndex=C;for(var g=0,M=0;M<m.length;M++){var x=m[M];v.setFrame(g,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1)),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[(v.getFrameCount()-1)*s.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var V in t.deform){var D=t.deform[V],W=n.findSkin(V);if(W==null)throw new Error("Skin not found: "+V);for(var f in D){var u=D[f],o=n.findSlotIndex(f);if(o==-1)throw new Error("Slot not found: "+u.name);for(var l in u){var m=u[l],b=W.getAttachment(o,l);if(b==null)throw new Error("Deform attachment not found: "+m.name);var H=b.bones!=null,Y=b.vertices,U=H?Y.length/3*2:Y.length,v=new s.DeformTimeline(m.length);v.slotIndex=o,v.attachment=b;for(var g=0,B=0;B<m.length;B++){var x=m[B],P=void 0,G=this.getValue(x,"vertices",null);if(G==null)P=H?s.Utils.newFloatArray(U):Y;else{P=s.Utils.newFloatArray(U);var z=this.getValue(x,"offset",0);if(s.Utils.arrayCopy(G,0,P,z,G.length),i!=1)for(var M=z,X=M+G.length;M<X;M++)P[M]*=i;if(!H)for(var M=0;M<U;M++)P[M]+=Y[M]}v.setFrame(g,this.getValue(x,"time",0),P),this.readCurve(x,v,g),g++}c.push(v),h=Math.max(h,v.frames[v.getFrameCount()-1])}}}var J=t.drawOrder;if(J==null&&(J=t.draworder),J!=null){for(var v=new s.DrawOrderTimeline(J.length),Q=n.slots.length,g=0,B=0;B<J.length;B++){var nt=J[B],K=null,ht=this.getValue(nt,"offsets",null);if(ht!=null){K=s.Utils.newArray(Q,-1);for(var ot=s.Utils.newArray(Q-ht.length,0),vt=0,mt=0,M=0;M<ht.length;M++){var ut=ht[M],o=n.findSlotIndex(ut.slot);if(o==-1)throw new Error("Slot not found: "+ut.slot);for(;vt!=o;)ot[mt++]=vt++;K[vt+ut.offset]=vt++}for(;vt<Q;)ot[mt++]=vt++;for(var M=Q-1;M>=0;M--)K[M]==-1&&(K[M]=ot[--mt])}v.setFrame(g++,this.getValue(nt,"time",0),K)}c.push(v),h=Math.max(h,v.frames[v.getFrameCount()-1])}if(t.events){for(var v=new s.EventTimeline(t.events.length),g=0,M=0;M<t.events.length;M++){var pt=t.events[M],st=n.findEvent(pt.name);if(st==null)throw new Error("Event not found: "+pt.name);var at=new s.Event(s.Utils.toSinglePrecision(this.getValue(pt,"time",0)),st);at.intValue=this.getValue(pt,"int",st.intValue),at.floatValue=this.getValue(pt,"float",st.floatValue),at.stringValue=this.getValue(pt,"string",st.stringValue),at.data.audioPath!=null&&(at.volume=this.getValue(pt,"volume",1),at.balance=this.getValue(pt,"balance",0)),v.setFrame(g++,at)}c.push(v),h=Math.max(h,v.frames[v.getFrameCount()-1])}if(isNaN(h))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new s.Animation(r,c,h))},a.prototype.readCurve=function(t,r,n){if(t.hasOwnProperty("curve"))if(t.curve=="stepped")r.setStepped(n);else{var i=t.curve;r.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},a.prototype.getValue=function(t,r,n){return t[r]!==void 0?t[r]:n},a.blendModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return s.BlendMode.Normal;if(t=="additive")return s.BlendMode.Additive;if(t=="multiply")return s.BlendMode.Multiply;if(t=="screen")return s.BlendMode.Screen;throw new Error("Unknown blend mode: ".concat(t))},a.positionModeFromString=function(t){if(t=t.toLowerCase(),t=="fixed")return s.PositionMode.Fixed;if(t=="percent")return s.PositionMode.Percent;throw new Error("Unknown position mode: ".concat(t))},a.spacingModeFromString=function(t){if(t=t.toLowerCase(),t=="length")return s.SpacingMode.Length;if(t=="fixed")return s.SpacingMode.Fixed;if(t=="percent")return s.SpacingMode.Percent;throw new Error("Unknown position mode: ".concat(t))},a.rotateModeFromString=function(t){if(t=t.toLowerCase(),t=="tangent")return s.RotateMode.Tangent;if(t=="chain")return s.RotateMode.Chain;if(t=="chainscale")return s.RotateMode.ChainScale;throw new Error("Unknown rotate mode: ".concat(t))},a.transformModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return s.TransformMode.Normal;if(t=="onlytranslation")return s.TransformMode.OnlyTranslation;if(t=="norotationorreflection")return s.TransformMode.NoRotationOrReflection;if(t=="noscale")return s.TransformMode.NoScale;if(t=="noscaleorreflection")return s.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(t))},a}();s.SkeletonJson=e;var d=function(){function a(t,r,n,i,c){this.mesh=t,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=c}return a}()})(O||(O={}));var O;(function(s){var e=function(){function a(t,r,n){this.slotIndex=t,this.name=r,this.attachment=n}return a}();s.SkinEntry=e;var d=function(){function a(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,t==null)throw new Error("name cannot be null.");this.name=t}return a.prototype.setAttachment=function(t,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][r]=n},a.prototype.addSkin=function(t){for(var r=0;r<t.bones.length;r++){for(var n=t.bones[r],i=!1,c=0;c<this.bones.length;c++)if(this.bones[c]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<t.constraints.length;r++){for(var h=t.constraints[r],i=!1,c=0;c<this.constraints.length;c++)if(this.constraints[c]==h){i=!0;break}i||this.constraints.push(h)}for(var f=t.getAttachments(),r=0;r<f.length;r++){var u=f[r];this.setAttachment(u.slotIndex,u.name,u.attachment)}},a.prototype.copySkin=function(t){for(var r=0;r<t.bones.length;r++){for(var n=t.bones[r],i=!1,c=0;c<this.bones.length;c++)if(this.bones[c]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<t.constraints.length;r++){for(var h=t.constraints[r],i=!1,c=0;c<this.constraints.length;c++)if(this.constraints[c]==h){i=!0;break}i||this.constraints.push(h)}for(var f=t.getAttachments(),r=0;r<f.length;r++){var u=f[r];u.attachment!=null&&(u.attachment instanceof s.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},a.prototype.getAttachment=function(t,r){var n=this.attachments[t];return n?n[r]:null},a.prototype.removeAttachment=function(t,r){var n=this.attachments[t];n&&(n[r]=null)},a.prototype.getAttachments=function(){for(var t=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var c=n[i];c&&t.push(new e(r,i,c))}}return t},a.prototype.getAttachmentsForSlot=function(t,r){var n=this.attachments[t];if(n)for(var i in n){var c=n[i];c&&r.push(new e(t,i,c))}},a.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},a.prototype.attachAll=function(t,r){for(var n=0,i=0;i<t.slots.length;i++){var c=t.slots[i],h=c.getAttachment();if(h&&n<r.attachments.length){var f=r.attachments[n];for(var u in f){var o=f[u];if(h==o){var l=this.getAttachment(n,u);l!=null&&c.setAttachment(l);break}}}n++}},a}();s.Skin=d})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){if(this.deform=new Array,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("bone cannot be null.");this.data=a,this.bone=t,this.color=new s.Color,this.darkColor=a.darkColor==null?null:new s.Color,this.setToSetupPose()}return d.prototype.getSkeleton=function(){return this.bone.skeleton},d.prototype.getAttachment=function(){return this.attachment},d.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},d.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},d.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},d.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},d}();s.Slot=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t,r){if(this.color=new s.Color(1,1,1,1),a<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");if(r==null)throw new Error("boneData cannot be null.");this.index=a,this.name=t,this.boneData=r}return d}();s.SlotData=e})(O||(O={}));var O;(function(s){var e=function(){function n(i){this._image=i}return n.prototype.getImage=function(){return this._image},n.filterFromString=function(i){switch(i.toLowerCase()){case"nearest":return d.Nearest;case"linear":return d.Linear;case"mipmap":return d.MipMap;case"mipmapnearestnearest":return d.MipMapNearestNearest;case"mipmaplinearnearest":return d.MipMapLinearNearest;case"mipmapnearestlinear":return d.MipMapNearestLinear;case"mipmaplinearlinear":return d.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(i))}},n.wrapFromString=function(i){switch(i.toLowerCase()){case"mirroredtepeat":return a.MirroredRepeat;case"clamptoedge":return a.ClampToEdge;case"repeat":return a.Repeat;default:throw new Error("Unknown texture wrap ".concat(i))}},n}();s.Texture=e;var d;(function(n){n[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear"})(d=s.TextureFilter||(s.TextureFilter={}));var a;(function(n){n[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat"})(a=s.TextureWrap||(s.TextureWrap={}));var t=function(){function n(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return n}();s.TextureRegion=t;var r=function(n){rt(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.setFilters=function(c,h){},i.prototype.setWraps=function(c,h){},i.prototype.dispose=function(){},i}(e);s.FakeTexture=r})(O||(O={}));var O;(function(s){var e=function(){function r(n,i){this.pages=new Array,this.regions=new Array,this.load(n,i)}return r.prototype.load=function(n,i){if(i==null)throw new Error("textureLoader cannot be null.");for(var c=new d(n),h=new Array(4),f=null;;){var u=c.readLine();if(u==null)break;if(u=u.trim(),u.length==0)f=null;else if(f){var l=new t;l.name=u,l.page=f;var m=c.readValue();m.toLocaleLowerCase()=="true"?l.degrees=90:m.toLocaleLowerCase()=="false"?l.degrees=0:l.degrees=parseFloat(m),l.rotate=l.degrees==90,c.readTuple(h);var v=parseInt(h[0]),g=parseInt(h[1]);c.readTuple(h);var M=parseInt(h[0]),x=parseInt(h[1]);l.u=v/f.width,l.v=g/f.height,l.rotate?(l.u2=(v+x)/f.width,l.v2=(g+M)/f.height):(l.u2=(v+M)/f.width,l.v2=(g+x)/f.height),l.x=v,l.y=g,l.width=Math.abs(M),l.height=Math.abs(x),c.readTuple(h)==4&&c.readTuple(h)==4&&c.readTuple(h),l.originalWidth=parseInt(h[0]),l.originalHeight=parseInt(h[1]),c.readTuple(h),l.offsetX=parseInt(h[0]),l.offsetY=parseInt(h[1]),l.index=parseInt(c.readValue()),l.texture=f.texture,this.regions.push(l)}else{f=new a,f.name=u,c.readTuple(h)==2&&(f.width=parseInt(h[0]),f.height=parseInt(h[1]),c.readTuple(h)),c.readTuple(h),f.minFilter=s.Texture.filterFromString(h[0]),f.magFilter=s.Texture.filterFromString(h[1]);var o=c.readValue();f.uWrap=s.TextureWrap.ClampToEdge,f.vWrap=s.TextureWrap.ClampToEdge,o=="x"?f.uWrap=s.TextureWrap.Repeat:o=="y"?f.vWrap=s.TextureWrap.Repeat:o=="xy"&&(f.uWrap=f.vWrap=s.TextureWrap.Repeat),f.texture=i(u),f.texture.setFilters(f.minFilter,f.magFilter),f.texture.setWraps(f.uWrap,f.vWrap),f.width=f.texture.getImage().width,f.height=f.texture.getImage().height,this.pages.push(f)}}},r.prototype.findRegion=function(n){for(var i=0;i<this.regions.length;i++)if(this.regions[i].name==n)return this.regions[i];return null},r.prototype.dispose=function(){for(var n=0;n<this.pages.length;n++)this.pages[n].texture.dispose()},r}();s.TextureAtlas=e;var d=function(){function r(n){this.index=0,this.lines=n.split(/\r\n|\r|\n/)}return r.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},r.prototype.readValue=function(){var n=this.readLine(),i=n.indexOf(":");if(i==-1)throw new Error("Invalid line: "+n);return n.substring(i+1).trim()},r.prototype.readTuple=function(n){var i=this.readLine(),c=i.indexOf(":");if(c==-1)throw new Error("Invalid line: "+i);for(var h=0,f=c+1;h<3;h++){var u=i.indexOf(",",f);if(u==-1)break;n[h]=i.substr(f,u-f).trim(),f=u+1}return n[h]=i.substring(f).trim(),h+1},r}(),a=function(){function r(){}return r}();s.TextureAtlasPage=a;var t=function(r){rt(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(s.TextureRegion);s.TextureAtlasRegion=t})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new s.Vector2,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix,this.scaleMix=a.scaleMix,this.shearMix=a.shearMix,this.bones=new Array;for(var r=0;r<a.bones.length;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findBone(a.target.name)}return d.prototype.isActive=function(){return this.active},d.prototype.apply=function(){this.update()},d.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},d.prototype.applyAbsoluteWorld=function(){for(var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,c=i.a,h=i.b,f=i.c,u=i.d,o=c*u-h*f>0?s.MathUtils.degRad:-s.MathUtils.degRad,l=this.data.offsetRotation*o,m=this.data.offsetShearY*o,v=this.bones,g=0,M=v.length;g<M;g++){var x=v[g],R=!1;if(a!=0){var E=x.a,A=x.b,y=x.c,p=x.d,T=Math.atan2(f,c)-Math.atan2(y,E)+l;T>s.MathUtils.PI?T-=s.MathUtils.PI2:T<-s.MathUtils.PI&&(T+=s.MathUtils.PI2),T*=a;var w=Math.cos(T),I=Math.sin(T);x.a=w*E-I*y,x.b=w*A-I*p,x.c=I*E+w*y,x.d=I*A+w*p,R=!0}if(t!=0){var F=this.temp;i.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(F.x-x.worldX)*t,x.worldY+=(F.y-x.worldY)*t,R=!0}if(r>0){var k=Math.sqrt(x.a*x.a+x.c*x.c),_=Math.sqrt(c*c+f*f);k>1e-5&&(k=(k+(_-k+this.data.offsetScaleX)*r)/k),x.a*=k,x.c*=k,k=Math.sqrt(x.b*x.b+x.d*x.d),_=Math.sqrt(h*h+u*u),k>1e-5&&(k=(k+(_-k+this.data.offsetScaleY)*r)/k),x.b*=k,x.d*=k,R=!0}if(n>0){var A=x.b,p=x.d,N=Math.atan2(p,A),T=Math.atan2(u,h)-Math.atan2(f,c)-(N-Math.atan2(x.c,x.a));T>s.MathUtils.PI?T-=s.MathUtils.PI2:T<-s.MathUtils.PI&&(T+=s.MathUtils.PI2),T=N+(T+m)*n;var k=Math.sqrt(A*A+p*p);x.b=Math.cos(T)*k,x.d=Math.sin(T)*k,R=!0}R&&(x.appliedValid=!1)}},d.prototype.applyRelativeWorld=function(){for(var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,c=i.a,h=i.b,f=i.c,u=i.d,o=c*u-h*f>0?s.MathUtils.degRad:-s.MathUtils.degRad,l=this.data.offsetRotation*o,m=this.data.offsetShearY*o,v=this.bones,g=0,M=v.length;g<M;g++){var x=v[g],R=!1;if(a!=0){var E=x.a,A=x.b,y=x.c,p=x.d,T=Math.atan2(f,c)+l;T>s.MathUtils.PI?T-=s.MathUtils.PI2:T<-s.MathUtils.PI&&(T+=s.MathUtils.PI2),T*=a;var w=Math.cos(T),I=Math.sin(T);x.a=w*E-I*y,x.b=w*A-I*p,x.c=I*E+w*y,x.d=I*A+w*p,R=!0}if(t!=0){var F=this.temp;i.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),x.worldX+=F.x*t,x.worldY+=F.y*t,R=!0}if(r>0){var k=(Math.sqrt(c*c+f*f)-1+this.data.offsetScaleX)*r+1;x.a*=k,x.c*=k,k=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleY)*r+1,x.b*=k,x.d*=k,R=!0}if(n>0){var T=Math.atan2(u,h)-Math.atan2(f,c);T>s.MathUtils.PI?T-=s.MathUtils.PI2:T<-s.MathUtils.PI&&(T+=s.MathUtils.PI2);var A=x.b,p=x.d;T=Math.atan2(p,A)+(T-s.MathUtils.PI/2+m)*n;var k=Math.sqrt(A*A+p*p);x.b=Math.cos(T)*k,x.d=Math.sin(T)*k,R=!0}R&&(x.appliedValid=!1)}},d.prototype.applyAbsoluteLocal=function(){var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var c=this.bones,h=0,f=c.length;h<f;h++){var u=c[h];u.appliedValid||u.updateAppliedTransform();var o=u.arotation;if(a!=0){var l=i.arotation-o+this.data.offsetRotation;l-=(16384-(16384.499999999996-l/360|0))*360,o+=l*a}var m=u.ax,v=u.ay;t!=0&&(m+=(i.ax-m+this.data.offsetX)*t,v+=(i.ay-v+this.data.offsetY)*t);var g=u.ascaleX,M=u.ascaleY;r!=0&&(g>1e-5&&(g=(g+(i.ascaleX-g+this.data.offsetScaleX)*r)/g),M>1e-5&&(M=(M+(i.ascaleY-M+this.data.offsetScaleY)*r)/M));var x=u.ashearY;if(n!=0){var l=i.ashearY-x+this.data.offsetShearY;l-=(16384-(16384.499999999996-l/360|0))*360,u.shearY+=l*n}u.updateWorldTransformWith(m,v,o,g,M,u.ashearX,x)}},d.prototype.applyRelativeLocal=function(){var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var c=this.bones,h=0,f=c.length;h<f;h++){var u=c[h];u.appliedValid||u.updateAppliedTransform();var o=u.arotation;a!=0&&(o+=(i.arotation+this.data.offsetRotation)*a);var l=u.ax,m=u.ay;t!=0&&(l+=(i.ax+this.data.offsetX)*t,m+=(i.ay+this.data.offsetY)*t);var v=u.ascaleX,g=u.ascaleY;r!=0&&(v>1e-5&&(v*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),g>1e-5&&(g*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var M=u.ashearY;n!=0&&(M+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(l,m,o,v,g,u.ashearX,M)}},d}();s.TransformConstraint=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t,0,!1)||this;return r.bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return a}(s.ConstraintData);s.TransformConstraintData=e})(O||(O={}));var O;(function(s){var e=function(){function d(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new s.Pool(function(){return new Array}),this.polygonIndicesPool=new s.Pool(function(){return new Array})}return d.prototype.triangulate=function(a){var t=a,r=a.length>>1,n=this.indicesArray;n.length=0;for(var i=0;i<r;i++)n[i]=i;var c=this.isConcaveArray;c.length=0;for(var i=0,h=r;i<h;++i)c[i]=d.isConcave(i,r,t,n);var f=this.triangles;for(f.length=0;r>3;){for(var u=r-1,i=0,o=1;;){t:if(!c[i]){for(var l=n[u]<<1,m=n[i]<<1,v=n[o]<<1,g=t[l],M=t[l+1],x=t[m],R=t[m+1],E=t[v],A=t[v+1],y=(o+1)%r;y!=u;y=(y+1)%r)if(c[y]){var p=n[y]<<1,T=t[p],w=t[p+1];if(d.positiveArea(E,A,g,M,T,w)&&d.positiveArea(g,M,x,R,T,w)&&d.positiveArea(x,R,E,A,T,w))break t}break}if(o==0){do{if(!c[i])break;i--}while(i>0);break}u=i,i=o,o=(o+1)%r}f.push(n[(r+i-1)%r]),f.push(n[i]),f.push(n[(i+1)%r]),n.splice(i,1),c.splice(i,1),r--;var I=(r+i-1)%r,F=i==r?0:i;c[I]=d.isConcave(I,r,t,n),c[F]=d.isConcave(F,r,t,n)}return r==3&&(f.push(n[2]),f.push(n[0]),f.push(n[1])),f},d.prototype.decompose=function(a,t){var r=a,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var c=this.polygonIndicesPool.obtain();c.length=0;var h=this.polygonPool.obtain();h.length=0;for(var f=-1,u=0,o=0,l=t.length;o<l;o+=3){var m=t[o]<<1,v=t[o+1]<<1,g=t[o+2]<<1,M=r[m],x=r[m+1],R=r[v],E=r[v+1],A=r[g],y=r[g+1],p=!1;if(f==m){var T=h.length-4,w=d.winding(h[T],h[T+1],h[T+2],h[T+3],A,y),I=d.winding(A,y,h[0],h[1],h[2],h[3]);w==u&&I==u&&(h.push(A),h.push(y),c.push(g),p=!0)}p||(h.length>0?(n.push(h),i.push(c)):(this.polygonPool.free(h),this.polygonIndicesPool.free(c)),h=this.polygonPool.obtain(),h.length=0,h.push(M),h.push(x),h.push(R),h.push(E),h.push(A),h.push(y),c=this.polygonIndicesPool.obtain(),c.length=0,c.push(m),c.push(v),c.push(g),u=d.winding(M,x,R,E,A,y),f=m)}h.length>0&&(n.push(h),i.push(c));for(var o=0,l=n.length;o<l;o++)if(c=i[o],c.length!=0){var F=c[0],k=c[c.length-1];h=n[o];for(var T=h.length-4,_=h[T],N=h[T+1],L=h[T+2],C=h[T+3],S=h[0],V=h[1],D=h[2],W=h[3],b=d.winding(_,N,L,C,S,V),H=0;H<l;H++)if(H!=o){var Y=i[H];if(Y.length==3){var U=Y[0],B=Y[1],P=Y[2],G=n[H],A=G[G.length-2],y=G[G.length-1];if(!(U!=F||B!=k)){var w=d.winding(_,N,L,C,A,y),I=d.winding(A,y,S,V,D,W);w==b&&I==b&&(G.length=0,Y.length=0,h.push(A),h.push(y),c.push(P),_=L,N=C,L=A,C=y,H=0)}}}}for(var o=n.length-1;o>=0;o--)h=n[o],h.length==0&&(n.splice(o,1),this.polygonPool.free(h),c=i[o],i.splice(o,1),this.polygonIndicesPool.free(c));return n},d.isConcave=function(a,t,r,n){var i=n[(t+a-1)%t]<<1,c=n[a]<<1,h=n[(a+1)%t]<<1;return!this.positiveArea(r[i],r[i+1],r[c],r[c+1],r[h],r[h+1])},d.positiveArea=function(a,t,r,n,i,c){return a*(c-n)+r*(t-c)+i*(n-t)>=0},d.winding=function(a,t,r,n,i,c){var h=r-a,f=n-t;return i*f-c*h+h*t-a*f>=0?1:-1},d}();s.Triangulator=e})(O||(O={}));var O;(function(s){var e=function(){function l(){this.array=new Array}return l.prototype.add=function(m){var v=this.contains(m);return this.array[m|0]=m|0,!v},l.prototype.contains=function(m){return this.array[m|0]!=null},l.prototype.remove=function(m){this.array[m|0]=void 0},l.prototype.clear=function(){this.array.length=0},l}();s.IntSet=e;var d=function(){function l(m,v,g,M){m===void 0&&(m=0),v===void 0&&(v=0),g===void 0&&(g=0),M===void 0&&(M=0),this.r=m,this.g=v,this.b=g,this.a=M}return l.prototype.set=function(m,v,g,M){return this.r=m,this.g=v,this.b=g,this.a=M,this.clamp(),this},l.prototype.setFromColor=function(m){return this.r=m.r,this.g=m.g,this.b=m.b,this.a=m.a,this},l.prototype.setFromString=function(m){return m=m.charAt(0)=="#"?m.substr(1):m,this.r=parseInt(m.substr(0,2),16)/255,this.g=parseInt(m.substr(2,2),16)/255,this.b=parseInt(m.substr(4,2),16)/255,this.a=(m.length!=8?255:parseInt(m.substr(6,2),16))/255,this},l.prototype.add=function(m,v,g,M){return this.r+=m,this.g+=v,this.b+=g,this.a+=M,this.clamp(),this},l.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},l.rgba8888ToColor=function(m,v){m.r=((v&4278190080)>>>24)/255,m.g=((v&16711680)>>>16)/255,m.b=((v&65280)>>>8)/255,m.a=(v&255)/255},l.rgb888ToColor=function(m,v){m.r=((v&16711680)>>>16)/255,m.g=((v&65280)>>>8)/255,m.b=(v&255)/255},l.WHITE=new l(1,1,1,1),l.RED=new l(1,0,0,1),l.GREEN=new l(0,1,0,1),l.BLUE=new l(0,0,1,1),l.MAGENTA=new l(1,0,1,1),l}();s.Color=d;var a=function(){function l(){}return l.clamp=function(m,v,g){return m<v?v:m>g?g:m},l.cosDeg=function(m){return Math.cos(m*l.degRad)},l.sinDeg=function(m){return Math.sin(m*l.degRad)},l.signum=function(m){return m>0?1:m<0?-1:0},l.toInt=function(m){return m>0?Math.floor(m):Math.ceil(m)},l.cbrt=function(m){var v=Math.pow(Math.abs(m),.3333333333333333);return m<0?-v:v},l.randomTriangular=function(m,v){return l.randomTriangularWith(m,v,(m+v)*.5)},l.randomTriangularWith=function(m,v,g){var M=Math.random(),x=v-m;return M<=(g-m)/x?m+Math.sqrt(M*x*(g-m)):v-Math.sqrt((1-M)*x*(v-g))},l.PI=3.1415927,l.PI2=l.PI*2,l.radiansToDegrees=180/l.PI,l.radDeg=l.radiansToDegrees,l.degreesToRadians=l.PI/180,l.degRad=l.degreesToRadians,l}();s.MathUtils=a;var t=function(){function l(){}return l.prototype.apply=function(m,v,g){return m+(v-m)*this.applyInternal(g)},l}();s.Interpolation=t;var r=function(l){rt(m,l);function m(v){var g=l.call(this)||this;return g.power=2,g.power=v,g}return m.prototype.applyInternal=function(v){return v<=.5?Math.pow(v*2,this.power)/2:Math.pow((v-1)*2,this.power)/(this.power%2==0?-2:2)+1},m}(t);s.Pow=r;var n=function(l){rt(m,l);function m(v){return l.call(this,v)||this}return m.prototype.applyInternal=function(v){return Math.pow(v-1,this.power)*(this.power%2==0?-1:1)+1},m}(r);s.PowOut=n;var i=function(){function l(){}return l.arrayCopy=function(m,v,g,M,x){for(var R=v,E=M;R<v+x;R++,E++)g[E]=m[R]},l.setArraySize=function(m,v,g){g===void 0&&(g=0);var M=m.length;if(M==v)return m;if(m.length=v,M<v)for(var x=M;x<v;x++)m[x]=g;return m},l.ensureArrayCapacity=function(m,v,g){return g===void 0&&(g=0),m.length>=v?m:l.setArraySize(m,v,g)},l.newArray=function(m,v){for(var g=new Array(m),M=0;M<m;M++)g[M]=v;return g},l.newFloatArray=function(m){if(l.SUPPORTS_TYPED_ARRAYS)return new Float32Array(m);for(var v=new Array(m),g=0;g<v.length;g++)v[g]=0;return v},l.newShortArray=function(m){if(l.SUPPORTS_TYPED_ARRAYS)return new Int16Array(m);for(var v=new Array(m),g=0;g<v.length;g++)v[g]=0;return v},l.toFloatArray=function(m){return l.SUPPORTS_TYPED_ARRAYS?new Float32Array(m):m},l.toSinglePrecision=function(m){return l.SUPPORTS_TYPED_ARRAYS?Math.fround(m):m},l.webkit602BugfixHelper=function(m,v){},l.contains=function(m,v,g){for(var M=0;M<m.length;M++)if(m[M]==v)return!0;return!1},l.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",l}();s.Utils=i;var c=function(){function l(){}return l.logBones=function(m){for(var v=0;v<m.bones.length;v++){var g=m.bones[v];console.log(g.data.name+", "+g.a+", "+g.b+", "+g.c+", "+g.d+", "+g.worldX+", "+g.worldY)}},l}();s.DebugUtils=c;var h=function(){function l(m){this.items=new Array,this.instantiator=m}return l.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},l.prototype.free=function(m){m.reset&&m.reset(),this.items.push(m)},l.prototype.freeAll=function(m){for(var v=0;v<m.length;v++)this.free(m[v])},l.prototype.clear=function(){this.items.length=0},l}();s.Pool=h;var f=function(){function l(m,v){m===void 0&&(m=0),v===void 0&&(v=0),this.x=m,this.y=v}return l.prototype.set=function(m,v){return this.x=m,this.y=v,this},l.prototype.length=function(){var m=this.x,v=this.y;return Math.sqrt(m*m+v*v)},l.prototype.normalize=function(){var m=this.length();return m!=0&&(this.x/=m,this.y/=m),this},l}();s.Vector2=f;var u=function(){function l(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return l.prototype.update=function(){var m=Date.now()/1e3;this.delta=m-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=m,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},l}();s.TimeKeeper=u;var o=function(){function l(m){m===void 0&&(m=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(m)}return l.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},l.prototype.addValue=function(m){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=m,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},l.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var m=0,v=0;v<this.values.length;v++)m+=this.values[v];this.mean=m/this.values.length,this.dirty=!1}return this.mean}else return 0},l}();s.WindowedMean=o})(O||(O={}));(function(){Math.fround||(Math.fround=function(s){return function(e){return s[0]=e,s[0]}}(new Float32Array(1)))})();var O;(function(s){var e=function(){function a(t){if(t==null)throw new Error("name cannot be null.");this.name=t}return a}();s.Attachment=e;var d=function(a){rt(t,a);function t(r){var n=a.call(this,r)||this;return n.id=(t.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return t.prototype.computeWorldVertices=function(r,n,i,c,h,f){i=h+(i>>1)*f;var u=r.bone.skeleton,o=r.deform,l=this.vertices,m=this.bones;if(m==null){o.length>0&&(l=o);for(var v=r.bone,g=v.worldX,M=v.worldY,x=v.a,R=v.b,E=v.c,A=v.d,y=n,p=h;p<i;y+=2,p+=f){var T=l[y],w=l[y+1];c[p]=T*x+w*R+g,c[p+1]=T*E+w*A+M}return}for(var I=0,F=0,k=0;k<n;k+=2){var _=m[I];I+=_+1,F+=_}var N=u.bones;if(o.length==0)for(var p=h,R=F*3;p<i;p+=f){var L=0,C=0,_=m[I++];for(_+=I;I<_;I++,R+=3){var v=N[m[I]],T=l[R],w=l[R+1],S=l[R+2];L+=(T*v.a+w*v.b+v.worldX)*S,C+=(T*v.c+w*v.d+v.worldY)*S}c[p]=L,c[p+1]=C}else for(var V=o,p=h,R=F*3,D=F<<1;p<i;p+=f){var L=0,C=0,_=m[I++];for(_+=I;I<_;I++,R+=3,D+=2){var v=N[m[I]],T=l[R]+V[D],w=l[R+1]+V[D+1],S=l[R+2];L+=(T*v.a+w*v.b+v.worldX)*S,C+=(T*v.c+w*v.d+v.worldY)*S}c[p]=L,c[p+1]=C}},t.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),s.Utils.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=s.Utils.newFloatArray(this.vertices.length),s.Utils.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},t.nextID=0,t}(e);s.VertexAttachment=d})(O||(O={}));var O;(function(s){(function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"})(s.AttachmentType||(s.AttachmentType={}))})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.color=new s.Color(1,1,1,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.BoundingBoxAttachment=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.color=new s.Color(.2275,.2275,.8078,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.ClippingAttachment=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.color=new s.Color(1,1,1,1),r.tempColor=new s.Color(0,0,0,0),r}return a.prototype.updateUVs=function(){var t=this.regionUVs;(this.uvs==null||this.uvs.length!=t.length)&&(this.uvs=s.Utils.newFloatArray(t.length));var r=this.uvs,n=this.uvs.length,i=this.region.u,c=this.region.v,h=0,f=0;if(this.region instanceof s.TextureAtlasRegion){var u=this.region,o=u.texture.getImage().width,l=u.texture.getImage().height;switch(u.degrees){case 90:i-=(u.originalHeight-u.offsetY-u.height)/o,c-=(u.originalWidth-u.offsetX-u.width)/l,h=u.originalHeight/o,f=u.originalWidth/l;for(var m=0;m<n;m+=2)r[m]=i+t[m+1]*h,r[m+1]=c+(1-t[m])*f;return;case 180:i-=(u.originalWidth-u.offsetX-u.width)/o,c-=u.offsetY/l,h=u.originalWidth/o,f=u.originalHeight/l;for(var m=0;m<n;m+=2)r[m]=i+(1-t[m])*h,r[m+1]=c+(1-t[m+1])*f;return;case 270:i-=u.offsetY/o,c-=u.offsetX/l,h=u.originalHeight/o,f=u.originalWidth/l;for(var m=0;m<n;m+=2)r[m]=i+(1-t[m+1])*h,r[m+1]=c+t[m]*f;return}i-=u.offsetX/o,c-=(u.originalHeight-u.offsetY-u.height)/l,h=u.originalWidth/o,f=u.originalHeight/l}else this.region==null?(i=c=0,h=f=1):(h=this.region.u2-i,f=this.region.v2-c);for(var m=0;m<n;m+=2)r[m]=i+t[m]*h,r[m+1]=c+t[m+1]*f},a.prototype.getParentMesh=function(){return this.parentMesh},a.prototype.setParentMesh=function(t){this.parentMesh=t,t!=null&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},a.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),s.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),s.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),s.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,this.edges!=null&&(t.edges=new Array(this.edges.length),s.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},a.prototype.newLinkedMesh=function(){var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(this.parentMesh!=null?this.parentMesh:this),t.updateUVs(),t},a}(s.VertexAttachment);s.MeshAttachment=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new s.Color(1,1,1,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),s.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.PathAttachment=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.color=new s.Color(.38,.94,0,1),r}return a.prototype.computeWorldPosition=function(t,r){return r.x=this.x*t.a+this.y*t.b+t.worldX,r.y=this.x*t.c+this.y*t.d+t.worldY,r},a.prototype.computeWorldRotation=function(t){var r=s.MathUtils.cosDeg(this.rotation),n=s.MathUtils.sinDeg(this.rotation),i=r*t.a+n*t.b,c=r*t.c+n*t.d;return Math.atan2(c,i)*s.MathUtils.radDeg},a.prototype.copy=function(){var t=new a(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.PointAttachment=e})(O||(O={}));var O;(function(s){var e=function(d){rt(a,d);function a(t){var r=d.call(this,t)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new s.Color(1,1,1,1),r.offset=s.Utils.newFloatArray(8),r.uvs=s.Utils.newFloatArray(8),r.tempColor=new s.Color(1,1,1,1),r}return a.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*r,c=n+this.region.width*t,h=i+this.region.height*r,f=this.rotation*Math.PI/180,u=Math.cos(f),o=Math.sin(f),l=n*u+this.x,m=n*o,v=i*u+this.y,g=i*o,M=c*u+this.x,x=c*o,R=h*u+this.y,E=h*o,A=this.offset;A[a.OX1]=l-g,A[a.OY1]=v+m,A[a.OX2]=l-E,A[a.OY2]=R+m,A[a.OX3]=M-E,A[a.OY3]=R+x,A[a.OX4]=M-g,A[a.OY4]=v+x},a.prototype.setRegion=function(t){this.region=t;var r=this.uvs;t.rotate?(r[2]=t.u,r[3]=t.v2,r[4]=t.u,r[5]=t.v,r[6]=t.u2,r[7]=t.v,r[0]=t.u2,r[1]=t.v2):(r[0]=t.u,r[1]=t.v2,r[2]=t.u,r[3]=t.v,r[4]=t.u2,r[5]=t.v,r[6]=t.u2,r[7]=t.v2)},a.prototype.computeWorldVertices=function(t,r,n,i){var c=this.offset,h=t.worldX,f=t.worldY,u=t.a,o=t.b,l=t.c,m=t.d,v=0,g=0;v=c[a.OX1],g=c[a.OY1],r[n]=v*u+g*o+h,r[n+1]=v*l+g*m+f,n+=i,v=c[a.OX2],g=c[a.OY2],r[n]=v*u+g*o+h,r[n+1]=v*l+g*m+f,n+=i,v=c[a.OX3],g=c[a.OY3],r[n]=v*u+g*o+h,r[n+1]=v*l+g*m+f,n+=i,v=c[a.OX4],g=c[a.OY4],r[n]=v*u+g*o+h,r[n+1]=v*l+g*m+f},a.prototype.copy=function(){var t=new a(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,s.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),s.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},a.OX1=0,a.OY1=1,a.OX2=2,a.OY2=3,a.OX3=4,a.OY3=5,a.OX4=6,a.OY4=7,a.X1=0,a.Y1=1,a.C1R=2,a.C1G=3,a.C1B=4,a.C1A=5,a.U1=6,a.V1=7,a.X2=8,a.Y2=9,a.C2R=10,a.C2G=11,a.C2B=12,a.C2A=13,a.U2=14,a.V2=15,a.X3=16,a.Y3=17,a.C3R=18,a.C3G=19,a.C3B=20,a.C3A=21,a.U3=22,a.V3=23,a.X4=24,a.Y4=25,a.C4R=26,a.C4G=27,a.C4B=28,a.C4A=29,a.U4=30,a.V4=31,a}(s.Attachment);s.RegionAttachment=e})(O||(O={}));var O;(function(s){var e=function(){function d(a,t){this.jitterX=0,this.jitterY=0,this.jitterX=a,this.jitterY=t}return d.prototype.begin=function(a){},d.prototype.transform=function(a,t,r,n){a.x+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY),a.y+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},d.prototype.end=function(){},d}();s.JitterEffect=e})(O||(O={}));var O;(function(s){var e=function(){function d(a){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=a}return d.prototype.begin=function(a){this.worldX=a.x+this.centerX,this.worldY=a.y+this.centerY},d.prototype.transform=function(a,t,r,n){var i=this.angle*s.MathUtils.degreesToRadians,c=a.x-this.worldX,h=a.y-this.worldY,f=Math.sqrt(c*c+h*h);if(f<this.radius){var u=d.interpolation.apply(0,i,(this.radius-f)/this.radius),o=Math.cos(u),l=Math.sin(u);a.x=o*c-l*h+this.worldX,a.y=l*c+o*h+this.worldY}},d.prototype.end=function(){},d.interpolation=new s.PowOut(2),d}();s.SwirlEffect=e})(O||(O={}));var O;(function(s){(function(e){var d=function(a){rt(t,a);function t(r,n){return n===void 0&&(n=""),a.call(this,function(i){return new s.webgl.GLTexture(r,i)},n)||this}return t}(s.AssetManager);e.AssetManager=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t,r){this.position=new e.Vector3(0,0,0),this.direction=new e.Vector3(0,0,-1),this.up=new e.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new e.Matrix4,this.inverseProjectionView=new e.Matrix4,this.projection=new e.Matrix4,this.view=new e.Matrix4,this.tmp=new e.Vector3,this.viewportWidth=t,this.viewportHeight=r,this.update()}return a.prototype.update=function(){var t=this.projection,r=this.view,n=this.projectionView,i=this.inverseProjectionView,c=this.zoom,h=this.viewportWidth,f=this.viewportHeight;t.ortho(c*(-h/2),c*(h/2),c*(-f/2),c*(f/2),this.near,this.far),r.lookAt(this.position,this.direction,this.up),n.set(t.values),n.multiply(r),i.set(n.values).invert()},a.prototype.screenToWorld=function(t,r,n){var i=t.x,c=n-t.y-1,h=this.tmp;return h.x=2*i/r-1,h.y=2*c/n-1,h.z=2*t.z-1,h.project(this.inverseProjectionView),t.set(h.x,h.y,h.z),t},a.prototype.setViewport=function(t,r){this.viewportWidth=t,this.viewportHeight=r},a}();e.OrthoCamera=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(a){rt(t,a);function t(r,n,i){i===void 0&&(i=!1);var c=a.call(this,n)||this;return c.texture=null,c.boundUnit=0,c.useMipMaps=!1,c.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),c.useMipMaps=i,c.restore(),c.context.addRestorable(c),c}return t.prototype.setFilters=function(r,n){var i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t.validateMagFilter(n))},t.validateMagFilter=function(r){switch(r){case s.TextureFilter.MipMap:case s.TextureFilter.MipMapLinearLinear:case s.TextureFilter.MipMapLinearNearest:case s.TextureFilter.MipMapNearestLinear:case s.TextureFilter.MipMapNearestNearest:return s.TextureFilter.Linear;default:return r}},t.prototype.setWraps=function(r,n){var i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,n)},t.prototype.update=function(r){var n=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this._image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r?n.LINEAR_MIPMAP_LINEAR:n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r&&n.generateMipmap(n.TEXTURE_2D)},t.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},t.prototype.bind=function(r){r===void 0&&(r=0);var n=this.context.gl;this.boundUnit=r,n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var r=this.context.gl;r.activeTexture(r.TEXTURE0+this.boundUnit),r.bindTexture(r.TEXTURE_2D,null)},t.prototype.dispose=function(){this.context.removeRestorable(this);var r=this.context.gl;r.deleteTexture(this.texture)},t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,t}(s.Texture);e.GLTexture=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function t(r){this.lastX=0,this.lastY=0,this.buttonDown=!1,this.currTouch=null,this.touchesPool=new s.Pool(function(){return new s.webgl.Touch(0,0,0)}),this.listeners=new Array,this.element=r,this.setupCallbacks(r)}return t.prototype.setupCallbacks=function(r){var n=this,i=function(f){if(f instanceof MouseEvent){for(var u=r.getBoundingClientRect(),o=f.clientX-u.left,l=f.clientY-u.top,m=n.listeners,v=0;v<m.length;v++)m[v].down&&m[v].down(o,l);n.lastX=o,n.lastY=l,n.buttonDown=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}},c=function(f){if(f instanceof MouseEvent){for(var u=r.getBoundingClientRect(),o=f.clientX-u.left,l=f.clientY-u.top,m=n.listeners,v=0;v<m.length;v++)n.buttonDown?m[v].dragged&&m[v].dragged(o,l):m[v].moved&&m[v].moved(o,l);n.lastX=o,n.lastY=l}},h=function(f){if(f instanceof MouseEvent){for(var u=r.getBoundingClientRect(),o=f.clientX-u.left,l=f.clientY-u.top,m=n.listeners,v=0;v<m.length;v++)m[v].up&&m[v].up(o,l);n.lastX=o,n.lastY=l,n.buttonDown=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}};r.addEventListener("mousedown",i,!0),r.addEventListener("mousemove",c,!0),r.addEventListener("mouseup",h,!0),r.addEventListener("touchstart",function(f){if(n.currTouch==null){for(var u=f.changedTouches,o=0;o<u.length;o++){var l=u[o],m=r.getBoundingClientRect(),v=l.clientX-m.left,g=l.clientY-m.top;n.currTouch=n.touchesPool.obtain(),n.currTouch.identifier=l.identifier,n.currTouch.x=v,n.currTouch.y=g;break}for(var M=n.listeners,x=0;x<M.length;x++)M[x].down&&M[x].down(n.currTouch.x,n.currTouch.y);n.lastX=n.currTouch.x,n.lastY=n.currTouch.y,n.buttonDown=!0,f.preventDefault()}},!1),r.addEventListener("touchend",function(f){for(var u=f.changedTouches,o=0;o<u.length;o++){var l=u[o];if(n.currTouch.identifier===l.identifier){var m=r.getBoundingClientRect(),v=n.currTouch.x=l.clientX-m.left,g=n.currTouch.y=l.clientY-m.top;n.touchesPool.free(n.currTouch);for(var M=n.listeners,x=0;x<M.length;x++)M[x].up&&M[x].up(v,g);n.lastX=v,n.lastY=g,n.buttonDown=!1,n.currTouch=null;break}}f.preventDefault()},!1),r.addEventListener("touchcancel",function(f){for(var u=f.changedTouches,o=0;o<u.length;o++){var l=u[o];if(n.currTouch.identifier===l.identifier){var m=r.getBoundingClientRect(),v=n.currTouch.x=l.clientX-m.left,g=n.currTouch.y=l.clientY-m.top;n.touchesPool.free(n.currTouch);for(var M=n.listeners,x=0;x<M.length;x++)M[x].up&&M[x].up(v,g);n.lastX=v,n.lastY=g,n.buttonDown=!1,n.currTouch=null;break}}f.preventDefault()},!1),r.addEventListener("touchmove",function(f){if(n.currTouch!=null){for(var u=f.changedTouches,o=0;o<u.length;o++){var l=u[o];if(n.currTouch.identifier===l.identifier){for(var m=r.getBoundingClientRect(),v=l.clientX-m.left,g=l.clientY-m.top,M=n.listeners,x=0;x<M.length;x++)M[x].dragged&&M[x].dragged(v,g);n.lastX=n.currTouch.x=v,n.lastY=n.currTouch.y=g;break}}f.preventDefault()}},!1)},t.prototype.addListener=function(r){this.listeners.push(r)},t.prototype.removeListener=function(r){var n=this.listeners.indexOf(r);n>-1&&this.listeners.splice(n,1)},t}();e.Input=d;var a=function(){function t(r,n,i){this.identifier=r,this.x=n,this.y=i}return t}();e.Touch=a})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t){if(this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.timeKeeper=new s.TimeKeeper,this.backgroundColor=new s.Color(.135,.135,.135,1),this.tempColor=new s.Color,this.firstDraw=0,this.renderer=t,this.timeKeeper.maxDelta=9,a.logoImg===null){var r=navigator.userAgent.indexOf("Safari")>-1;a.logoImg=new Image,a.logoImg.src=a.SPINE_LOGO_DATA,r||(a.logoImg.crossOrigin="anonymous"),a.logoImg.onload=function(n){a.loaded++},a.spinnerImg=new Image,a.spinnerImg.src=a.SPINNER_DATA,r||(a.spinnerImg.crossOrigin="anonymous"),a.spinnerImg.onload=function(n){a.loaded++}}}return a.prototype.draw=function(t){if(t===void 0&&(t=!1),!(t&&this.fadeOut>a.FADE_SECONDS)){this.timeKeeper.update();var r=Math.abs(Math.sin(this.timeKeeper.totalTime+.75));this.angle-=this.timeKeeper.delta/1.4*360*(1+1.5*Math.pow(r,5));var n=this.renderer,i=n.canvas,c=n.context.gl;n.resize(e.ResizeMode.Stretch);var h=n.camera.position.x,f=n.camera.position.y;if(n.camera.position.set(i.width/2,i.height/2,0),n.camera.viewportWidth=i.width,n.camera.viewportHeight=i.height,!t)c.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),c.clear(c.COLOR_BUFFER_BIT),this.tempColor.a=1;else{if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>a.FADE_SECONDS){n.camera.position.set(h,f,0);return}r=1-this.fadeOut/a.FADE_SECONDS,this.tempColor.setFromColor(this.backgroundColor),this.tempColor.a=1-(r-1)*(r-1),n.begin(),n.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,this.tempColor,this.tempColor,this.tempColor,this.tempColor),n.end()}if(this.tempColor.set(1,1,1,this.tempColor.a),a.loaded==2){this.logo===null&&(this.logo=new e.GLTexture(n.context,a.logoImg),this.spinner=new e.GLTexture(n.context,a.spinnerImg)),this.logo.update(!1),this.spinner.update(!1);var u=this.logo.getImage().width,o=this.logo.getImage().height,l=this.spinner.getImage().width,m=this.spinner.getImage().height;n.batcher.setBlendMode(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),n.begin(),n.drawTexture(this.logo,(i.width-u)/2,(i.height-o)/2,u,o,this.tempColor),n.drawTextureRotated(this.spinner,(i.width-l)/2,(i.height-m)/2,l,m,l/2,m/2,this.angle,this.tempColor),n.end(),n.camera.position.set(h,f,0)}}},a.FADE_SECONDS=1,a.loaded=0,a.spinnerImg=null,a.logoImg=null,a.SPINNER_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDhlNTljMC02NGJjLTIxNGQtODAyZi1jZDlhODJjM2ZjMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYmNmZWJlYS03MjY2LWE0NGQtOTI4NS0wOTJmNGNhYzk4ZWEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3YzYzYzIwLWJkYjgtYzM0YS1hYzMyLWQ5MDdjOWEyOTA0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmQ4ZTU5YzAtNjRiYy0yMTRkLTgwMmYtY2Q5YTgyYzNmYzBjIiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N2M2M2MyMC1iZGI4LWMzNGEtYWMzMi1kOTA3YzlhMjkwNDAiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qS4aQAAAKZElEQVR42u2de4xVxR3HP8dd3rQryPKo4dGNbtVAQRa1YB93E1tTS7VYqCBiSWhsqGltSx+0xD60tKBorYnNkkBtFUt9xJaGNGlty6EqRAK1KlalshK2C8tzpcIigpz+MbPr5e5y987dM2fv4/tJbjC7v3P2+JvPnTMzZ85MEEURQhQClUpB7gRBAECUYiYwH6gDqoEKoA1oBDYCy4OQJgB92R3yq2S5yRilWASs6CZ0DzA5CNmn/ObOOUpB7kQpRgNLcwj9AHCnMiYZfXIT0C/H2DlRSs0gyeiPaQ6xg4FapUwy+mKUY/wwpUwy+uK4Y/xhpUwy+mKfY3yTUiYZfdHiENsahBxRyiSjL5odYncpXZLRJ3sdYhuVLslYKDKqZpSMBXObVs0oGQumA6OaUTL6Iwg5CBzNMXy7MiYZffNCDjH7g5DdSpVk9M36mGKEZOwxq4Fj3cT8UmmSjEm0Gw8At2UJaQhCtilTeeRWM5EdkmVfOwCIUtQBE4AqILC1ZQuwPgjpSKryWwgy1gfZfjsQ886IKFY2xO9N0jOR69srDOAtzCyYFuCUSrcg6AOcBIYCY4C3gVeT+uNJyvg94GPAxzFjcDuBl4C/AP+UBwXBR4AaYDYwDvgr8Drwi1KScRnwXfut6wNcYT+7Ma97LgX+JRd6jfOAucAXgCvTfl4DvAuMtJVJ0cu41IoYWRHTGWM/1TZmq/2fF8nR14r4U2BQF7+LgMW2k7bY54X4Htr5EvD99s5SlriPArcAY+VGsh1YYDpwMzAgSwy2svhWscpYA/wkx9gKm5S5wBA5kgjnAJcDX7NNpVxcWAZMLUYZJwHDHeKrgXnAdWjZlSS4BLgVuMzRlxt9eeNTxsG2veFyy7gQWAR8Sq54byfeYDssAx3LqLabJldBytgMHMjjuPHAQvTOsU++aJtE/fI4dpevTqZPGV+2veN8+DTwIHCBr29hmVJhJXwA+GAex7cBjxZjm7EFWAL8DfeX39s7NPOy9PKEO7XAV+k8xJYLrcDPgL8Xo4xgJqIuA7bkeXw9ZsBVxMMMYEqex64FfuO7e++bTcAPgD8Bpx2PvRSYKIdi61DOs3edXImAV4Cv2zJsKnYZ24B/AJ+xteRrwAmHBF4mj2JhEnCRg4QnrYh3YZ5NH/J9gUmP5zXYtsdsW+Pl8vffkEex8I5D7HHgGeBhe0dLhKRlbMJM298NXI8Z68rGk8AGeRQLu4DHMGOL2dgJPA78AXguyQvsjScdrTYp2zBDPzfbXl7mmNc64B7MFCbRc/bbfPYHrs343WnbZHsG+BXwZ8y65JS6jOnfwPuBg8BnMQtxjsWsh/0IsNJ2fkR8bAHutbfhG2x7vp9tDzZiFs5/Non2YaHJ2N6OWQf8BxiBeRx4EDPZ9nm544WNVsLtwFWYJ2Wh/fmO3ryw3noHpiv6YyZ5NsuXROhrRypeAv7nfHQJvAOTjbclYuJ3pWcL6YL03rSQjEJIRiEZhZCMQjIKIRmFZBRCMgrJKIRkFJJRCMkoJKMQklFIRiEkoxCSUUhGISSjkIxCSEYhGYWQjEIyCiEZhWQUQjIKySiEZBSSUQjJKCSjEAVCJUAQmCWPoxSjgZuAaZgF348D+zD7ADYDe+2nGWgJQg52dVJvSzOLgqHdmU5ln2IYZou9861Do+x/j8Ss2z7AOrQJWBOEZtetKIrMmt5BEBClWAQsxW3b16OY/QHXA6uD0GzpG0VRPmt6i2KSMeyQrxpYgNl4dCJmV7NcOQEsCULu6ZCR+mAmZiOannAMuC0IWS0Zy0PGKMUCzFZug3p4ullsiJ5obzPOj+H6BgGrohR1KqrSx5bzqhhE7PCvXcY4BZqgoioL4iznunQZq2M8cZXKqSyIs5yr02WsiPHEaiyWSbMxxnNVpMvYFuOJj6mcyoI4y7ktXcbGGE/conIqC+Is58Z0GTfGdNIGzJijKH3W2/KOg43pMi4n//2F92P2KJ4ShCwMQvT4pRwajCFRELIQmGLLf3+ep9pj/TvjCcwI4E5gDp1H0VsxO7k3Zvy7PQjZnXl2DXqXhYydiFKMAcYD44CajH+HZIQfBdYCtwch+854HJh2wkqgFhgGHAaagpAjLhcqGctTxqxOpKgCRgNDMXuK7whCTqU7U9khz3ucAv59xomUe9FVhePGEfs5q1eaQiYKBskoJKMQklFIRiEko5CMQkhGIRmFkIxCMgohGYVkFEIyCskohGQUklEIySiEZBSSUQjJKCSjEJJRSEYhJKOQjEJIRiEZhZCMQjIKIRmFZBSijGXMvIZ+KpZEaF8qeygwHOjb2xdUWQBJqQL6ADOBi4GHMGuGH5Iv3hiG2SJtIWaV4mZgB/AadF6jvVxkvAKzv3UdMNX+bDJm9fx10PV+1qLHIl4P3GLzfh3QBLwKbAZ+DJwuFxkDm5CZmN0Vzsv4/TTMyviVwGOYnRZEPAwBZgDfAC5K+/lo+5kKXAjcBzwPnCz1NuP77LfxO12I2M7FNmFXE+++huVOPfDNDBEz25FzgHuBa4Bzk8x/0jJeCiwCFmP2BsnGh4BbgYFyKDZmZRExnTpbGcywHZySuk0PsbeAG4HZDt+2C6yMb8mjWHgXs+NFd5v09Ac+AYzC7An0EPBKqdSM1wDfBqY7Vvubk263lDhPYHamypVa4MvAHUCq2GvGgcB8YAEwKQ/5nwa33blEVrYDLwJXOhxzLvBJzDhkK/BCMdaMA4C5wF2Y4RrXv7UF+KO9tYh42A08msfoRxVwLfBDYGwxyliLGUMclMexL9rOy075EyvvAKuBlcCbeTa3Pl+MMk7GbP/qyiHg18BWueOFNnu3ymeP8X62h11dbDKm7K3a9Zv7e+BJOeOVRmCNvQO5cgmdt4AueBkH5zCE0FWHpQH4r3zxzlPAw3kcdxg4VmwybnaMfx1YAWxTpyURjtj24wpHuZ7C0yNanzL+FnjZIX4lsEGOJEorcDewKcf4vTb+ZLHJuAeYBxzvJm4/8CPg58AJ+ZE4BzBDNk93k//jwOeAN4qxNw1m5sdV9jZwtlvv48ADujX3GpFtUt0OhPZnJzN63wdtOW7xeSFJPJvehBnBv8/2ricAp2wb8UHgETRvsRDYCiy3IrbPCWi0Mt4BPOf7AoIoivycub5TR/rDmBkjs4Df2fbHJjlQcLwfuNyW13rMXILOkyQ2REUtI5jnnG+mNRFOF3Gh1dlavgozhHUMaLEFGJWImBVnbT4VlYwlSBCYL1iUYgGw6ixhDUHIwo4GmfIrGX3JGKWotj3KbM/cpwQh2yRjYfWmS5EFdD/54ytKk2RMgukxxQjJ2GMm5hAzPEoxRqmSjN6IUgwj9xkr45UxyeiTkQ6x45QuyeiT8x1ia5QuyeiTUaoZJWMxyqiaUTIWzG1aNaNkLJgOzJAoRZVSJhl9McIxfrRSJhl94fq241ClTDL6Yq9jvCYNS0ZvuEwGPopZmlhIRi+sIfeXxtYGIaeUMsnohSCkCViSQ+gezAtOwiW/mvzpkKz3ZnrPxCz1V4dZd6YC8+JSI2YNm+VWXE2ulYyiGPk/nslB8d6ayMkAAAAASUVORK5CYII=",a.SPINE_LOGO_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMTdhZGQ3Ni04OTZlLThlNGUtYmM5MS00ZjEyNjI1YjA3MjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTViNGE2ZS1hMDg3LWEzNDktODdhOS1mNDYzYjE2MzQ0Y2MiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJlNjJiMWM2LWIxYzQtNDk0MC04MDMxLWU4ZDkyNTBmODJjNSIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDE3YWRkNzYtODk2ZS04ZTRlLWJjOTEtNGYxMjYyNWIwNzI4IiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZTYyYjFjNi1iMWM0LTQ5NDAtODAzMS1lOGQ5MjUwZjgyYzUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ayrctAAATYUlEQVR42u2dfVQV553Hv88AXq5uAAlJ0CBem912jQh60kZ8y0tdC5soJnoaXzC4Tdz4cjya1GN206Zqsu3Jpm6yeM5uTG3iaYGoJNFdEY3GaFGD0p4mqS9AXpoV0OZFUOHS3usFuc/+Idde8M7M8zr3gsw5HOCZZ2aemecz39/LPPMMMLAMLDG2kIFzjqmFDiDZP6AkN3gf0gEob8x2kj4MCx2AMnbb1BcVld6IwJJ+0oYb2YTT/gYq6WPHJP3gmtA+Biztr1CSKLevLytprCkh7ctQkj4KsK590hiGlsbSOcVCR5I+BC7pA6BEAzQaq1DqhFFH3Vg16TSG4KHRgNPpyFd1XdIHAyrdCkhjADgaTSiJw/VIP1BSp6GhUQSOOgmlkzASxSqq2zpQB+ClGiGlUb65tAUZOmDUAa5u5XRSgajibVRCR3VCSRyoQwSBE/EvYy3YkYGESuwrpuAkDgPJCg4RhFVUNUkMw6hK6agDcFInoSQxAqNqWHVdD6fUhQqUsfiaVCN41IlOUBEx88JIJCCU8T+tttOR6pEFUgRQXoCVrydRAJJw/G+2jig6llN+p0wnsZpYXsAoxzGognYzryeagBRRR8L5t4iCRsvflDHnIopINcCpGkzlUOoCkqWcKABdlznXZa5lTK7Z/6zlvMeXXqdTCVWoI696ygZN0YZSp/KxQCijmiJgUp3gyQBpVy4Kq4gPqhpWlQrCCxgPeLz70wqmyqcksgELS5kKQEWCIBn1FEn7qFBKKgmnajCloZQtlwWSZR0PoCJBkJMDMnT4iSxlsQCmFJQidVUASQS3ZSlXadqhWDVkTCoLiDKw8t40XOU6oFQBJMtvkSBJ1ITLqKaOgIbVF+y9jd3/omAqVUtViigTTfMAyKqqKnxOlWZcFEzVZjrSb11gaodSRiVVAikCo4hKyjzpkh3No8tf1AUmrxnXCmW0gSSCcIqki4hipbTqGNU+IwuMqsAUfSLVoywezi46gGSFU8Sk86bBKOd1oJzrwuuEQLIbBU8sfiPC37DYhuW8pEfex3NcQBUqyVrO+7edeZdNIfFCSi22oZwdSkzUk1jAaQcrGMA0O34kUJXAaAYl0aSMkRQMjODxAArGct6onPf68CgLbGCkNv4r4axrp4wwUUc7CAnDdkzXJ14SNFHVEQFNRjHtbg7ZoMfuOlHGDiG9/DPCCDgLjDBROFgon50ZV6mQ1/YVzwmgSniJhFryAMpybB4TLjJLRqTOZPUbZYIrwmiqZYC02lboXOIV0C3qm5nVZQGSSCiuaETOe5PygEg4AbXyM1lhJIxqqiWYUQklUaiShMGc2gFpBbDdcXl9StHXka38KVZ/i8V35DXzZibcClIWtRS90ZQpJa/ysZhtHiBV+pk8imm2TjTFwxsQWIHL42PaRd4iroW0ksZLKAFv5MoKbyQQVZl1mShc5LxYOo4Fxt4KyZPysXMhrOrwqKWyHGa8wiCHVSXtzDaxgYSA36xDEk4V5lvGpxRVIZb8pZ0Z571x7My6Up9S17SBhMGvjASfocCUi0TkvOaZMJh11vSPGVSEcT0s1JYyKKnu1BABQOMloeJ9ssMCg53phoKUkVDQs2MMcvNSsZICwfYufPZVB+o/86HxbAAXP/ah9Z2LuPSnAK5wqB1PLlIkmGEBkzVbwKuWolkE6ddXeYeb2akfEfwRTRnZRf89/r84Bf81NB73WtDQ+VUHKocfw1ob35J3QAXrYApq8X94edBmvVUZS9si/Qbr/wacWXgeN/LCCAHAQ+sNhvqhOiQOcNucZMKwQXh42XCkM95AELjZRFNjRCAPSxSmAbXlKXlNOlF0wj2WoqKi5Hnz5mdTGiQA8OCDDx4T6aiNGzeOufnmm5MBoKysrHbfvn3tVhf40hX8MSked1u1LUhx+e1mXGBIz1znC77xxtaJhmFQwzDo3LmPHBdJ6ezZs2cqIVf3UVt7unH16tWNsB4gwpItsPKdlSfTZd4EZH1MKKJkEX8WLfqnlPXr1/8oNTV1QQ8QgsG2pqamX+TkZG+OtP/y8jcn5efnb+nq6vKmpg7NfeONrZOmT5++3uVyZYTvp76+vjg3d8IWs2vy2DDcsunvUDrIQLrZBT3fgXduO4ZnrEx1aWlpbkHBrM0AkJyclFVZWZl3990TngpvT1dXl7e29vRLU6dOLTcxmT3+P3Hi5NLMzMwlhmEkh7fH7/cfraqqemHevLknTMy10yZci/mO2rR5GzZs2JaamrogGAy2Xbx4cWtTU9OLXq93r2EYyR6P52kLdQQAxMXFJR05cvSRGTNmvOZyuTJ8Pl+d1+utCa0fPXr0kydOnHzSzFRu+RLNM09j7qc+vHY5iIbe7Wu7gt8t+wwbGG9YAEBV1eHvT516z0uh9vj9/tpQW7Ozc54rL39zkt1Dh6+/Pl/h8XieNgwjORAInGpqanqxvb19TzAYbHO73VPz8vK2vfXW29kKUnuOLIZitYWFryjlq1RXV890uVxjAWD37oqFo0Z5fjR2bNYvRozIWLFx48b7zpw5s8EmqgYA5OTkrA8EAud2767452HD0ueOGJHxxLp16x7w+Xx1AODxeB5buXLlCDOf9d2L8H7rd3jFfQSzv/MBpjx7BrP/4yzmP1qP76W8j6U7m3HJzpoEg8Fr5ePHj1/n8/nqtmx5fe6wYemPpKffNreysnJxaP2999672sqi/eEPJ5YkJiZmAcDhw1WP3nrrLQVjx2Ztysi4ffmqVSunBAKBU4ZhJE+bNu1VDj81qosRZfVjyU0CABk6dGgmAHR2djYVFRWdCl+3du1Pzo0bl7PZDPxwCHw+X11R0aOPLFy4sCa0vrj4P8+9++7+jaE6P/jBY3NYgrTft8P3s0Y0rPkcn5R9jRaGtNR159zdnieeeuqpulBZYeGCmsbGxtcBwO12jzFT3Iceejh55MiRTwBAQ0PDzwsKCqrDj1NSUuL98MMPX+hW3pHvvXdwqoK+1jELs3KlVGHmbZPVgUBHGwAkJCRklpSUjBW9MB988PvXwwKaa3UWLVpUEwgEzgFAamrqnWYppZ+Owt8eHoeCfdmY/vYYTH43B9/76Nt4tP5uLHlrDCbyntd77x0oPnDggLd3nbNnz9aG/i4vf3NipG1XrFgxKeRD7tq1a2+k4+Tn570fDAbbAOD222/P5uwTJ9/41BJ9izaOKXVQXFxcWVxc/IxhGMmzZj20+5NPPn21vLx8+9q1Pzlrd/xwpWxtbfWawev3+//kcrkyUlJSJpi1618z8cs4guRIx/mmG34Aky2i0+si1bC29VgX1s4e7Q+vl5aWNiJUmJ2dnVlRUTGiWxUpAISi8M7OzqaQ66O4r7UM4HDyxTEpn+XXv/5V2/Tp/1CYn/+PryQkJGSmp6cvXbVq1dLFixdX19TUbJ49++Fjsvm1L774oqYbSMtcpOk6YrqOuwND6S7W/dx///0l6CdLfBQVkntZuHDhqfnz58/84Q9XP5iZmbkgMTExa8iQIZOnTZs2+fPP/2/7HXd8Y63uNrR04vitgzAt0rqvOnAADgyCjbScOXNmAyGEAoBhGNd+E4Jrqrl//77KGwlK6hSY27Zta922bdtWANsrKiomT5iQ+y+JiYlZaWlp83bs2LlvzpzZx0X3PXz48Nyr/utV3zLS8vgn+Onr3wK9ZRDuI93X7wpFW9Nl7J51GpsQpY+4jxuX8yqsHy9SxMAH5p1KCfGAq3R/BQUF1cuXLy8KOfKjRo3KipDQ7bGkpKQkmbXrpptuGg0AXq+33uyglRfQdtsxPJ15HJOL6pE/4xS+m3AY373jt3j59F/gtzn369oUUrXedQn5a3lYnR7n5fP5rvmdW7ZsyXKYHW1fVjMcbqjyLyjs2PF2W0dHx1nWHdx117cfz8vLS+q9r4MHD82Ji4tLAoDm5uY6WM/6gHMBdJZ+jfN7LqAVzn0cqceyb9871X/NZ9433+6GjCXwoqWUvJ1hCUFjY9O/19XVLSssLOwR+R469JsHQsnjy5cvtyHSY6swNRo8ePCdpaVl5WVlZbmhstLS0gnjx49fBVx9vPfssz/eEaFN17VrrQee34zDA59OwIrWKdjsvwf/uysL90TYhjKCyzPvOH3++efPtrS0bO+OxOedOHFyaaR9VldXz2hsbHpRQf9R8E05I8RFvNM+oY1Pavpik8vlykxJSSl85ZVNz7z00svvB4NBEhcXlxwG5OlJkyZuh/mLUSGTVzd48OA7Z84s+OX5883nuvd97Znz0aNH/u3gwYPeCBexRwDzq7/HXYvS8VrvE5mSjO8DOGzRCT0nc+oOTnp3bASzHrFD16xZs2HTpk1ZiYmJWR6P5+lLl1qXBAKBU6H1brd7Snh1sD2rjqqJNxw6sOzkobSqquoFv99/NHShhwwZMjkEZEtLy/Zly5YtMrubwzv40KFDL3/00UfPdXV1eV0uV0YIyEAgcK6iYtcTs2bN2m+iCD3KvuyAN1LDr1D8xSSwuFYW3p7m5mavHRQXLlxoM1FdunPnjtbly5cXNTQ0/DwYDLYZhpHsdrunhH6Aq4MyPv744yWM6kwZ1VFr7tDub7P/HR8lBIAUFRWlRBi2Fn6DXXec0CghAKisrFxcWLjgOABSVlY2MQRG92M+rhfHGnKxZmQiFgAgXRTeLzuwf+Vn+O//aUErg2ljnemMdZQOBUBLSkrGpqXdkhQCPz8/7wjYBveKjBLinenN1nIAoCpHnvNOEGD2zo0RATKrdbZvPJaXvzk5BOXevXsfnz9/Xg3jednlYsnEJAz5hhvuPRdwsfUKuhhUHzYdZjWvJAuwlBE8ltHoVnDa3UDCUKp8omM3QwPrdlb7sVuHSD5luLns/ttquhIzGCP6eMe9aD/uRTtnMAfoeSXCDkie9rGabuX+qFOPGSMFHdREgVjA6w0N7xt2PLNWUCur8ZwHnu8kYWTbFfiS4zHY3wX/nFr8llEZRGG0U1Fq4xebKR+PD6kN1mg80bEC1Awyq1dCbUG0UEpWv9sUrCcz8OOkePR4Xp79N7jr5J8RsIFSdo5yW//SQkV5VZIKmmKhaDxeEkKr90/AYM5Z1NIOFtuX4ktLS08TQhZRSklpaWkt+N+tNl28XfhjOJS+LtSf/DMuC4Aoo5i8QFKbDIFTSfbIT7M4Ah2WYEck+FH9Zh/AN+EVU6RtBuo3B2PQ1tGYlZYAT3sXvljXgMqdzWiTMN0qfEuegEVHlC38eq1IR7BOJgAOIKEATqt9mKWw7CJuFZPx83x+xA5Klq8+iAIJsL8kZrdOGso4zo5gnQhV9qsOVuMheYbYs3yvmmc9lagn+iUGarMPVsW0y5FSAUXXYuLjBXZMBLdhmU02UtBjFQzx+ps850EtoLfzpbnVgUN5VOQxWdVR9MtmUiki1Skhq3wiTIBkgRMCKR/CWM6bV+W581kHL7DkMXk+1sQKJK9VcWQEEq/5FjXhIsGF7Ddt7MDhufAqTBYFlHzuWORLYpRBSXnNtowvKaWULDN42W3D+hkNMOQhAfNEN8/stay5U5nv3/AGPLI5TFa/kgrUlb05uW7gOEF1UqWWdhOk8kS9Ks0uT3BDGbbn8Sl54VTla1qZZ542Sy9xnGkgcAAkOoMukQBT1L+TMfci7gGvOecxsSzmXTaYYTk/nuvODSVLmchH5cH5t+hMuyyjuFmdedFXGyij/waoiXhlHlOyHgsMbY5q9G3le/LOu83ywSHRNBXLY1GRtA9vwMPaqU59wVZFG6DoWkkppajS8XyHW8V3t4lEekP09VS7kTp2Ebmsvyli0kWyBSqsyHVlcYIAyviWsmASThhVBjY84wtZ9suaK5RJy4iaaNa8pVKVNINSRi11gSkSheu4o82UkAVmnhymKIgi0TnA/8hRNPKmqqHkVUsnwBR91Meqjiocd5ZASgQKFT4nT1DDA6TUdSOaymXAFEkniZp7FSOBdAU9LOkVqgBQp4BkLieKgLUqkzXvVuDx7EMEQl35URHoIAmODMAqFJIZyjjNKqriE8a8yXynAxsIdgRrp/KabxkYow6kjFKIqqjKZDnhvAFELYNO8w3Jjuc15yLmmjWoUQZlnIT5UgGmjGqyjLtUrXy6oGRRTl2QivqwrJaJG2KZ5DQvsKwmmccHZVVD2fSSLmXk6XxRSHgVU5U6iqqnFJSyYKqAU+QGiJVAh2oClUdhqeLjSgOpSjFkTbwOVRXNGEDB9aCSwFIFHa3DFZBRfi1Q6gBTFk4Rs63zGijrFIg/ylRt7lW3m6kOUagQqiJ5orFONKJtHR0ok/vUAaPKOrbRt2owZZVTJmhRDaKOYW26I1st06yoBFKmk4jD61UCShSfq1OdpTLgUDW6R8t87rqcfZ1BlMr6uq6Vjhf2owGvozDKmG9dyiQCeTSAiwXVdNIP1A2uls7QkYhW/fgzVgIeXVOe6ISFOnSOjjn+uuHsK5F2NM1hLG/jSGfpjoSdjLSJg7Cp7FjaR7ZzXEGcinBJDF8DnZ1Ho7wPrYNadHdINGCLdVMdrU6nMdimqHYgiaF2kn4IXJ8FMJY6iPRxsPqTksbc55ZJP2vHgOnuYwD2tU4k/eycaT891g0F5YDZ7qfQ3SidTAZgG4By4FwHgBtYBpYbZ/l/2EJnC9N0gaQAAAAASUVORK5CYII=",a}();e.LoadingScreen=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){e.M00=0,e.M01=4,e.M02=8,e.M03=12,e.M10=1,e.M11=5,e.M12=9,e.M13=13,e.M20=2,e.M21=6,e.M22=10,e.M23=14,e.M30=3,e.M31=7,e.M32=11,e.M33=15;var d=function(){function a(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[e.M00]=1,t[e.M11]=1,t[e.M22]=1,t[e.M33]=1}return a.prototype.set=function(t){return this.values.set(t),this},a.prototype.transpose=function(){var t=this.temp,r=this.values;return t[e.M00]=r[e.M00],t[e.M01]=r[e.M10],t[e.M02]=r[e.M20],t[e.M03]=r[e.M30],t[e.M10]=r[e.M01],t[e.M11]=r[e.M11],t[e.M12]=r[e.M21],t[e.M13]=r[e.M31],t[e.M20]=r[e.M02],t[e.M21]=r[e.M12],t[e.M22]=r[e.M22],t[e.M23]=r[e.M32],t[e.M30]=r[e.M03],t[e.M31]=r[e.M13],t[e.M32]=r[e.M23],t[e.M33]=r[e.M33],this.set(t)},a.prototype.identity=function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this},a.prototype.invert=function(){var t=this.values,r=this.temp,n=t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33];if(n==0)throw new Error("non-invertible matrix");var i=1/n;return r[e.M00]=t[e.M12]*t[e.M23]*t[e.M31]-t[e.M13]*t[e.M22]*t[e.M31]+t[e.M13]*t[e.M21]*t[e.M32]-t[e.M11]*t[e.M23]*t[e.M32]-t[e.M12]*t[e.M21]*t[e.M33]+t[e.M11]*t[e.M22]*t[e.M33],r[e.M01]=t[e.M03]*t[e.M22]*t[e.M31]-t[e.M02]*t[e.M23]*t[e.M31]-t[e.M03]*t[e.M21]*t[e.M32]+t[e.M01]*t[e.M23]*t[e.M32]+t[e.M02]*t[e.M21]*t[e.M33]-t[e.M01]*t[e.M22]*t[e.M33],r[e.M02]=t[e.M02]*t[e.M13]*t[e.M31]-t[e.M03]*t[e.M12]*t[e.M31]+t[e.M03]*t[e.M11]*t[e.M32]-t[e.M01]*t[e.M13]*t[e.M32]-t[e.M02]*t[e.M11]*t[e.M33]+t[e.M01]*t[e.M12]*t[e.M33],r[e.M03]=t[e.M03]*t[e.M12]*t[e.M21]-t[e.M02]*t[e.M13]*t[e.M21]-t[e.M03]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M13]*t[e.M22]+t[e.M02]*t[e.M11]*t[e.M23]-t[e.M01]*t[e.M12]*t[e.M23],r[e.M10]=t[e.M13]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M20]*t[e.M32]+t[e.M10]*t[e.M23]*t[e.M32]+t[e.M12]*t[e.M20]*t[e.M33]-t[e.M10]*t[e.M22]*t[e.M33],r[e.M11]=t[e.M02]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M22]*t[e.M30]+t[e.M03]*t[e.M20]*t[e.M32]-t[e.M00]*t[e.M23]*t[e.M32]-t[e.M02]*t[e.M20]*t[e.M33]+t[e.M00]*t[e.M22]*t[e.M33],r[e.M12]=t[e.M03]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M10]*t[e.M32]+t[e.M00]*t[e.M13]*t[e.M32]+t[e.M02]*t[e.M10]*t[e.M33]-t[e.M00]*t[e.M12]*t[e.M33],r[e.M13]=t[e.M02]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M12]*t[e.M20]+t[e.M03]*t[e.M10]*t[e.M22]-t[e.M00]*t[e.M13]*t[e.M22]-t[e.M02]*t[e.M10]*t[e.M23]+t[e.M00]*t[e.M12]*t[e.M23],r[e.M20]=t[e.M11]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M21]*t[e.M30]+t[e.M13]*t[e.M20]*t[e.M31]-t[e.M10]*t[e.M23]*t[e.M31]-t[e.M11]*t[e.M20]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M33],r[e.M21]=t[e.M03]*t[e.M21]*t[e.M30]-t[e.M01]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M20]*t[e.M31]+t[e.M00]*t[e.M23]*t[e.M31]+t[e.M01]*t[e.M20]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M33],r[e.M22]=t[e.M01]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M11]*t[e.M30]+t[e.M03]*t[e.M10]*t[e.M31]-t[e.M00]*t[e.M13]*t[e.M31]-t[e.M01]*t[e.M10]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M33],r[e.M23]=t[e.M03]*t[e.M11]*t[e.M20]-t[e.M01]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M10]*t[e.M21]+t[e.M00]*t[e.M13]*t[e.M21]+t[e.M01]*t[e.M10]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M23],r[e.M30]=t[e.M12]*t[e.M21]*t[e.M30]-t[e.M11]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M20]*t[e.M31]+t[e.M10]*t[e.M22]*t[e.M31]+t[e.M11]*t[e.M20]*t[e.M32]-t[e.M10]*t[e.M21]*t[e.M32],r[e.M31]=t[e.M01]*t[e.M22]*t[e.M30]-t[e.M02]*t[e.M21]*t[e.M30]+t[e.M02]*t[e.M20]*t[e.M31]-t[e.M00]*t[e.M22]*t[e.M31]-t[e.M01]*t[e.M20]*t[e.M32]+t[e.M00]*t[e.M21]*t[e.M32],r[e.M32]=t[e.M02]*t[e.M11]*t[e.M30]-t[e.M01]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M10]*t[e.M31]+t[e.M00]*t[e.M12]*t[e.M31]+t[e.M01]*t[e.M10]*t[e.M32]-t[e.M00]*t[e.M11]*t[e.M32],r[e.M33]=t[e.M01]*t[e.M12]*t[e.M20]-t[e.M02]*t[e.M11]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]+t[e.M00]*t[e.M11]*t[e.M22],t[e.M00]=r[e.M00]*i,t[e.M01]=r[e.M01]*i,t[e.M02]=r[e.M02]*i,t[e.M03]=r[e.M03]*i,t[e.M10]=r[e.M10]*i,t[e.M11]=r[e.M11]*i,t[e.M12]=r[e.M12]*i,t[e.M13]=r[e.M13]*i,t[e.M20]=r[e.M20]*i,t[e.M21]=r[e.M21]*i,t[e.M22]=r[e.M22]*i,t[e.M23]=r[e.M23]*i,t[e.M30]=r[e.M30]*i,t[e.M31]=r[e.M31]*i,t[e.M32]=r[e.M32]*i,t[e.M33]=r[e.M33]*i,this},a.prototype.determinant=function(){var t=this.values;return t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33]},a.prototype.translate=function(t,r,n){var i=this.values;return i[e.M03]+=t,i[e.M13]+=r,i[e.M23]+=n,this},a.prototype.copy=function(){return new a().set(this.values)},a.prototype.projection=function(t,r,n,i){this.identity();var c=1/Math.tan(n*(Math.PI/180)/2),h=(r+t)/(t-r),f=2*r*t/(t-r),u=this.values;return u[e.M00]=c/i,u[e.M10]=0,u[e.M20]=0,u[e.M30]=0,u[e.M01]=0,u[e.M11]=c,u[e.M21]=0,u[e.M31]=0,u[e.M02]=0,u[e.M12]=0,u[e.M22]=h,u[e.M32]=-1,u[e.M03]=0,u[e.M13]=0,u[e.M23]=f,u[e.M33]=0,this},a.prototype.ortho2d=function(t,r,n,i){return this.ortho(t,t+n,r,r+i,0,1)},a.prototype.ortho=function(t,r,n,i,c,h){this.identity();var f=2/(r-t),u=2/(i-n),o=-2/(h-c),l=-(r+t)/(r-t),m=-(i+n)/(i-n),v=-(h+c)/(h-c),g=this.values;return g[e.M00]=f,g[e.M10]=0,g[e.M20]=0,g[e.M30]=0,g[e.M01]=0,g[e.M11]=u,g[e.M21]=0,g[e.M31]=0,g[e.M02]=0,g[e.M12]=0,g[e.M22]=o,g[e.M32]=0,g[e.M03]=l,g[e.M13]=m,g[e.M23]=v,g[e.M33]=1,this},a.prototype.multiply=function(t){var r=this.temp,n=this.values,i=t.values;return r[e.M00]=n[e.M00]*i[e.M00]+n[e.M01]*i[e.M10]+n[e.M02]*i[e.M20]+n[e.M03]*i[e.M30],r[e.M01]=n[e.M00]*i[e.M01]+n[e.M01]*i[e.M11]+n[e.M02]*i[e.M21]+n[e.M03]*i[e.M31],r[e.M02]=n[e.M00]*i[e.M02]+n[e.M01]*i[e.M12]+n[e.M02]*i[e.M22]+n[e.M03]*i[e.M32],r[e.M03]=n[e.M00]*i[e.M03]+n[e.M01]*i[e.M13]+n[e.M02]*i[e.M23]+n[e.M03]*i[e.M33],r[e.M10]=n[e.M10]*i[e.M00]+n[e.M11]*i[e.M10]+n[e.M12]*i[e.M20]+n[e.M13]*i[e.M30],r[e.M11]=n[e.M10]*i[e.M01]+n[e.M11]*i[e.M11]+n[e.M12]*i[e.M21]+n[e.M13]*i[e.M31],r[e.M12]=n[e.M10]*i[e.M02]+n[e.M11]*i[e.M12]+n[e.M12]*i[e.M22]+n[e.M13]*i[e.M32],r[e.M13]=n[e.M10]*i[e.M03]+n[e.M11]*i[e.M13]+n[e.M12]*i[e.M23]+n[e.M13]*i[e.M33],r[e.M20]=n[e.M20]*i[e.M00]+n[e.M21]*i[e.M10]+n[e.M22]*i[e.M20]+n[e.M23]*i[e.M30],r[e.M21]=n[e.M20]*i[e.M01]+n[e.M21]*i[e.M11]+n[e.M22]*i[e.M21]+n[e.M23]*i[e.M31],r[e.M22]=n[e.M20]*i[e.M02]+n[e.M21]*i[e.M12]+n[e.M22]*i[e.M22]+n[e.M23]*i[e.M32],r[e.M23]=n[e.M20]*i[e.M03]+n[e.M21]*i[e.M13]+n[e.M22]*i[e.M23]+n[e.M23]*i[e.M33],r[e.M30]=n[e.M30]*i[e.M00]+n[e.M31]*i[e.M10]+n[e.M32]*i[e.M20]+n[e.M33]*i[e.M30],r[e.M31]=n[e.M30]*i[e.M01]+n[e.M31]*i[e.M11]+n[e.M32]*i[e.M21]+n[e.M33]*i[e.M31],r[e.M32]=n[e.M30]*i[e.M02]+n[e.M31]*i[e.M12]+n[e.M32]*i[e.M22]+n[e.M33]*i[e.M32],r[e.M33]=n[e.M30]*i[e.M03]+n[e.M31]*i[e.M13]+n[e.M32]*i[e.M23]+n[e.M33]*i[e.M33],this.set(this.temp)},a.prototype.multiplyLeft=function(t){var r=this.temp,n=this.values,i=t.values;return r[e.M00]=i[e.M00]*n[e.M00]+i[e.M01]*n[e.M10]+i[e.M02]*n[e.M20]+i[e.M03]*n[e.M30],r[e.M01]=i[e.M00]*n[e.M01]+i[e.M01]*n[e.M11]+i[e.M02]*n[e.M21]+i[e.M03]*n[e.M31],r[e.M02]=i[e.M00]*n[e.M02]+i[e.M01]*n[e.M12]+i[e.M02]*n[e.M22]+i[e.M03]*n[e.M32],r[e.M03]=i[e.M00]*n[e.M03]+i[e.M01]*n[e.M13]+i[e.M02]*n[e.M23]+i[e.M03]*n[e.M33],r[e.M10]=i[e.M10]*n[e.M00]+i[e.M11]*n[e.M10]+i[e.M12]*n[e.M20]+i[e.M13]*n[e.M30],r[e.M11]=i[e.M10]*n[e.M01]+i[e.M11]*n[e.M11]+i[e.M12]*n[e.M21]+i[e.M13]*n[e.M31],r[e.M12]=i[e.M10]*n[e.M02]+i[e.M11]*n[e.M12]+i[e.M12]*n[e.M22]+i[e.M13]*n[e.M32],r[e.M13]=i[e.M10]*n[e.M03]+i[e.M11]*n[e.M13]+i[e.M12]*n[e.M23]+i[e.M13]*n[e.M33],r[e.M20]=i[e.M20]*n[e.M00]+i[e.M21]*n[e.M10]+i[e.M22]*n[e.M20]+i[e.M23]*n[e.M30],r[e.M21]=i[e.M20]*n[e.M01]+i[e.M21]*n[e.M11]+i[e.M22]*n[e.M21]+i[e.M23]*n[e.M31],r[e.M22]=i[e.M20]*n[e.M02]+i[e.M21]*n[e.M12]+i[e.M22]*n[e.M22]+i[e.M23]*n[e.M32],r[e.M23]=i[e.M20]*n[e.M03]+i[e.M21]*n[e.M13]+i[e.M22]*n[e.M23]+i[e.M23]*n[e.M33],r[e.M30]=i[e.M30]*n[e.M00]+i[e.M31]*n[e.M10]+i[e.M32]*n[e.M20]+i[e.M33]*n[e.M30],r[e.M31]=i[e.M30]*n[e.M01]+i[e.M31]*n[e.M11]+i[e.M32]*n[e.M21]+i[e.M33]*n[e.M31],r[e.M32]=i[e.M30]*n[e.M02]+i[e.M31]*n[e.M12]+i[e.M32]*n[e.M22]+i[e.M33]*n[e.M32],r[e.M33]=i[e.M30]*n[e.M03]+i[e.M31]*n[e.M13]+i[e.M32]*n[e.M23]+i[e.M33]*n[e.M33],this.set(this.temp)},a.prototype.lookAt=function(t,r,n){a.initTemps();var i=a.xAxis,c=a.yAxis,h=a.zAxis;h.setFrom(r).normalize(),i.setFrom(r).normalize(),i.cross(n).normalize(),c.setFrom(i).cross(h).normalize(),this.identity();var f=this.values;return f[e.M00]=i.x,f[e.M01]=i.y,f[e.M02]=i.z,f[e.M10]=c.x,f[e.M11]=c.y,f[e.M12]=c.z,f[e.M20]=-h.x,f[e.M21]=-h.y,f[e.M22]=-h.z,a.tmpMatrix.identity(),a.tmpMatrix.values[e.M03]=-t.x,a.tmpMatrix.values[e.M13]=-t.y,a.tmpMatrix.values[e.M23]=-t.z,this.multiply(a.tmpMatrix),this},a.initTemps=function(){a.xAxis===null&&(a.xAxis=new e.Vector3),a.yAxis===null&&(a.yAxis=new e.Vector3),a.zAxis===null&&(a.zAxis=new e.Vector3)},a.xAxis=null,a.yAxis=null,a.zAxis=null,a.tmpMatrix=new a,a}();e.Matrix4=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function f(u,o,l,m){this.attributes=o,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=u instanceof e.ManagedWebGLRenderingContext?u:new e.ManagedWebGLRenderingContext(u),this.elementsPerVertex=0;for(var v=0;v<o.length;v++)this.elementsPerVertex+=o[v].numElements;this.vertices=new Float32Array(l*this.elementsPerVertex),this.indices=new Uint16Array(m),this.context.addRestorable(this)}return f.prototype.getAttributes=function(){return this.attributes},f.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},f.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},f.prototype.setVerticesLength=function(u){this.dirtyVertices=!0,this.verticesLength=u},f.prototype.getVertices=function(){return this.vertices},f.prototype.maxIndices=function(){return this.indices.length},f.prototype.numIndices=function(){return this.indicesLength},f.prototype.setIndicesLength=function(u){this.dirtyIndices=!0,this.indicesLength=u},f.prototype.getIndices=function(){return this.indices},f.prototype.getVertexSizeInFloats=function(){for(var u=0,o=0;o<this.attributes.length;o++){var l=this.attributes[o];u+=l.numElements}return u},f.prototype.setVertices=function(u){if(this.dirtyVertices=!0,u.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(u,0),this.verticesLength=u.length},f.prototype.setIndices=function(u){if(this.dirtyIndices=!0,u.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(u,0),this.indicesLength=u.length},f.prototype.draw=function(u,o){this.drawWithOffset(u,o,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},f.prototype.drawWithOffset=function(u,o,l,m){var v=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(u),this.indicesLength>0?v.drawElements(o,m,v.UNSIGNED_SHORT,l*2):v.drawArrays(o,l,m),this.unbind(u)},f.prototype.bind=function(u){var o=this.context.gl;o.bindBuffer(o.ARRAY_BUFFER,this.verticesBuffer);for(var l=0,m=0;m<this.attributes.length;m++){var v=this.attributes[m],g=u.getAttributeLocation(v.name);o.enableVertexAttribArray(g),o.vertexAttribPointer(g,v.numElements,o.FLOAT,!1,this.elementsPerVertex*4,l*4),l+=v.numElements}this.indicesLength>0&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},f.prototype.unbind=function(u){for(var o=this.context.gl,l=0;l<this.attributes.length;l++){var m=this.attributes[l],v=u.getAttributeLocation(m.name);o.disableVertexAttribArray(v)}o.bindBuffer(o.ARRAY_BUFFER,null),this.indicesLength>0&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null)},f.prototype.update=function(){var u=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=u.createBuffer()),u.bindBuffer(u.ARRAY_BUFFER,this.verticesBuffer),u.bufferData(u.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),u.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=u.createBuffer()),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),u.bufferData(u.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),u.DYNAMIC_DRAW),this.dirtyIndices=!1)},f.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},f.prototype.dispose=function(){this.context.removeRestorable(this);var u=this.context.gl;u.deleteBuffer(this.verticesBuffer),u.deleteBuffer(this.indicesBuffer)},f}();e.Mesh=d;var a=function(){function f(u,o,l){this.name=u,this.type=o,this.numElements=l}return f}();e.VertexAttribute=a;var t=function(f){rt(u,f);function u(){return f.call(this,e.Shader.POSITION,h.Float,2)||this}return u}(a);e.Position2Attribute=t;var r=function(f){rt(u,f);function u(){return f.call(this,e.Shader.POSITION,h.Float,3)||this}return u}(a);e.Position3Attribute=r;var n=function(f){rt(u,f);function u(o){return o===void 0&&(o=0),f.call(this,e.Shader.TEXCOORDS+(o==0?"":o),h.Float,2)||this}return u}(a);e.TexCoordAttribute=n;var i=function(f){rt(u,f);function u(){return f.call(this,e.Shader.COLOR,h.Float,4)||this}return u}(a);e.ColorAttribute=i;var c=function(f){rt(u,f);function u(){return f.call(this,e.Shader.COLOR2,h.Float,4)||this}return u}(a);e.Color2Attribute=c;var h;(function(f){f[f.Float=0]="Float"})(h=e.VertexAttributeType||(e.VertexAttributeType={}))})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t,r,n){if(r===void 0&&(r=!0),n===void 0&&(n=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t);var i=r?[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute,new e.Color2Attribute]:[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute];this.mesh=new e.Mesh(t,i,n,n*3),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return a.prototype.begin=function(t){var r=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0,r.enable(r.BLEND),r.blendFunc(this.srcBlend,this.dstBlend)},a.prototype.setBlendMode=function(t,r){var n=this.context.gl;this.srcBlend=t,this.dstBlend=r,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},a.prototype.draw=function(t,r,n){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+r.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();var i=this.mesh.numVertices();this.mesh.getVertices().set(r,this.verticesLength),this.verticesLength+=r.length,this.mesh.setVerticesLength(this.verticesLength);for(var c=this.mesh.getIndices(),h=this.indicesLength,f=0;f<n.length;h++,f++)c[h]=n[f]+i;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)},a.prototype.flush=function(){var t=this.context.gl;this.verticesLength!=0&&(this.lastTexture.bind(),this.mesh.draw(this.shader,t.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},a.prototype.end=function(){var t=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,t.disable(t.BLEND)},a.prototype.getDrawCalls=function(){return this.drawCalls},a.prototype.dispose=function(){this.mesh.dispose()},a}();e.PolygonBatcher=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function t(r,n,i){i===void 0&&(i=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new s.Color(1,1,1,1),this.canvas=r,this.context=n instanceof e.ManagedWebGLRenderingContext?n:new e.ManagedWebGLRenderingContext(n),this.twoColorTint=i,this.camera=new e.OrthoCamera(r.width,r.height),this.batcherShader=i?e.Shader.newTwoColoredTextured(this.context):e.Shader.newColoredTextured(this.context),this.batcher=new e.PolygonBatcher(this.context,i),this.shapesShader=e.Shader.newColored(this.context),this.shapes=new e.ShapeRenderer(this.context),this.skeletonRenderer=new e.SkeletonRenderer(this.context,i),this.skeletonDebugRenderer=new e.SkeletonDebugRenderer(this.context)}return t.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},t.prototype.drawSkeleton=function(r,n,i,c){n===void 0&&(n=!1),i===void 0&&(i=-1),c===void 0&&(c=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=n,this.skeletonRenderer.draw(this.batcher,r,i,c)},t.prototype.drawSkeletonDebug=function(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=n,this.skeletonDebugRenderer.draw(this.shapes,r,i)},t.prototype.drawTexture=function(r,n,i,c,h,f){f===void 0&&(f=null),this.enableRenderer(this.batcher),f===null&&(f=this.WHITE);var u=this.QUAD,o=0;u[o++]=n,u[o++]=i,u[o++]=f.r,u[o++]=f.g,u[o++]=f.b,u[o++]=f.a,u[o++]=0,u[o++]=1,this.twoColorTint&&(u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0),u[o++]=n+c,u[o++]=i,u[o++]=f.r,u[o++]=f.g,u[o++]=f.b,u[o++]=f.a,u[o++]=1,u[o++]=1,this.twoColorTint&&(u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0),u[o++]=n+c,u[o++]=i+h,u[o++]=f.r,u[o++]=f.g,u[o++]=f.b,u[o++]=f.a,u[o++]=1,u[o++]=0,this.twoColorTint&&(u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0),u[o++]=n,u[o++]=i+h,u[o++]=f.r,u[o++]=f.g,u[o++]=f.b,u[o++]=f.a,u[o++]=0,u[o++]=0,this.twoColorTint&&(u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0),this.batcher.draw(r,u,this.QUAD_TRIANGLES)},t.prototype.drawTextureUV=function(r,n,i,c,h,f,u,o,l,m){m===void 0&&(m=null),this.enableRenderer(this.batcher),m===null&&(m=this.WHITE);var v=this.QUAD,g=0;v[g++]=n,v[g++]=i,v[g++]=m.r,v[g++]=m.g,v[g++]=m.b,v[g++]=m.a,v[g++]=f,v[g++]=u,this.twoColorTint&&(v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0),v[g++]=n+c,v[g++]=i,v[g++]=m.r,v[g++]=m.g,v[g++]=m.b,v[g++]=m.a,v[g++]=o,v[g++]=u,this.twoColorTint&&(v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0),v[g++]=n+c,v[g++]=i+h,v[g++]=m.r,v[g++]=m.g,v[g++]=m.b,v[g++]=m.a,v[g++]=o,v[g++]=l,this.twoColorTint&&(v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0),v[g++]=n,v[g++]=i+h,v[g++]=m.r,v[g++]=m.g,v[g++]=m.b,v[g++]=m.a,v[g++]=f,v[g++]=l,this.twoColorTint&&(v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0),this.batcher.draw(r,v,this.QUAD_TRIANGLES)},t.prototype.drawTextureRotated=function(r,n,i,c,h,f,u,o,l,m){l===void 0&&(l=null),this.enableRenderer(this.batcher),l===null&&(l=this.WHITE);var v=this.QUAD,g=n+f,M=i+u,x=-f,R=-u,E=c-f,A=h-u,y=x,p=R,T=x,w=A,I=E,F=A,k=E,_=R,N=0,L=0,C=0,S=0,V=0,D=0,W=0,b=0;if(o!=0){var H=s.MathUtils.cosDeg(o),Y=s.MathUtils.sinDeg(o);N=H*y-Y*p,L=Y*y+H*p,W=H*T-Y*w,b=Y*T+H*w,V=H*I-Y*F,D=Y*I+H*F,C=V+(N-W),S=D+(L-b)}else N=y,L=p,W=T,b=w,V=I,D=F,C=k,S=_;N+=g,L+=M,C+=g,S+=M,V+=g,D+=M,W+=g,b+=M;var U=0;v[U++]=N,v[U++]=L,v[U++]=l.r,v[U++]=l.g,v[U++]=l.b,v[U++]=l.a,v[U++]=0,v[U++]=1,this.twoColorTint&&(v[U++]=0,v[U++]=0,v[U++]=0,v[U++]=0),v[U++]=C,v[U++]=S,v[U++]=l.r,v[U++]=l.g,v[U++]=l.b,v[U++]=l.a,v[U++]=1,v[U++]=1,this.twoColorTint&&(v[U++]=0,v[U++]=0,v[U++]=0,v[U++]=0),v[U++]=V,v[U++]=D,v[U++]=l.r,v[U++]=l.g,v[U++]=l.b,v[U++]=l.a,v[U++]=1,v[U++]=0,this.twoColorTint&&(v[U++]=0,v[U++]=0,v[U++]=0,v[U++]=0),v[U++]=W,v[U++]=b,v[U++]=l.r,v[U++]=l.g,v[U++]=l.b,v[U++]=l.a,v[U++]=0,v[U++]=0,this.twoColorTint&&(v[U++]=0,v[U++]=0,v[U++]=0,v[U++]=0),this.batcher.draw(r,v,this.QUAD_TRIANGLES)},t.prototype.drawRegion=function(r,n,i,c,h,f,u){f===void 0&&(f=null),this.enableRenderer(this.batcher),f===null&&(f=this.WHITE);var o=this.QUAD,l=0;o[l++]=n,o[l++]=i,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u,o[l++]=r.v2,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n+c,o[l++]=i,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u2,o[l++]=r.v2,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n+c,o[l++]=i+h,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u2,o[l++]=r.v,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n,o[l++]=i+h,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u,o[l++]=r.v,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),this.batcher.draw(r.texture,o,this.QUAD_TRIANGLES)},t.prototype.line=function(r,n,i,c,h,f){h===void 0&&(h=null),this.enableRenderer(this.shapes),this.shapes.line(r,n,i,c,h)},t.prototype.triangle=function(r,n,i,c,h,f,u,o,l,m){o===void 0&&(o=null),l===void 0&&(l=null),m===void 0&&(m=null),this.enableRenderer(this.shapes),this.shapes.triangle(r,n,i,c,h,f,u,o,l,m)},t.prototype.quad=function(r,n,i,c,h,f,u,o,l,m,v,g,M){m===void 0&&(m=null),v===void 0&&(v=null),g===void 0&&(g=null),M===void 0&&(M=null),this.enableRenderer(this.shapes),this.shapes.quad(r,n,i,c,h,f,u,o,l,m,v,g,M)},t.prototype.rect=function(r,n,i,c,h,f){f===void 0&&(f=null),this.enableRenderer(this.shapes),this.shapes.rect(r,n,i,c,h,f)},t.prototype.rectLine=function(r,n,i,c,h,f,u){u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.rectLine(r,n,i,c,h,f,u)},t.prototype.polygon=function(r,n,i,c){c===void 0&&(c=null),this.enableRenderer(this.shapes),this.shapes.polygon(r,n,i,c)},t.prototype.circle=function(r,n,i,c,h,f){h===void 0&&(h=null),f===void 0&&(f=0),this.enableRenderer(this.shapes),this.shapes.circle(r,n,i,c,h,f)},t.prototype.curve=function(r,n,i,c,h,f,u,o,l,m){m===void 0&&(m=null),this.enableRenderer(this.shapes),this.shapes.curve(r,n,i,c,h,f,u,o,l,m)},t.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},t.prototype.resize=function(r){var n=this.canvas,i=n.clientWidth,c=n.clientHeight;let h=window.devicePixelRatio<=2?2:Math.ceil(window.devicePixelRatio);if((n.width!=i*h||n.height!=c*h)&&(n.width=i*h,n.height=c*h),this.context.gl.viewport(0,0,n.width,n.height),r!==a.Stretch){if(r===a.Expand)this.camera.setViewport(n.width,n.height);else if(r===a.Fit){var f=n.width,u=n.height,o=this.camera.viewportWidth,l=this.camera.viewportHeight,m=l/o,v=u/f,g=m<v?o/f:l/u;this.camera.viewportWidth=f*g,this.camera.viewportHeight=u*g}}this.camera.update()},t.prototype.enableRenderer=function(r){this.activeRenderer!==r&&(this.end(),r instanceof e.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):r instanceof e.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},t.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},t}();e.SceneRenderer=d;var a;(function(t){t[t.Stretch=0]="Stretch",t[t.Expand=1]="Expand",t[t.Fit=2]="Fit"})(a=e.ResizeMode||(e.ResizeMode={}))})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t,r,n){this.vertexShader=r,this.fragmentShader=n,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=r,this.fsSource=n,this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t),this.context.addRestorable(this),this.compile()}return a.prototype.getProgram=function(){return this.program},a.prototype.getVertexShader=function(){return this.vertexShader},a.prototype.getFragmentShader=function(){return this.fragmentShader},a.prototype.getVertexShaderSource=function(){return this.vsSource},a.prototype.getFragmentSource=function(){return this.fsSource},a.prototype.compile=function(){var t=this.context.gl;try{this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(r){throw this.dispose(),r}},a.prototype.compileShader=function(t,r){var n=this.context.gl,i=n.createShader(t);if(n.shaderSource(i,r),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var c="Couldn't compile shader: "+n.getShaderInfoLog(i);if(n.deleteShader(i),!n.isContextLost())throw new Error(c)}return i},a.prototype.compileProgram=function(t,r){var n=this.context.gl,i=n.createProgram();if(n.attachShader(i,t),n.attachShader(i,r),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){var c="Couldn't compile shader program: "+n.getProgramInfoLog(i);if(n.deleteProgram(i),!n.isContextLost())throw new Error(c)}return i},a.prototype.restore=function(){this.compile()},a.prototype.bind=function(){this.context.gl.useProgram(this.program)},a.prototype.unbind=function(){this.context.gl.useProgram(null)},a.prototype.setUniformi=function(t,r){this.context.gl.uniform1i(this.getUniformLocation(t),r)},a.prototype.setUniformf=function(t,r){this.context.gl.uniform1f(this.getUniformLocation(t),r)},a.prototype.setUniform2f=function(t,r,n){this.context.gl.uniform2f(this.getUniformLocation(t),r,n)},a.prototype.setUniform3f=function(t,r,n,i){this.context.gl.uniform3f(this.getUniformLocation(t),r,n,i)},a.prototype.setUniform4f=function(t,r,n,i,c){this.context.gl.uniform4f(this.getUniformLocation(t),r,n,i,c)},a.prototype.setUniform2x2f=function(t,r){var n=this.context.gl;this.tmp2x2.set(r),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},a.prototype.setUniform3x3f=function(t,r){var n=this.context.gl;this.tmp3x3.set(r),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},a.prototype.setUniform4x4f=function(t,r){var n=this.context.gl;this.tmp4x4.set(r),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},a.prototype.getUniformLocation=function(t){var r=this.context.gl,n=r.getUniformLocation(this.program,t);if(!n&&!r.isContextLost())throw new Error("Couldn't find location for uniform ".concat(t));return n},a.prototype.getAttributeLocation=function(t){var r=this.context.gl,n=r.getAttribLocation(this.program,t);if(n==-1&&!r.isContextLost())throw new Error("Couldn't find location for attribute ".concat(t));return n},a.prototype.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},a.newColoredTextured=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				attribute vec2 `).concat(a.TEXCOORDS,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_color;
				varying vec2 v_texCoords;

				void main () {
					v_color = `).concat(a.COLOR,`;
					v_texCoords = `).concat(a.TEXCOORDS,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
				}
			`;return new a(t,r,n)},a.newTwoColoredTextured=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				attribute vec4 `).concat(a.COLOR2,`;
				attribute vec2 `).concat(a.TEXCOORDS,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_light;
				varying vec4 v_dark;
				varying vec2 v_texCoords;

				void main () {
					v_light = `).concat(a.COLOR,`;
					v_dark = `).concat(a.COLOR2,`;
					v_texCoords = `).concat(a.TEXCOORDS,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_light;
				varying LOWP vec4 v_dark;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					vec4 texColor = texture2D(u_texture, v_texCoords);
					gl_FragColor.a = texColor.a * v_light.a;
					gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
				}
			`;return new a(t,r,n)},a.newColored=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_color;

				void main () {
					v_color = `).concat(a.COLOR,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;

				void main () {
					gl_FragColor = v_color;
				}
			`;return new a(t,r,n)},a.MVP_MATRIX="u_projTrans",a.POSITION="a_position",a.COLOR="a_color",a.COLOR2="a_color2",a.TEXCOORDS="a_texCoords",a.SAMPLER="u_texture",a}();e.Shader=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function t(r,n){if(n===void 0&&(n=10920),this.isDrawing=!1,this.shapeType=a.Filled,this.color=new s.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new s.Vector2,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),this.mesh=new e.Mesh(r,[new e.Position2Attribute,new e.ColorAttribute],n,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return t.prototype.begin=function(r){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=r,this.vertexIndex=0,this.isDrawing=!0;var n=this.context.gl;n.enable(n.BLEND),n.blendFunc(this.srcBlend,this.dstBlend)},t.prototype.setBlendMode=function(r,n){var i=this.context.gl;this.srcBlend=r,this.dstBlend=n,this.isDrawing&&(this.flush(),i.blendFunc(this.srcBlend,this.dstBlend))},t.prototype.setColor=function(r){this.color.setFromColor(r)},t.prototype.setColorWith=function(r,n,i,c){this.color.set(r,n,i,c)},t.prototype.point=function(r,n,i){i===void 0&&(i=null),this.check(a.Point,1),i===null&&(i=this.color),this.vertex(r,n,i)},t.prototype.line=function(r,n,i,c,h){h===void 0&&(h=null),this.check(a.Line,2),this.mesh.getVertices(),this.vertexIndex,h===null&&(h=this.color),this.vertex(r,n,h),this.vertex(i,c,h)},t.prototype.triangle=function(r,n,i,c,h,f,u,o,l,m){o===void 0&&(o=null),l===void 0&&(l=null),m===void 0&&(m=null),this.check(r?a.Filled:a.Line,3),this.mesh.getVertices(),this.vertexIndex,o===null&&(o=this.color),l===null&&(l=this.color),m===null&&(m=this.color),r?(this.vertex(n,i,o),this.vertex(c,h,l),this.vertex(f,u,m)):(this.vertex(n,i,o),this.vertex(c,h,l),this.vertex(c,h,o),this.vertex(f,u,l),this.vertex(f,u,o),this.vertex(n,i,l))},t.prototype.quad=function(r,n,i,c,h,f,u,o,l,m,v,g,M){m===void 0&&(m=null),v===void 0&&(v=null),g===void 0&&(g=null),M===void 0&&(M=null),this.check(r?a.Filled:a.Line,3),this.mesh.getVertices(),this.vertexIndex,m===null&&(m=this.color),v===null&&(v=this.color),g===null&&(g=this.color),M===null&&(M=this.color),r?(this.vertex(n,i,m),this.vertex(c,h,v),this.vertex(f,u,g),this.vertex(f,u,g),this.vertex(o,l,M),this.vertex(n,i,m)):(this.vertex(n,i,m),this.vertex(c,h,v),this.vertex(c,h,v),this.vertex(f,u,g),this.vertex(f,u,g),this.vertex(o,l,M),this.vertex(o,l,M),this.vertex(n,i,m))},t.prototype.rect=function(r,n,i,c,h,f){f===void 0&&(f=null),this.quad(r,n,i,n+c,i,n+c,i+h,n,i+h,f,f,f,f)},t.prototype.rectLine=function(r,n,i,c,h,f,u){u===void 0&&(u=null),this.check(r?a.Filled:a.Line,8),u===null&&(u=this.color);var o=this.tmp.set(h-i,n-c);o.normalize(),f*=.5;var l=o.x*f,m=o.y*f;r?(this.vertex(n+l,i+m,u),this.vertex(n-l,i-m,u),this.vertex(c+l,h+m,u),this.vertex(c-l,h-m,u),this.vertex(c+l,h+m,u),this.vertex(n-l,i-m,u)):(this.vertex(n+l,i+m,u),this.vertex(n-l,i-m,u),this.vertex(c+l,h+m,u),this.vertex(c-l,h-m,u),this.vertex(c+l,h+m,u),this.vertex(n+l,i+m,u),this.vertex(c-l,h-m,u),this.vertex(n-l,i-m,u))},t.prototype.x=function(r,n,i){this.line(r-i,n-i,r+i,n+i),this.line(r-i,n+i,r+i,n-i)},t.prototype.polygon=function(r,n,i,c){if(c===void 0&&(c=null),i<3)throw new Error("Polygon must contain at least 3 vertices");this.check(a.Line,i*2),c===null&&(c=this.color),this.mesh.getVertices(),this.vertexIndex,n<<=1,i<<=1;for(var h=r[n],f=r[n+1],u=n+i,o=n,l=n+i-2;o<l;o+=2){var m=r[o],v=r[o+1],g=0,M=0;o+2>=u?(g=h,M=f):(g=r[o+2],M=r[o+3]),this.vertex(m,v,c),this.vertex(g,M,c)}},t.prototype.circle=function(r,n,i,c,h,f){if(h===void 0&&(h=null),f===void 0&&(f=0),f===0&&(f=Math.max(1,6*s.MathUtils.cbrt(c)|0)),f<=0)throw new Error("segments must be > 0.");h===null&&(h=this.color);var u=2*s.MathUtils.PI/f,o=Math.cos(u),l=Math.sin(u),m=c,v=0;if(r){this.check(a.Filled,f*3+3),f--;for(var g=0;g<f;g++){this.vertex(n,i,h),this.vertex(n+m,i+v,h);var x=m;m=o*m-l*v,v=l*x+o*v,this.vertex(n+m,i+v,h)}this.vertex(n,i,h),this.vertex(n+m,i+v,h)}else{this.check(a.Line,f*2+2);for(var g=0;g<f;g++){this.vertex(n+m,i+v,h);var M=m;m=o*m-l*v,v=l*M+o*v,this.vertex(n+m,i+v,h)}this.vertex(n+m,i+v,h)}m=c,v=0,this.vertex(n+m,i+v,h)},t.prototype.curve=function(r,n,i,c,h,f,u,o,l,m){m===void 0&&(m=null),this.check(a.Line,l*2+2),m===null&&(m=this.color);for(var v=1/l,g=v*v,M=v*v*v,x=3*v,R=3*g,E=6*g,A=6*M,y=r-i*2+h,p=n-c*2+f,T=(i-h)*3-r+u,w=(c-f)*3-n+o,I=r,F=n,k=(i-r)*x+y*R+T*M,_=(c-n)*x+p*R+w*M,N=y*E+T*A,L=p*E+w*A,C=T*A,S=w*A;l-- >0;)this.vertex(I,F,m),I+=k,F+=_,k+=N,_+=L,N+=C,L+=S,this.vertex(I,F,m);this.vertex(I,F,m),this.vertex(u,o,m)},t.prototype.vertex=function(r,n,i){var c=this.vertexIndex,h=this.mesh.getVertices();h[c++]=r,h[c++]=n,h[c++]=i.r,h[c++]=i.g,h[c++]=i.b,h[c++]=i.a,this.vertexIndex=c},t.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},t.prototype.flush=function(){this.vertexIndex!=0&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},t.prototype.check=function(r,n){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==r)if(this.mesh.maxVertices()-this.mesh.numVertices()<n)this.flush();else return;else this.flush(),this.shapeType=r},t.prototype.dispose=function(){this.mesh.dispose()},t}();e.ShapeRenderer=d;var a;(function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"})(a=e.ShapeType||(e.ShapeType={}))})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t){this.boneLineColor=new s.Color(1,0,0,1),this.boneOriginColor=new s.Color(0,1,0,1),this.attachmentLineColor=new s.Color(0,0,1,.5),this.triangleLineColor=new s.Color(1,.64,0,.5),this.pathColor=new s.Color().setFromString("FF7F00"),this.clipColor=new s.Color(.8,0,0,2),this.aabbColor=new s.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new s.SkeletonBounds,this.temp=new Array,this.vertices=s.Utils.newFloatArray(2048),this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t)}return a.prototype.draw=function(t,r,n){n===void 0&&(n=null);var i=r.x,c=r.y,h=this.context.gl,f=this.premultipliedAlpha?h.ONE:h.SRC_ALPHA;t.setBlendMode(f,h.ONE_MINUS_SRC_ALPHA);var u=r.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(var o=0,l=u.length;o<l;o++){var m=u[o];if(!(n&&n.indexOf(m.data.name)>-1)&&m.parent!=null){var v=i+m.data.length*m.a+m.worldX,g=c+m.data.length*m.c+m.worldY;t.rectLine(!0,i+m.worldX,c+m.worldY,v,g,this.boneWidth*this.scale)}}this.drawSkeletonXY&&t.x(i,c,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);for(var M=r.slots,o=0,l=M.length;o<l;o++){var x=M[o],R=x.getAttachment();if(R instanceof s.RegionAttachment){var E=R,A=this.vertices;E.computeWorldVertices(x.bone,A,0,2),t.line(A[0],A[1],A[2],A[3]),t.line(A[2],A[3],A[4],A[5]),t.line(A[4],A[5],A[6],A[7]),t.line(A[6],A[7],A[0],A[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var M=r.slots,o=0,l=M.length;o<l;o++){var x=M[o];if(x.bone.active){var R=x.getAttachment();if(R instanceof s.MeshAttachment){var y=R,A=this.vertices;y.computeWorldVertices(x,0,y.worldVerticesLength,A,0,2);var p=y.triangles,T=y.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(var w=0,I=p.length;w<I;w+=3){var F=p[w]*2,k=p[w+1]*2,_=p[w+2]*2;t.triangle(!1,A[F],A[F+1],A[k],A[k+1],A[_],A[_+1])}}if(this.drawMeshHull&&T>0){t.setColor(this.attachmentLineColor),T=(T>>1)*2;for(var N=A[T-2],L=A[T-1],w=0,I=T;w<I;w+=2){var v=A[w],g=A[w+1];t.line(v,g,N,L),N=v,L=g}}}}}if(this.drawBoundingBoxes){var C=this.bounds;C.update(r,!0),t.setColor(this.aabbColor),t.rect(!1,C.minX,C.minY,C.getWidth(),C.getHeight());for(var S=C.polygons,V=C.boundingBoxes,o=0,l=S.length;o<l;o++){var D=S[o];t.setColor(V[o].color),t.polygon(D,0,D.length)}}if(this.drawPaths)for(var M=r.slots,o=0,l=M.length;o<l;o++){var x=M[o];if(x.bone.active){var R=x.getAttachment();if(R instanceof s.PathAttachment){var W=R,I=W.worldVerticesLength,b=this.temp=s.Utils.setArraySize(this.temp,I,0);W.computeWorldVertices(x,0,I,b,0,2);var H=this.pathColor,Y=b[2],U=b[3],B=0,P=0;if(W.closed){t.setColor(H);var G=b[0],z=b[1],X=b[I-2],J=b[I-1];B=b[I-4],P=b[I-3],t.curve(Y,U,G,z,X,J,B,P,32),t.setColor(a.LIGHT_GRAY),t.line(Y,U,G,z),t.line(B,P,X,J)}I-=4;for(var w=4;w<I;w+=6){var G=b[w],z=b[w+1],X=b[w+2],J=b[w+3];B=b[w+4],P=b[w+5],t.setColor(H),t.curve(Y,U,G,z,X,J,B,P,32),t.setColor(a.LIGHT_GRAY),t.line(Y,U,G,z),t.line(B,P,X,J),Y=B,U=P}}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(var o=0,l=u.length;o<l;o++){var m=u[o];n&&n.indexOf(m.data.name)>-1||t.circle(!0,i+m.worldX,c+m.worldY,3*this.scale,a.GREEN,8)}}if(this.drawClipping){var M=r.slots;t.setColor(this.clipColor);for(var o=0,l=M.length;o<l;o++){var x=M[o];if(x.bone.active){var R=x.getAttachment();if(R instanceof s.ClippingAttachment){var Q=R,I=Q.worldVerticesLength,b=this.temp=s.Utils.setArraySize(this.temp,I,0);Q.computeWorldVertices(x,0,I,b,0,2);for(var nt=0,K=b.length;nt<K;nt+=2){var v=b[nt],g=b[nt+1],B=b[(nt+2)%b.length],P=b[(nt+3)%b.length];t.line(v,g,B,P)}}}}}},a.prototype.dispose=function(){},a.LIGHT_GRAY=new s.Color(.7529411764705882,.7529411764705882,.7529411764705882,1),a.GREEN=new s.Color(0,1,0,1),a}();e.SkeletonDebugRenderer=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function t(r,n,i){this.vertices=r,this.numVertices=n,this.numFloats=i}return t}(),a=function(){function t(r,n){n===void 0&&(n=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new s.Color,this.tempColor2=new s.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new d(null,0,0),this.clipper=new s.SkeletonClipping,this.temp=new s.Vector2,this.temp2=new s.Vector2,this.temp3=new s.Color,this.temp4=new s.Color,this.twoColorTint=n,n&&(this.vertexSize+=4),this.vertices=s.Utils.newFloatArray(this.vertexSize*1024)}return t.prototype.draw=function(r,n,i,c){i===void 0&&(i=-1),c===void 0&&(c=-1);var h=this.clipper,f=this.premultipliedAlpha,u=this.twoColorTint,o=null,l=this.temp,m=this.temp2,v=this.temp3,g=this.temp4,M=this.renderable,x=null,R=null,E=n.drawOrder,A=null,y=n.color,p=u?12:8,T=!1;i==-1&&(T=!0);for(var w=0,I=E.length;w<I;w++){var F=h.isClipping()?2:p,k=E[w];if(!k.bone.active){h.clipEndWithSlot(k);continue}if(i>=0&&i==k.data.index&&(T=!0),!T){h.clipEndWithSlot(k);continue}c>=0&&c==k.data.index&&(T=!1);var _=k.getAttachment(),N=null;if(_ instanceof s.RegionAttachment){var L=_;M.vertices=this.vertices,M.numVertices=4,M.numFloats=F<<2,L.computeWorldVertices(k.bone,M.vertices,0,F),R=t.QUAD_TRIANGLES,x=L.uvs,N=L.region.renderObject.texture,A=L.color}else if(_ instanceof s.MeshAttachment){var C=_;M.vertices=this.vertices,M.numVertices=C.worldVerticesLength>>1,M.numFloats=M.numVertices*F,M.numFloats>M.vertices.length&&(M.vertices=this.vertices=s.Utils.newFloatArray(M.numFloats)),C.computeWorldVertices(k,0,C.worldVerticesLength,M.vertices,0,F),R=C.triangles,N=C.region.renderObject.texture,x=C.uvs,A=C.color}else if(_ instanceof s.ClippingAttachment){var S=_;h.clipStart(k,S);continue}else{h.clipEndWithSlot(k);continue}if(N!=null){var V=k.color,D=this.tempColor;D.r=y.r*V.r*A.r,D.g=y.g*V.g*A.g,D.b=y.b*V.b*A.b,D.a=y.a*V.a*A.a,f&&(D.r*=D.a,D.g*=D.a,D.b*=D.a);var W=this.tempColor2;k.darkColor==null?W.set(0,0,0,1):(f?(W.r=k.darkColor.r*D.a,W.g=k.darkColor.g*D.a,W.b=k.darkColor.b*D.a):W.setFromColor(k.darkColor),W.a=f?1:0);var b=k.data.blendMode;if(b!=o&&(o=b,r.setBlendMode(e.WebGLBlendModeConverter.getSourceGLBlendMode(o,f),e.WebGLBlendModeConverter.getDestGLBlendMode(o))),h.isClipping()){h.clipTriangles(M.vertices,M.numFloats,R,R.length,x,D,W,u);var H=new Float32Array(h.clippedVertices),Y=h.clippedTriangles;if(this.vertexEffect!=null){var U=this.vertexEffect,B=H;if(u)for(var P=0,z=H.length;P<z;P+=p)l.x=B[P],l.y=B[P+1],v.set(B[P+2],B[P+3],B[P+4],B[P+5]),m.x=B[P+6],m.y=B[P+7],g.set(B[P+8],B[P+9],B[P+10],B[P+11]),U.transform(l,m,v,g),B[P]=l.x,B[P+1]=l.y,B[P+2]=v.r,B[P+3]=v.g,B[P+4]=v.b,B[P+5]=v.a,B[P+6]=m.x,B[P+7]=m.y,B[P+8]=g.r,B[P+9]=g.g,B[P+10]=g.b,B[P+11]=g.a;else for(var P=0,G=H.length;P<G;P+=p)l.x=B[P],l.y=B[P+1],v.set(B[P+2],B[P+3],B[P+4],B[P+5]),m.x=B[P+6],m.y=B[P+7],g.set(0,0,0,0),U.transform(l,m,v,g),B[P]=l.x,B[P+1]=l.y,B[P+2]=v.r,B[P+3]=v.g,B[P+4]=v.b,B[P+5]=v.a,B[P+6]=m.x,B[P+7]=m.y}r.draw(N,H,Y)}else{var B=M.vertices;if(this.vertexEffect!=null){var U=this.vertexEffect;if(u)for(var P=0,X=0,Q=M.numFloats;P<Q;P+=p,X+=2)l.x=B[P],l.y=B[P+1],m.x=x[X],m.y=x[X+1],v.setFromColor(D),g.setFromColor(W),U.transform(l,m,v,g),B[P]=l.x,B[P+1]=l.y,B[P+2]=v.r,B[P+3]=v.g,B[P+4]=v.b,B[P+5]=v.a,B[P+6]=m.x,B[P+7]=m.y,B[P+8]=g.r,B[P+9]=g.g,B[P+10]=g.b,B[P+11]=g.a;else for(var P=0,X=0,J=M.numFloats;P<J;P+=p,X+=2)l.x=B[P],l.y=B[P+1],m.x=x[X],m.y=x[X+1],v.setFromColor(D),g.set(0,0,0,0),U.transform(l,m,v,g),B[P]=l.x,B[P+1]=l.y,B[P+2]=v.r,B[P+3]=v.g,B[P+4]=v.b,B[P+5]=v.a,B[P+6]=m.x,B[P+7]=m.y}else if(u)for(var P=2,X=0,K=M.numFloats;P<K;P+=p,X+=2)B[P]=D.r,B[P+1]=D.g,B[P+2]=D.b,B[P+3]=D.a,B[P+4]=x[X],B[P+5]=x[X+1],B[P+6]=W.r,B[P+7]=W.g,B[P+8]=W.b,B[P+9]=W.a;else for(var P=2,X=0,nt=M.numFloats;P<nt;P+=p,X+=2)B[P]=D.r,B[P+1]=D.g,B[P+2]=D.b,B[P+3]=D.a,B[P+4]=x[X],B[P+5]=x[X+1];var ht=M.vertices.subarray(0,M.numFloats);r.draw(N,ht,R)}}h.clipEndWithSlot(k)}h.clipEnd()},t.QUAD_TRIANGLES=[0,1,2,2,3,0],t}();e.SkeletonRenderer=a})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function a(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=r,this.z=n}return a.prototype.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},a.prototype.set=function(t,r,n){return this.x=t,this.y=r,this.z=n,this},a.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},a.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},a.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},a.prototype.normalize=function(){var t=this.length();return t==0?this:(t=1/t,this.x*=t,this.y*=t,this.z*=t,this)},a.prototype.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},a.prototype.multiply=function(t){var r=t.values;return this.set(this.x*r[e.M00]+this.y*r[e.M01]+this.z*r[e.M02]+r[e.M03],this.x*r[e.M10]+this.y*r[e.M11]+this.z*r[e.M12]+r[e.M13],this.x*r[e.M20]+this.y*r[e.M21]+this.z*r[e.M22]+r[e.M23])},a.prototype.project=function(t){var r=t.values,n=1/(this.x*r[e.M30]+this.y*r[e.M31]+this.z*r[e.M32]+r[e.M33]);return this.set((this.x*r[e.M00]+this.y*r[e.M01]+this.z*r[e.M02]+r[e.M03])*n,(this.x*r[e.M10]+this.y*r[e.M11]+this.z*r[e.M12]+r[e.M13])*n,(this.x*r[e.M20]+this.y*r[e.M21]+this.z*r[e.M22]+r[e.M23])*n)},a.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},a.prototype.distance=function(t){var r=t.x-this.x,n=t.y-this.y,i=t.z-this.z;return Math.sqrt(r*r+n*n+i*i)},a}();e.Vector3=d})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){(function(e){var d=function(){function t(r,n){n===void 0&&(n={alpha:"true"}),this.restorables=new Array,r instanceof WebGLRenderingContext||r instanceof WebGL2RenderingContext?(this.gl=r,this.canvas=this.gl.canvas):this.setupCanvas(r,n)}return t.prototype.setupCanvas=function(r,n){var i=this;this.gl=r.getContext("webgl2",n)||r.getContext("webgl",n),this.canvas=r,r.addEventListener("webglcontextlost",function(c){c&&c.preventDefault()}),r.addEventListener("webglcontextrestored",function(c){for(var h=0,f=i.restorables.length;h<f;h++)i.restorables[h].restore()})},t.prototype.addRestorable=function(r){this.restorables.push(r)},t.prototype.removeRestorable=function(r){var n=this.restorables.indexOf(r);n>-1&&this.restorables.splice(n,1)},t}();e.ManagedWebGLRenderingContext=d;var a=function(){function t(){}return t.getDestGLBlendMode=function(r){switch(r){case s.BlendMode.Normal:return t.ONE_MINUS_SRC_ALPHA;case s.BlendMode.Additive:return t.ONE;case s.BlendMode.Multiply:return t.ONE_MINUS_SRC_ALPHA;case s.BlendMode.Screen:return t.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+r)}},t.getSourceGLBlendMode=function(r,n){switch(n===void 0&&(n=!1),r){case s.BlendMode.Normal:return n?t.ONE:t.SRC_ALPHA;case s.BlendMode.Additive:return n?t.ONE:t.SRC_ALPHA;case s.BlendMode.Multiply:return t.DST_COLOR;case s.BlendMode.Screen:return t.ONE;default:throw new Error("Unknown blend mode: "+r)}},t.ZERO=0,t.ONE=1,t.SRC_COLOR=768,t.ONE_MINUS_SRC_COLOR=769,t.SRC_ALPHA=770,t.ONE_MINUS_SRC_ALPHA=771,t.DST_ALPHA=772,t.ONE_MINUS_DST_ALPHA=773,t.DST_COLOR=774,t}();e.WebGLBlendModeConverter=a})(s.webgl||(s.webgl={}))})(O||(O={}));var O;(function(s){var e=function(){function u(o,l,m){this.player=o,this.dom=c(`
				<div class="spine-player-popup spine-player-hidden">
				</div>
			`),this.dom.innerHTML=m,l.appendChild(this.dom)}return u.prototype.show=function(o){var l=this;this.dom.classList.remove("spine-player-hidden");var m=!1,v=function(){m||requestAnimationFrame(v);var x=Math.abs(l.dom.getBoundingClientRect().bottom-l.player.getBoundingClientRect().bottom),R=Math.abs(l.dom.getBoundingClientRect().right-l.player.getBoundingClientRect().right),E=l.player.clientHeight-x-R;l.dom.style.maxHeight=E+"px"};requestAnimationFrame(v);var g=!0,M=function(x){if(g){g=!1;return}r(l.dom,x.target)||(l.dom.remove(),window.removeEventListener("click",M),o(),m=!0)};window.addEventListener("click",M)},u}(),d=function(){function u(o){this.text=o,this.enabled=!1}return u.prototype.render=function(){var o=this;return this.switch=c(`
				<div class="spine-player-switch">
					<span class="spine-player-switch-text">`.concat(this.text,`</span>
					<div class="spine-player-switch-knob-area">
						<div class="spine-player-switch-knob"></div>
					</div>
				</div>
			`)),this.switch.addEventListener("click",function(){o.setEnabled(!o.enabled),o.change&&o.change(o.enabled)}),this.switch},u.prototype.setEnabled=function(o){o?this.switch.classList.add("active"):this.switch.classList.remove("active"),this.enabled=o},u.prototype.isEnabled=function(){return this.enabled},u}(),a=function(){function u(o,l,m){o===void 0&&(o=0),l===void 0&&(l=.1),m===void 0&&(m=!1),this.snaps=o,this.snapPercentage=l,this.big=m}return u.prototype.render=function(){var o=this;this.slider=c(`
				<div class="spine-player-slider `.concat(this.big?"big":"",`">
					<div class="spine-player-slider-value"></div>
					<!--<div class="spine-player-slider-knob"></div>-->
				</div>
			`)),this.value=i(this.slider,"spine-player-slider-value")[0],this.setValue(0);var l=new s.webgl.Input(this.slider),m=!1;return l.addListener({down:function(v,g){m=!0,o.value.classList.add("hovering")},up:function(v,g){m=!1;var M=v/o.slider.clientWidth;M=M=Math.max(0,Math.min(M,1)),o.setValue(v/o.slider.clientWidth),o.change&&o.change(M),o.value.classList.remove("hovering")},moved:function(v,g){if(m){var M=v/o.slider.clientWidth;M=Math.max(0,Math.min(M,1)),M=o.setValue(v/o.slider.clientWidth),o.change&&o.change(M)}},dragged:function(v,g){var M=v/o.slider.clientWidth;M=Math.max(0,Math.min(M,1)),M=o.setValue(v/o.slider.clientWidth),o.change&&o.change(M)}}),this.slider},u.prototype.setValue=function(o){if(o=Math.max(0,Math.min(1,o)),this.snaps>0){var l=o%(1/this.snaps);l<1/this.snaps*this.snapPercentage?o=o-l:l>1/this.snaps-1/this.snaps*this.snapPercentage&&(o=o-l+1/this.snaps),o=Math.max(0,Math.min(1,o))}return this.value.style.width=""+o*100+"%",o},u}(),t=function(){function u(o,l){this.config=l,this.paused=!0,this.playTime=0,this.speed=1,this.time=new s.TimeKeeper,this.animationViewports={},this.currentViewport=null,this.previousViewport=null,this.viewportTransitionStart=0,this.stopRequestAnimationFrame=!1,this.cancelId=0,typeof o=="string"?this.parent=document.getElementById(o):this.parent=o,this.parent.appendChild(this.render())}return u.prototype.validateConfig=function(o){if(!o)throw new Error("Please pass a configuration to new.spine.SpinePlayer().");if(!o.jsonUrl&&!o.skelUrl)throw new Error("Please specify the URL of the skeleton JSON or .skel file.");if(!o.atlasUrl)throw new Error("Please specify the URL of the atlas file.");if(o.alpha||(o.alpha=!1),o.backgroundColor||(o.backgroundColor="#000000"),o.fullScreenBackgroundColor||(o.fullScreenBackgroundColor=o.backgroundColor),typeof o.premultipliedAlpha>"u"&&(o.premultipliedAlpha=!0),o.success||(o.success=function(l){}),o.error||(o.error=function(l,m){}),o.debug||(o.debug={bones:!1,regions:!1,meshes:!1,bounds:!1,clipping:!1,paths:!1,points:!1,hulls:!1}),typeof o.debug.bones>"u"&&(o.debug.bones=!1),typeof o.debug.bounds>"u"&&(o.debug.bounds=!1),typeof o.debug.clipping>"u"&&(o.debug.clipping=!1),typeof o.debug.hulls>"u"&&(o.debug.hulls=!1),typeof o.debug.paths>"u"&&(o.debug.paths=!1),typeof o.debug.points>"u"&&(o.debug.points=!1),typeof o.debug.regions>"u"&&(o.debug.regions=!1),typeof o.debug.meshes>"u"&&(o.debug.meshes=!1),o.animations&&o.animation&&o.animations.indexOf(o.animation)<0)throw new Error("Default animation '"+o.animation+"' is not contained in the list of selectable animations "+f(JSON.stringify(this.config.animations))+".");if(o.skins&&o.skin&&o.skins.indexOf(o.skin)<0)throw new Error("Default skin '"+o.skin+"' is not contained in the list of selectable skins "+f(JSON.stringify(this.config.skins))+".");return o.controlBones||(o.controlBones=[]),typeof o.showControls>"u"&&(o.showControls=!0),typeof o.defaultMix>"u"&&(o.defaultMix=.25),o},u.prototype.showError=function(o){var l=i(this.dom,"spine-player-error")[0];l.classList.remove("spine-player-hidden"),l.innerHTML='<p style="text-align: center; align-self: center;">'.concat(o,"</p>"),this.config.error(this,o)},u.prototype.render=function(){var o=this,l=this.config,m=this.dom=c(`
				<div class="spine-player">
					<canvas class="spine-player-canvas"></canvas>
					<div class="spine-player-error spine-player-hidden"></div>
					<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">
						<div class="spine-player-timeline">
						</div>
						<div class="spine-player-buttons">
							<button id="spine-player-button-play-pause" class="spine-player-button spine-player-button-icon-pause"></button>
							<div class="spine-player-button-spacer"></div>
							<button id="spine-player-button-speed" class="spine-player-button spine-player-button-icon-speed"></button>
							<button id="spine-player-button-animation" class="spine-player-button spine-player-button-icon-animations"></button>
							<button id="spine-player-button-skin" class="spine-player-button spine-player-button-icon-skins"></button>
							<button id="spine-player-button-settings" class="spine-player-button spine-player-button-icon-settings"></button>
							<button id="spine-player-button-fullscreen" class="spine-player-button spine-player-button-icon-fullscreen"></button>
							<img id="spine-player-button-logo" class="spine-player-button-icon-spine-logo" src="data:image/svg+xml,%3Csvg%20id%3D%22Spine_Logo%22%20data-name%3D%22Spine%20Logo%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20104%2031.16%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23fff%3B%7D.cls-2%7Bfill%3A%23ff4000%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Espine-logo-white%3C%2Ftitle%3E%3Cpath%20id%3D%22e%22%20class%3D%22cls-1%22%20d%3D%22M104%2C12.68a1.31%2C1.31%2C0%2C0%2C1-.37%2C1%2C1.28%2C1.28%2C0%2C0%2C1-.85.31H91.57a10.51%2C10.51%2C0%2C0%2C0%2C.29%2C2.55%2C4.92%2C4.92%2C0%2C0%2C0%2C1%2C2A4.27%2C4.27%2C0%2C0%2C0%2C94.5%2C19.8a6.89%2C6.89%2C0%2C0%2C0%2C2.6.44%2C10.66%2C10.66%2C0%2C0%2C0%2C2.17-.2%2C12.81%2C12.81%2C0%2C0%2C0%2C1.64-.44q.69-.25%2C1.14-.44a1.87%2C1.87%2C0%2C0%2C1%2C.68-.2A.44.44%2C0%2C0%2C1%2C103%2C19a.43.43%2C0%2C0%2C1%2C.16.2%2C1.38%2C1.38%2C0%2C0%2C1%2C.09.37%2C4.89%2C4.89%2C0%2C0%2C1%2C0%2C.58%2C4.14%2C4.14%2C0%2C0%2C1%2C0%2C.43v.32a.83.83%2C0%2C0%2C1-.09.26%2C1.1%2C1.1%2C0%2C0%2C1-.17.22%2C2.77%2C2.77%2C0%2C0%2C1-.61.34%2C8.94%2C8.94%2C0%2C0%2C1-1.32.46%2C18.54%2C18.54%2C0%2C0%2C1-1.88.41%2C13.78%2C13.78%2C0%2C0%2C1-2.28.18%2C10.55%2C10.55%2C0%2C0%2C1-3.68-.59%2C6.82%2C6.82%2C0%2C0%2C1-2.66-1.74%2C7.44%2C7.44%2C0%2C0%2C1-1.63-2.89%2C13.48%2C13.48%2C0%2C0%2C1-.55-4%2C12.76%2C12.76%2C0%2C0%2C1%2C.57-3.94%2C8.35%2C8.35%2C0%2C0%2C1%2C1.64-3%2C7.15%2C7.15%2C0%2C0%2C1%2C2.58-1.87%2C8.47%2C8.47%2C0%2C0%2C1%2C3.39-.65%2C8.19%2C8.19%2C0%2C0%2C1%2C3.41.64%2C6.46%2C6.46%2C0%2C0%2C1%2C2.32%2C1.73A7%2C7%2C0%2C0%2C1%2C103.59%2C9a11.17%2C11.17%2C0%2C0%2C1%2C.43%2C3.13Zm-3.14-.93a5.69%2C5.69%2C0%2C0%2C0-1.09-3.86%2C4.17%2C4.17%2C0%2C0%2C0-3.42-1.4%2C4.52%2C4.52%2C0%2C0%2C0-2%2C.44%2C4.41%2C4.41%2C0%2C0%2C0-1.47%2C1.15A5.29%2C5.29%2C0%2C0%2C0%2C92%2C9.75a7%2C7%2C0%2C0%2C0-.36%2C2Z%22%2F%3E%3Cpath%20id%3D%22n%22%20class%3D%22cls-1%22%20d%3D%22M80.68%2C21.94a.42.42%2C0%2C0%2C1-.08.26.59.59%2C0%2C0%2C1-.25.18%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.31%2C6.31%2C0%2C0%2C1-.76%2C0%2C6.5%2C6.5%2C0%2C0%2C1-.78%2C0%2C1.74%2C1.74%2C0%2C0%2C1-.47-.11.59.59%2C0%2C0%2C1-.25-.18.42.42%2C0%2C0%2C1-.08-.26V12a9.8%2C9.8%2C0%2C0%2C0-.23-2.35%2C4.86%2C4.86%2C0%2C0%2C0-.66-1.53%2C2.88%2C2.88%2C0%2C0%2C0-1.13-1%2C3.57%2C3.57%2C0%2C0%2C0-1.6-.34%2C4%2C4%2C0%2C0%2C0-2.35.83A12.71%2C12.71%2C0%2C0%2C0%2C69.11%2C10v11.9a.42.42%2C0%2C0%2C1-.08.26.59.59%2C0%2C0%2C1-.25.18%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.51%2C6.51%2C0%2C0%2C1-.78%2C0%2C6.31%2C6.31%2C0%2C0%2C1-.76%2C0%2C1.88%2C1.88%2C0%2C0%2C1-.48-.11.52.52%2C0%2C0%2C1-.25-.18.46.46%2C0%2C0%2C1-.07-.26v-17A.53.53%2C0%2C0%2C1%2C66%2C4.69a.5.5%2C0%2C0%2C1%2C.23-.19%2C1.28%2C1.28%2C0%2C0%2C1%2C.44-.11%2C8.53%2C8.53%2C0%2C0%2C1%2C1.39%2C0%2C1.12%2C1.12%2C0%2C0%2C1%2C.43.11.6.6%2C0%2C0%2C1%2C.22.19.47.47%2C0%2C0%2C1%2C.07.26V7.2a10.46%2C10.46%2C0%2C0%2C1%2C2.87-2.36%2C6.17%2C6.17%2C0%2C0%2C1%2C2.88-.75%2C6.41%2C6.41%2C0%2C0%2C1%2C2.87.58%2C5.16%2C5.16%2C0%2C0%2C1%2C1.88%2C1.54%2C6.15%2C6.15%2C0%2C0%2C1%2C1%2C2.26%2C13.46%2C13.46%2C0%2C0%2C1%2C.31%2C3.11Z%22%2F%3E%3Cg%20id%3D%22i%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M43.35%2C2.86c.09%2C2.6%2C1.89%2C4%2C5.48%2C4.61%2C3%2C.48%2C5.79.24%2C6.69-2.37%2C1.75-5.09-2.4-3.82-6-4.39S43.21-1.32%2C43.35%2C2.86Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M44.43%2C13.55c.33%2C1.94%2C2.14%2C3.06%2C4.91%2C3s4.84-1.16%2C5.13-3.25c.53-3.88-2.53-2.38-5.3-2.3S43.77%2C9.74%2C44.43%2C13.55Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M48%2C22.44c.55%2C1.45%2C2.06%2C2.06%2C4.1%2C1.63s3.45-1.11%2C3.33-2.76c-.21-3.06-2.22-2.1-4.26-1.66S47%2C19.6%2C48%2C22.44Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M49.78%2C29.22c.16%2C1.22%2C1.22%2C2%2C2.88%2C1.93s2.92-.67%2C3.13-2c.4-2.43-1.46-1.53-3.12-1.51S49.5%2C26.82%2C49.78%2C29.22Z%22%2F%3E%3C%2Fg%3E%3Cpath%20id%3D%22p%22%20class%3D%22cls-1%22%20d%3D%22M35.28%2C13.16a15.33%2C15.33%2C0%2C0%2C1-.48%2C4%2C8.75%2C8.75%2C0%2C0%2C1-1.42%2C3%2C6.35%2C6.35%2C0%2C0%2C1-2.32%2C1.91%2C7.14%2C7.14%2C0%2C0%2C1-3.16.67%2C6.1%2C6.1%2C0%2C0%2C1-1.4-.15%2C5.34%2C5.34%2C0%2C0%2C1-1.26-.47A7.29%2C7.29%2C0%2C0%2C1%2C24%2C21.31q-.61-.49-1.29-1.15v8.51a.47.47%2C0%2C0%2C1-.08.26.56.56%2C0%2C0%2C1-.25.19%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.47%2C6.47%2C0%2C0%2C1-.78%2C0%2C6.26%2C6.26%2C0%2C0%2C1-.76%2C0%2C1.89%2C1.89%2C0%2C0%2C1-.48-.11.49.49%2C0%2C0%2C1-.25-.19.51.51%2C0%2C0%2C1-.07-.26V4.91a.57.57%2C0%2C0%2C1%2C.06-.27.46.46%2C0%2C0%2C1%2C.23-.18%2C1.47%2C1.47%2C0%2C0%2C1%2C.44-.1%2C7.41%2C7.41%2C0%2C0%2C1%2C1.3%2C0%2C1.45%2C1.45%2C0%2C0%2C1%2C.43.1.52.52%2C0%2C0%2C1%2C.24.18.51.51%2C0%2C0%2C1%2C.07.27V7.2a18.06%2C18.06%2C0%2C0%2C1%2C1.49-1.38%2C9%2C9%2C0%2C0%2C1%2C1.45-1%2C6.82%2C6.82%2C0%2C0%2C1%2C1.49-.59%2C7.09%2C7.09%2C0%2C0%2C1%2C4.78.52%2C6%2C6%2C0%2C0%2C1%2C2.13%2C2%2C8.79%2C8.79%2C0%2C0%2C1%2C1.2%2C2.9A15.72%2C15.72%2C0%2C0%2C1%2C35.28%2C13.16ZM32%2C13.52a15.64%2C15.64%2C0%2C0%2C0-.2-2.53%2C7.32%2C7.32%2C0%2C0%2C0-.69-2.17%2C4.06%2C4.06%2C0%2C0%2C0-1.3-1.51%2C3.49%2C3.49%2C0%2C0%2C0-2-.57%2C4.1%2C4.1%2C0%2C0%2C0-1.2.18%2C4.92%2C4.92%2C0%2C0%2C0-1.2.57%2C8.54%2C8.54%2C0%2C0%2C0-1.28%2C1A15.77%2C15.77%2C0%2C0%2C0%2C22.76%2C10v6.77a13.53%2C13.53%2C0%2C0%2C0%2C2.46%2C2.4%2C4.12%2C4.12%2C0%2C0%2C0%2C2.44.83%2C3.56%2C3.56%2C0%2C0%2C0%2C2-.57A4.28%2C4.28%2C0%2C0%2C0%2C31%2C18a7.58%2C7.58%2C0%2C0%2C0%2C.77-2.12A11.43%2C11.43%2C0%2C0%2C0%2C32%2C13.52Z%22%2F%3E%3Cpath%20id%3D%22s%22%20class%3D%22cls-1%22%20d%3D%22M12%2C17.3a5.39%2C5.39%2C0%2C0%2C1-.48%2C2.33%2C4.73%2C4.73%2C0%2C0%2C1-1.37%2C1.72%2C6.19%2C6.19%2C0%2C0%2C1-2.12%2C1.06%2C9.62%2C9.62%2C0%2C0%2C1-2.71.36%2C10.38%2C10.38%2C0%2C0%2C1-3.21-.5%2C7.63%2C7.63%2C0%2C0%2C1-1.11-.45%2C3.25%2C3.25%2C0%2C0%2C1-.66-.43%2C1.09%2C1.09%2C0%2C0%2C1-.3-.53A3.59%2C3.59%2C0%2C0%2C1%2C0%2C19.93a4.06%2C4.06%2C0%2C0%2C1%2C0-.61%2C2%2C2%2C0%2C0%2C1%2C.09-.4.42.42%2C0%2C0%2C1%2C.16-.22.43.43%2C0%2C0%2C1%2C.24-.07%2C1.35%2C1.35%2C0%2C0%2C1%2C.61.26q.41.26%2C1%2C.56A9.22%2C9.22%2C0%2C0%2C0%2C3.51%2C20a6.25%2C6.25%2C0%2C0%2C0%2C1.87.26%2C5.62%2C5.62%2C0%2C0%2C0%2C1.44-.17%2C3.48%2C3.48%2C0%2C0%2C0%2C1.12-.5%2C2.23%2C2.23%2C0%2C0%2C0%2C.73-.84%2C2.68%2C2.68%2C0%2C0%2C0%2C.26-1.21%2C2%2C2%2C0%2C0%2C0-.37-1.21%2C3.55%2C3.55%2C0%2C0%2C0-1-.87A8.09%2C8.09%2C0%2C0%2C0%2C6.2%2C14.8l-1.56-.61a16%2C16%2C0%2C0%2C1-1.57-.73%2C6%2C6%2C0%2C0%2C1-1.37-1%2C4.52%2C4.52%2C0%2C0%2C1-1-1.4%2C4.69%2C4.69%2C0%2C0%2C1-.37-2A4.88%2C4.88%2C0%2C0%2C1%2C.72%2C7.19%2C4.46%2C4.46%2C0%2C0%2C1%2C1.88%2C5.58%2C5.83%2C5.83%2C0%2C0%2C1%2C3.82%2C4.47%2C8.06%2C8.06%2C0%2C0%2C1%2C6.53%2C4a8.28%2C8.28%2C0%2C0%2C1%2C1.36.11%2C9.36%2C9.36%2C0%2C0%2C1%2C1.23.28%2C5.92%2C5.92%2C0%2C0%2C1%2C.94.37%2C4.09%2C4.09%2C0%2C0%2C1%2C.59.35%2C1%2C1%2C0%2C0%2C1%2C.26.26.83.83%2C0%2C0%2C1%2C.09.26%2C1.32%2C1.32%2C0%2C0%2C0%2C.06.35%2C3.87%2C3.87%2C0%2C0%2C1%2C0%2C.51%2C4.76%2C4.76%2C0%2C0%2C1%2C0%2C.56%2C1.39%2C1.39%2C0%2C0%2C1-.09.39.5.5%2C0%2C0%2C1-.16.22.35.35%2C0%2C0%2C1-.21.07%2C1%2C1%2C0%2C0%2C1-.49-.21%2C7%2C7%2C0%2C0%2C0-.83-.44%2C9.26%2C9.26%2C0%2C0%2C0-1.2-.44A5.49%2C5.49%2C0%2C0%2C0%2C6.5%2C6.48a4.93%2C4.93%2C0%2C0%2C0-1.4.18%2C2.69%2C2.69%2C0%2C0%2C0-1%2C.51A2.16%2C2.16%2C0%2C0%2C0%2C3.51%2C8a2.43%2C2.43%2C0%2C0%2C0-.2%2C1%2C2%2C2%2C0%2C0%2C0%2C.38%2C1.24%2C3.6%2C3.6%2C0%2C0%2C0%2C1%2C.88%2C8.25%2C8.25%2C0%2C0%2C0%2C1.38.68l1.58.62q.8.32%2C1.59.72a6%2C6%2C0%2C0%2C1%2C1.39%2C1%2C4.37%2C4.37%2C0%2C0%2C1%2C1%2C1.36A4.46%2C4.46%2C0%2C0%2C1%2C12%2C17.3Z%22%2F%3E%3C%2Fsvg%3E"/>
						</div>
					</div>
				</div>
			`);try{this.config=this.validateConfig(l)}catch(k){return this.showError(k),m}try{this.canvas=i(m,"spine-player-canvas")[0];var v={alpha:l.alpha};this.context=new s.webgl.ManagedWebGLRenderingContext(this.canvas,v),this.sceneRenderer=new s.webgl.SceneRenderer(this.canvas,this.context,!0),this.loadingScreen=new s.webgl.LoadingScreen(this.sceneRenderer)}catch{return this.showError("Sorry, your browser does not support WebGL.<br><br>Please use the latest version of Firefox, Chrome, Edge, or Safari."),m}if(this.assetManager=new s.webgl.AssetManager(this.context),l.rawDataURIs)for(var g in l.rawDataURIs){var M=l.rawDataURIs[g];this.assetManager.setRawDataURI(g,M)}l.jsonUrl?this.assetManager.loadText(l.jsonUrl):this.assetManager.loadBinary(l.skelUrl),this.assetManager.loadTextureAtlas(l.atlasUrl),l.backgroundImage&&l.backgroundImage.url&&this.assetManager.loadTexture(l.backgroundImage.url),requestAnimationFrame(function(){return o.drawFrame()}),this.playerControls=i(m,"spine-player-controls")[0];var x=i(m,"spine-player-timeline")[0];this.timelineSlider=new a,x.appendChild(this.timelineSlider.render()),this.playButton=n(m,"spine-player-button-play-pause")[0];var R=n(m,"spine-player-button-speed")[0];this.animationButton=n(m,"spine-player-button-animation")[0],this.skinButton=n(m,"spine-player-button-skin")[0];var E=n(m,"spine-player-button-settings")[0],A=n(m,"spine-player-button-fullscreen")[0],y=n(m,"spine-player-button-logo")[0];this.playButton.onclick=function(){o.paused?o.play():o.pause()},R.onclick=function(){o.showSpeedDialog(R)},this.animationButton.onclick=function(){o.showAnimationsDialog(o.animationButton)},this.skinButton.onclick=function(){o.showSkinsDialog(o.skinButton)},E.onclick=function(){o.showSettingsDialog(E)};var p=this.canvas.clientWidth,T=this.canvas.clientHeight,w=this.canvas.style.width,I=this.canvas.style.height,F=!1;return A.onclick=function(){var k=function(){F=!F,F||(o.canvas.style.width=""+p+"px",o.canvas.style.height=""+T+"px",o.drawFrame(!1),requestAnimationFrame(function(){o.canvas.style.width=w,o.canvas.style.height=I}))},_=document;if(m.onfullscreenchange=k,m.onwebkitfullscreenchange=k,_.fullscreenElement||_.webkitFullscreenElement||_.mozFullScreenElement||_.msFullscreenElement)_.exitFullscreen?_.exitFullscreen():_.mozCancelFullScreen?_.mozCancelFullScreen():_.webkitExitFullscreen?_.webkitExitFullscreen():_.msExitFullscreen&&_.msExitFullscreen();else{p=o.canvas.clientWidth,T=o.canvas.clientHeight,w=o.canvas.style.width,I=o.canvas.style.height;var N=m;N.requestFullscreen?N.requestFullscreen():N.webkitRequestFullScreen?N.webkitRequestFullScreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.msRequestFullscreen&&N.msRequestFullscreen()}},y.onclick=function(){window.open("http://esotericsoftware.com")},window.onresize=function(){o.drawFrame(!1)},m},u.prototype.showSpeedDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Speed"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-speed-selected");return}var m=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Speed</div>
				<hr>
				<div class="spine-player-row" style="user-select: none; align-items: center; padding: 8px;">
					<div class="spine-player-column">
						<div class="spine-player-speed-slider" style="margin-bottom: 4px;"></div>
						<div class="spine-player-row" style="justify-content: space-between;">
							<div>0.1x</div>
							<div>1x</div>
							<div>2x</div>
						</div>
					</div>
				</div>
			`),v=i(m.dom,"spine-player-speed-slider")[0],g=new a(2,.1,!0);v.appendChild(g.render()),g.setValue(this.speed/2),g.change=function(M){l.speed=M*2},o.classList.add("spine-player-button-icon-speed-selected"),m.show(function(){o.classList.remove("spine-player-button-icon-speed-selected"),m.dom.remove(),l.lastPopup=null}),this.lastPopup=m},u.prototype.showAnimationsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Animations"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-animations-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var m=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Animations</div>
				<hr>
				<ul class="spine-player-list"></ul>
			`),v=i(m.dom,"spine-player-list")[0];this.skeleton.data.animations.forEach(function(g){if(!(l.config.animations&&l.config.animations.indexOf(g.name)<0)){var M=c(`
					<li class="spine-player-list-item selectable">
						<div class="selectable-circle">
						</div>
						<div class="selectable-text">
						</div>
					</li>
				`);g.name==l.config.animation&&M.classList.add("selected"),i(M,"selectable-text")[0].innerText=g.name,v.appendChild(M),M.onclick=function(){h(v.children,"selected"),M.classList.add("selected"),l.config.animation=g.name,l.playTime=0,l.setAnimation(g.name)}}}),o.classList.add("spine-player-button-icon-animations-selected"),m.show(function(){o.classList.remove("spine-player-button-icon-animations-selected"),m.dom.remove(),l.lastPopup=null}),this.lastPopup=m}},u.prototype.showSkinsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Skins"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-skins-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var m=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Skins</div>
				<hr>
				<ul class="spine-player-list"></ul>
			`),v=i(m.dom,"spine-player-list")[0];this.skeleton.data.skins.forEach(function(g){if(!(l.config.skins&&l.config.skins.indexOf(g.name)<0)){var M=c(`
					<li class="spine-player-list-item selectable">
						<div class="selectable-circle">
						</div>
						<div class="selectable-text">
						</div>
					</li>
				`);g.name==l.config.skin&&M.classList.add("selected"),i(M,"selectable-text")[0].innerText=g.name,v.appendChild(M),M.onclick=function(){h(v.children,"selected"),M.classList.add("selected"),l.config.skin=g.name,l.skeleton.setSkinByName(l.config.skin),l.skeleton.setSlotsToSetupPose()}}}),o.classList.add("spine-player-button-icon-skins-selected"),m.show(function(){o.classList.remove("spine-player-button-icon-skins-selected"),m.dom.remove(),l.lastPopup=null}),this.lastPopup=m}},u.prototype.showSettingsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Debug"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-settings-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var m=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Debug</div>
				<hr>
				<ul class="spine-player-list">
				</li>
			`),v=i(m.dom,"spine-player-list")[0],g=function(M,x){var R=c('<li class="spine-player-list-item"></li>'),E=new d(M);R.appendChild(E.render()),E.setEnabled(l.config.debug[x]),E.change=function(A){l.config.debug[x]=A},v.appendChild(R)};g("Bones","bones"),g("Regions","regions"),g("Meshes","meshes"),g("Bounds","bounds"),g("Paths","paths"),g("Clipping","clipping"),g("Points","points"),g("Hulls","hulls"),o.classList.add("spine-player-button-icon-settings-selected"),m.show(function(){o.classList.remove("spine-player-button-icon-settings-selected"),m.dom.remove(),l.lastPopup=null}),this.lastPopup=m}},u.prototype.drawFrame=function(o){var l=this;o===void 0&&(o=!0),o&&!this.stopRequestAnimationFrame&&requestAnimationFrame(function(){return l.drawFrame()});var m=this.context,v=m.gl,g=document,M=g.fullscreenElement||g.webkitFullscreenElement||g.mozFullScreenElement||g.msFullscreenElement,x=new s.Color().setFromString(M?this.config.fullScreenBackgroundColor:this.config.backgroundColor);if(v.clearColor(x.r,x.g,x.b,x.a),v.clear(v.COLOR_BUFFER_BIT),this.loadingScreen.backgroundColor.setFromColor(x),this.loadingScreen.draw(this.assetManager.isLoadingComplete()),this.assetManager.isLoadingComplete()&&this.skeleton==null&&this.loadSkeleton(),this.sceneRenderer.resize(s.webgl.ResizeMode.Expand),this.loaded){if(!this.paused&&this.config.animation){this.time.update();var R=this.time.delta*this.speed,E=this.animationState.getCurrent(0).animation.duration;for(this.playTime+=R;this.playTime>=E&&E!=0;)this.playTime-=E;this.playTime=Math.max(0,Math.min(this.playTime,E)),this.timelineSlider.setValue(this.playTime/E),this.animationState.update(R),this.animationState.apply(this.skeleton)}this.skeleton.updateWorldTransform();var A={x:this.currentViewport.x-this.currentViewport.padLeft,y:this.currentViewport.y-this.currentViewport.padBottom,width:this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,height:this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop},y=(performance.now()-this.viewportTransitionStart)/1e3/this.config.viewport.transitionTime;if(this.previousViewport&&y<1){var p={x:this.previousViewport.x-this.previousViewport.padLeft,y:this.previousViewport.y-this.previousViewport.padBottom,width:this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,height:this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop};A={x:p.x+(A.x-p.x)*y,y:p.y+(A.y-p.y)*y,width:p.width+(A.width-p.width)*y,height:p.height+(A.height-p.height)*y}}var T=this.scale(A.width,A.height,this.canvas.width,this.canvas.height);if(this.sceneRenderer.camera.zoom=A.width/T.x,this.sceneRenderer.camera.position.x=A.x+A.width/2,this.sceneRenderer.camera.position.y=A.y+A.height/2,this.sceneRenderer.begin(),this.config.backgroundImage&&this.config.backgroundImage.url){var w=this.assetManager.get(this.config.backgroundImage.url);this.config.backgroundImage.hasOwnProperty("x")&&this.config.backgroundImage.hasOwnProperty("y")&&this.config.backgroundImage.hasOwnProperty("width")&&this.config.backgroundImage.hasOwnProperty("height")?this.sceneRenderer.drawTexture(w,this.config.backgroundImage.x,this.config.backgroundImage.y,this.config.backgroundImage.width,this.config.backgroundImage.height):this.sceneRenderer.drawTexture(w,A.x,A.y,A.width,A.height)}this.sceneRenderer.drawSkeleton(this.skeleton,this.config.premultipliedAlpha),this.sceneRenderer.skeletonDebugRenderer.drawBones=this.config.debug.bones,this.sceneRenderer.skeletonDebugRenderer.drawBoundingBoxes=this.config.debug.bounds,this.sceneRenderer.skeletonDebugRenderer.drawClipping=this.config.debug.clipping,this.sceneRenderer.skeletonDebugRenderer.drawMeshHull=this.config.debug.hulls,this.sceneRenderer.skeletonDebugRenderer.drawPaths=this.config.debug.paths,this.sceneRenderer.skeletonDebugRenderer.drawRegionAttachments=this.config.debug.regions,this.sceneRenderer.skeletonDebugRenderer.drawMeshTriangles=this.config.debug.meshes,this.sceneRenderer.drawSkeletonDebug(this.skeleton,this.config.premultipliedAlpha);var I=this.config.controlBones,F=this.selectedBones,k=this.skeleton;v.lineWidth(2);for(var _=0;_<I.length;_++){var N=k.findBone(I[_]);if(N){var L=F[_]!==null?u.HOVER_COLOR_INNER:u.NON_HOVER_COLOR_INNER,C=F[_]!==null?u.HOVER_COLOR_OUTER:u.NON_HOVER_COLOR_OUTER;this.sceneRenderer.circle(!0,k.x+N.worldX,k.y+N.worldY,20,L),this.sceneRenderer.circle(!1,k.x+N.worldX,k.y+N.worldY,20,C)}}v.lineWidth(1),this.config.viewport.debugRender&&(this.sceneRenderer.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,s.Color.GREEN),this.sceneRenderer.rect(!1,A.x,A.y,A.width,A.height,s.Color.RED)),this.sceneRenderer.end(),this.sceneRenderer.camera.zoom=0}},u.prototype.scale=function(o,l,m,v){var g=v/m,M=l/o,x=g>M?m/o:v/l,R=new s.Vector2;return R.x=o*x,R.y=l*x,R},u.prototype.loadSkeleton=function(){var o=this;if(!this.loaded){if(this.assetManager.hasErrors()){this.showError("Error: assets could not be loaded.<br><br>"+f(JSON.stringify(this.assetManager.getErrors())));return}var l=this.assetManager.get(this.config.atlasUrl),m;if(this.config.jsonUrl){var v=this.assetManager.get(this.config.jsonUrl),g=new s.SkeletonJson(new s.AtlasAttachmentLoader(l));try{m=g.readSkeletonData(v)}catch(E){this.showError("Error: could not load skeleton .json.<br><br>"+E.toString());return}}else{var M=this.assetManager.get(this.config.skelUrl),x=new s.SkeletonBinary(new s.AtlasAttachmentLoader(l));try{m=x.readSkeletonData(M)}catch(E){this.showError("Error: could not load skeleton .skel.<br><br>"+E.toString());return}}this.skeleton=new s.Skeleton(m);var R=new s.AnimationStateData(m);if(R.defaultMix=this.config.defaultMix,this.animationState=new s.AnimationState(R),this.config.controlBones&&this.config.controlBones.forEach(function(E){m.findBone(E)||o.showError("Error: control bone '".concat(E,"' does not exist in skeleton."))}),this.config.skin||m.skins.length>0&&(this.config.skin=m.skins[0].name),this.config.skins&&this.config.skin.length>0&&this.config.skins.forEach(function(E){if(!o.skeleton.data.findSkin(E)){o.showError("Error: skin '".concat(E,"' in selectable skin list does not exist in skeleton."));return}}),this.config.skin){if(!this.skeleton.data.findSkin(this.config.skin)){this.showError("Error: skin '".concat(this.config.skin,"' does not exist in skeleton."));return}this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}if(this.config.viewport||(this.config.viewport={animations:{},debugRender:!1,transitionTime:.2}),typeof this.config.viewport.debugRender>"u"&&(this.config.viewport.debugRender=!1),typeof this.config.viewport.transitionTime>"u"&&(this.config.viewport.transitionTime=.2),this.config.viewport.animations?Object.getOwnPropertyNames(this.config.viewport.animations).forEach(function(E){if(!m.findAnimation(E)){o.showError("Error: animation '".concat(E,"' for which a viewport was specified does not exist in skeleton."));return}}):this.config.viewport.animations={},this.config.animations&&this.config.animations.length>0&&(this.config.animations.forEach(function(E){if(!o.skeleton.data.findAnimation(E)){o.showError("Error: animation '".concat(E,"' in selectable animation list does not exist in skeleton."));return}}),this.config.animation||(this.config.animation=this.config.animations[0])),this.config.animation||m.animations.length>0&&(this.config.animation=m.animations[0].name),this.config.animation){if(!m.findAnimation(this.config.animation)){this.showError("Error: animation '".concat(this.config.animation,"' does not exist in skeleton."));return}this.play(),this.timelineSlider.change=function(E){o.pause();var A=o.animationState.getCurrent(0).animation.duration,y=A*E;o.animationState.update(y-o.playTime),o.animationState.apply(o.skeleton),o.skeleton.updateWorldTransform(),o.playTime=y}}this.setupInput(),(m.skins.length==1||this.config.skins&&this.config.skins.length==1)&&this.skinButton.classList.add("spine-player-hidden"),(m.animations.length==1||this.config.animations&&this.config.animations.length==1)&&this.animationButton.classList.add("spine-player-hidden"),this.config.success(this),this.loaded=!0}},u.prototype.setupInput=function(){var o=this,l=this.config.controlBones,m=this.selectedBones=new Array(this.config.controlBones.length),v=this.canvas,g=new s.webgl.Input(v),M=null,x=new s.webgl.Vector3,R=new s.webgl.Vector3,E=new s.Vector2,A=this.skeleton,y=this.sceneRenderer;g.addListener({down:function(F,k){for(var _=0;_<l.length;_++){var N=A.findBone(l[_]);N&&(y.camera.screenToWorld(x.set(F,k,0),v.width,v.height),R.set(A.x+N.worldX,A.y+N.worldY,0).distance(x)<30&&(M=N))}},up:function(F,k){if(M)M=null;else{if(!o.config.showControls)return;o.paused?o.play():o.pause()}},dragged:function(F,k){M!=null&&(y.camera.screenToWorld(x.set(F,k,0),v.width,v.height),M.parent!==null?(M.parent.worldToLocal(E.set(x.x-A.x,x.y-A.y)),M.x=E.x,M.y=E.y):(M.x=x.x-A.x,M.y=x.y-A.y))},moved:function(F,k){for(var _=0;_<l.length;_++){var N=A.findBone(l[_]);N&&(y.camera.screenToWorld(x.set(F,k,0),v.width,v.height),R.set(A.x+N.worldX,A.y+N.worldY,0).distance(x)<30?m[_]=N:m[_]=null)}}});var p=!0,T=!1;document.addEventListener("mousemove",function(F){F instanceof MouseEvent&&w(F.clientX,F.clientY)}),document.addEventListener("touchmove",function(F){if(F instanceof TouchEvent){var k=F.changedTouches;if(k.length>0){var _=k[0];w(_.clientX,_.clientY)}}});var w=function(F,k){if(o.config.showControls){var _=i(o.dom,"spine-player-popup");p=I(F,k,o.playerControls.getBoundingClientRect()),T=I(F,k,o.canvas.getBoundingClientRect()),clearTimeout(o.cancelId);var N=_.length==0&&!p&&!T&&!o.paused;if(N?o.playerControls.classList.add("spine-player-controls-hidden"):o.playerControls.classList.remove("spine-player-controls-hidden"),!p&&_.length==0&&!o.paused){var L=function(){o.paused||o.playerControls.classList.add("spine-player-controls-hidden")};o.cancelId=setTimeout(L,1e3)}}},I=function(F,k,_){var N=F-_.left,L=k-_.top;return N>=0&&N<=_.width&&L>=0&&L<=_.height}},u.prototype.play=function(){var o=this;this.paused=!1;var l=function(){o.paused||o.playerControls.classList.add("spine-player-controls-hidden")};this.cancelId=setTimeout(l,1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),this.config.animation&&(this.animationState.getCurrent(0)||this.setAnimation(this.config.animation))},u.prototype.pause=function(){this.paused=!0,this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play")},u.prototype.setAnimation=function(o,l){l===void 0&&(l=!0),this.previousViewport=this.currentViewport;var m=this.calculateAnimationViewport(o),v={x:m.x,y:m.y,width:m.width,height:m.height,padLeft:"10%",padRight:"10%",padTop:"10%",padBottom:"10%"},g=this.config.viewport;typeof g.x<"u"&&typeof g.y<"u"&&typeof g.width<"u"&&typeof g.height<"u"&&(v.x=g.x,v.y=g.y,v.width=g.width,v.height=g.height),typeof g.padLeft<"u"&&(v.padLeft=g.padLeft),typeof g.padRight<"u"&&(v.padRight=g.padRight),typeof g.padTop<"u"&&(v.padTop=g.padTop),typeof g.padBottom<"u"&&(v.padBottom=g.padBottom);var M=this.config.viewport.animations[o];M&&(typeof M.x<"u"&&typeof M.y<"u"&&typeof M.width<"u"&&typeof M.height<"u"&&(v.x=M.x,v.y=M.y,v.width=M.width,v.height=M.height),typeof M.padLeft<"u"&&(v.padLeft=M.padLeft),typeof M.padRight<"u"&&(v.padRight=M.padRight),typeof M.padTop<"u"&&(v.padTop=M.padTop),typeof M.padBottom<"u"&&(v.padBottom=M.padBottom)),v.padLeft=this.percentageToWorldUnit(v.width,v.padLeft),v.padRight=this.percentageToWorldUnit(v.width,v.padRight),v.padBottom=this.percentageToWorldUnit(v.height,v.padBottom),v.padTop=this.percentageToWorldUnit(v.height,v.padTop),this.currentViewport=v,this.viewportTransitionStart=performance.now(),this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimation(0,o,l)},u.prototype.percentageToWorldUnit=function(o,l){return typeof l=="string"?o*parseFloat(l.substr(0,l.length-1))/100:l},u.prototype.calculateAnimationViewport=function(o){var l=this.skeleton.data.findAnimation(o);this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimationWith(0,l,!0);for(var m=100,v=l.duration>0?l.duration/m:0,g=1e8,M=-1e8,x=1e8,R=-1e8,E=new s.Vector2,A=new s.Vector2,y=0;y<m;y++)this.animationState.update(v),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.skeleton.getBounds(E,A),!isNaN(E.x)&&!isNaN(E.y)&&!isNaN(A.x)&&!isNaN(A.y)?(g=Math.min(E.x,g),M=Math.max(E.x+A.x,M),x=Math.min(E.y,x),R=Math.max(E.y+A.y,R)):console.log("Bounds of animation "+o+" are NaN");return E.x=g,E.y=x,A.x=M-g,A.y=R-x,{x:E.x,y:E.y,width:A.x,height:A.y}},u.prototype.stopRendering=function(){this.stopRequestAnimationFrame=!0},u.HOVER_COLOR_INNER=new s.Color(.478,0,0,.25),u.HOVER_COLOR_OUTER=new s.Color(1,1,1,1),u.NON_HOVER_COLOR_INNER=new s.Color(.478,0,0,.5),u.NON_HOVER_COLOR_OUTER=new s.Color(1,0,0,.8),u}();s.SpinePlayer=t;function r(u,o){if(u===o)return!0;var l=function(m,v){for(var g=0;g<m.children.length;g++){var M=m.children[g];if(M===v||l(M,v))return!0}return!1};return l(u,o)}function n(u,o){var l=new Array,m=function(v,g,M){for(var x=0;x<v.children.length;x++){var R=v.children[x];R.id===g&&M.push(R),m(R,g,M)}};return m(u,o,l),l}function i(u,o){var l=new Array,m=function(v,g,M){for(var x=0;x<v.children.length;x++){var R=v.children[x];R.classList.contains(g)&&M.push(R),m(R,g,M)}};return m(u,o,l),l}function c(u){var o=document.createElement("div");return o.innerHTML=u,o.children[0]}function h(u,o){for(var l=0;l<u.length;l++)u[l].classList.remove(o)}function f(u){return u?u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;"):""}})(O||(O={}));var O;(function(s){var e=function(){function d(a){this.prefix=`<html>
<head>
<style>
body {
	margin: 0px;
}
</style>
</head>
<body>`.trim(),this.postfix="</body>",this.timerId=0,this.render(a)}return d.prototype.render=function(a){var t=this,r=`
				<div class="spine-player-editor-container">
					<div class="spine-player-editor-code"></div>
					<iframe class="spine-player-editor-player"></iframe>
				</div>
			`;a.innerHTML=r;var n=a.getElementsByClassName("spine-player-editor-code")[0];this.player=a.getElementsByClassName("spine-player-editor-player")[0],requestAnimationFrame(function(){t.code=CodeMirror(n,{lineNumbers:!0,tabSize:3,indentUnit:3,indentWithTabs:!0,scrollBarStyle:"native",mode:"htmlmixed",theme:"monokai"}),t.code.on("change",function(){t.startPlayer()}),t.setCode(d.DEFAULT_CODE)})},d.prototype.setPreAndPostfix=function(a,t){this.prefix=a,this.postfix=t,this.startPlayer()},d.prototype.setCode=function(a){this.code.setValue(a),this.startPlayer()},d.prototype.startPlayer=function(){var a=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){var t=a.code.getDoc().getValue();t=a.prefix+t+a.postfix,t=window.btoa(t),a.player.src="",a.player.src="data:text/html;base64,"+t},500)},d.DEFAULT_CODE=`
<script src="https://esotericsoftware.com/files/spine-player/3.7/spine-player.js"><\/script>
<link rel="stylesheet" href="https://esotericsoftware.com/files/spine-player/3.7/spine-player.css">

<div id="player-container" style="width: 100%; height: 100vh;"></div>

<script>
new spine.SpinePlayer("player-container", {
	jsonUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pro.json",
	atlasUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pma.atlas"
});
<\/script>
		`.trim(),d}();s.SpinePlayerEditor=e})(O||(O={}));const Ca={key:0,class:"chatdialog-container"},ya={class:"chatdialog"},xa={__name:"index",setup(s){const{state:e}=kt(),a=It().theme.value.spineVoiceLang,t={arona:{skelUrl:"/bluearchive/spine_assets/arona/arona_spr.skel",atlasUrl:"/bluearchive/spine_assets/arona/arona_spr.atlas",idleAnimationName:"Idle_01",eyeCloseAnimationName:"Eye_Close_01",rightEyeBone:"R_Eye_01",leftEyeBone:"L_Eye_01",frontHeadBone:"Head_01",backHeadBone:"Head_Back",eyeRotationAngle:76.307,voiceConfig:[{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_01.ogg`,animation:"12",text:"Thầy về rồi à? Em đợi thầy lâu lắm rồi.！"},{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_02.ogg`,animation:"03",text:"Vâng, hôm nay là một ngày đẹp trời.。"},{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_03.ogg`,animation:"02",text:`Bầu trời rộng lớn quá...
Phía bên kia có gì？`},{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_04.ogg`,animation:"18",text:`Thỉnh thoảng thầy cũng phải nghĩ cho sức khỏe của mình nữa, 
Thầy ạ, em sẽ rất lo lắng đấy。`},{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_05.ogg`,animation:"25",text:"Thôi nào, thôi nào, thầy！"},{audio:`/bluearchive/spine_assets/arona/audio/${a}/arona_06.ogg`,animation:"11",text:"Hôm nay lại sẽ có chuyện gì đang chờ đợi mình đây nhỉ？"}]},plana:{skelUrl:"/bluearchive/spine_assets/plana/plana_spr.skel",atlasUrl:"/bluearchive/spine_assets/plana/plana_spr.atlas",idleAnimationName:"Idle_01",eyeCloseAnimationName:"Eye_Close_01",rightEyeBone:"R_Eye_01",leftEyeBone:"L_Eye_01",frontHeadBone:"Head_Rot",backHeadBone:"Head_Back",eyeRotationAngle:97.331,voiceConfig:[{audio:`/bluearchive/spine_assets/plana/audio/${a}/plana_02.ogg`,animation:"06",text:`Em hiểu rồi, 
Thầy bây giờ không có việc gì làm, rất là buồn chán。`},{audio:`/bluearchive/spine_assets/plana/audio/${a}/plana_01.ogg`,animation:"13",text:`Hỗn loạn, hành động này không thể hiểu được. 
Xin đừng chọc em, sẽ xảy ra sự cố。`},{audio:`/bluearchive/spine_assets/plana/audio/${a}/plana_03.ogg`,animation:"15",text:"Xác nhận kết nối。"},{audio:`/bluearchive/spine_assets/plana/audio/${a}/plana_04.ogg`,animation:"99",text:`Đang chờ lệnh, 
vẫn còn nhiều nhiệm vụ đang chờ được hoàn thành。`},{audio:`/bluearchive/spine_assets/plana/audio/${a}/plana_05.ogg`,animation:"17",text:"Em đợi thầy rất lâu rồi."}]}},r=lt(null);let n=null,i=null,c=lt(!1),h=null,f=lt("arona"),u=[];const o=lt(!1),l={context:null,buffers:new Map,currentSource:null,gainNode:null,initialize(){o.value&&(this.context||(this.context=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.context.createGain(),this.gainNode.gain.value=.5,this.gainNode.connect(this.context.destination)))},async loadAudioFile(S){if(this.buffers.has(S)){const V=this.buffers.get(S);return V.lastUsed=Date.now(),V.buffer}try{const D=await(await fetch(S)).arrayBuffer(),W=await this.context.decodeAudioData(D);return this.buffers.set(S,{buffer:W,lastUsed:Date.now()}),W}catch(V){return console.error("Tải âm thanh không thành công:",V),null}},async playAudio(S){return this.currentSource&&this.currentSource.stop(),new Promise(V=>{const D=this.context.createBufferSource();D.buffer=S,D.connect(this.gainNode),D.onended=()=>{this.currentSource===D&&(this.currentSource=null),V()},this.currentSource=D,D.start()})},clear(){this.currentSource&&(this.currentSource.stop(),this.currentSource=null),this.buffers.clear()},gc(){const S=Date.now();for(const[V,D]of this.buffers.entries())S-D.lastUsed>3e5&&this.buffers.delete(V)}},m=async()=>{if(!k.value)return!1;l.initialize(),l.gc();const S=k.value.voiceConfig.map(V=>l.loadAudioFile(V.audio));return Promise.all(S).catch(V=>(console.error("Tải trước âm thanh không thành công:",V),!1))},v=()=>{if(!o.value||!r.value)return;const S=window.innerHeight+window.scrollY+1>=document.body.offsetHeight,V=document.querySelector(".chatdialog");g()&&(S?(r.value.style.left="-50%",V&&(V.style.left="-50%")):r.value.style.left="0%")},g=()=>o.value?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent):!1;let M=!1;const x=lt(!1),R=lt("");let E=-1;const A=(S,V)=>{let D=null;return function(...W){D&&clearTimeout(D),D=setTimeout(()=>{S.apply(this,W),D=null},V)}},y=lt(null),p=A(async S=>{var V;if(S.preventDefault(),S.stopPropagation(),!M){M=!0,c.value=!0,(V=y.value)==null||V.call(y);const D=t[f.value].voiceConfig;let W;do W=Math.floor(Math.random()*D.length);while(W===E&&D.length>1);E=W;const b=D[W];try{const H=await l.loadAudioFile(b.audio);if(!H)throw new Error("Tải âm thanh không thành công");R.value=b.text,x.value=!0,h.addAnimation(2,b.animation,!1,0),await l.playAudio(H),M=!1,c.value=!1,h.setEmptyAnimation(2,0),x.value=!1}catch(H){console.error("Phát lại âm thanh không thành công:",H),M=!1,c.value=!1,x.value=!1}}},300);let T=null;const w=async S=>{try{i&&clearTimeout(i),r.value&&(r.value.innerHTML=""),n=new O.SpinePlayer(r.value,{skelUrl:S.skelUrl,atlasUrl:S.atlasUrl,premultipliedAlpha:!0,backgroundColor:"#00000000",alpha:!0,showControls:!1,success:function(V){V.setAnimation(S.idleAnimationName,!0);const D=V.skeleton,W=V.animationState;h=W;const b=D.findBone(S.rightEyeBone),H=D.findBone(S.leftEyeBone),Y=D.findBone(S.frontHeadBone),U=D.findBone(S.backHeadBone),B=b?b.data.x:0,P=b?b.data.y:0,G=H?H.data.x:0,z=H?H.data.y:0,X=Y?Y.data.x:0,J=Y?Y.data.y:0,Q=U?U.data.x:0,nt=U?U.data.y:0,K=15,ht=2,ot=1;function vt(st,at,it){const At=Math.cos(it),yt=Math.sin(it);return{x:st*At-at*yt,y:st*yt+at*At}}function mt(st){if(c.value)return;const at=r.value.getBoundingClientRect(),it=st.clientX-(at.right-at.width/2),At=st.clientY-(at.bottom-at.height*4/5),yt=S.eyeRotationAngle*(Math.PI/180),Ft=vt(it,At,-yt),Et=Ft.x,Lt=Ft.y,dt=Math.sqrt(Et*Et+Lt*Lt),Tt=Math.atan2(Lt,Et),Ut=Math.min(dt,K),Pe=-Ut*Math.cos(Tt),_e=Ut*Math.sin(Tt);b&&(b.x=B+Pe,b.y=P+_e),H&&(H.x=G+Pe,H.y=z+_e);const yn=Math.min(dt,ht)*Math.cos(Tt),xn=Math.min(dt,ht)*Math.sin(Tt),An=Math.min(dt,ot)*Math.cos(Tt),En=Math.min(dt,ot)*Math.sin(Tt);Y&&(Y.x=X-yn,Y.y=J+xn),U&&(U.x=Q+An,U.y=nt-En),D.updateWorldTransform()}function ut(){b&&(b.x=B,b.y=P),H&&(H.x=G,H.y=z),Y&&(Y.x=X,Y.y=J),U&&(U.x=Q,U.y=nt),D.updateWorldTransform()}y.value=ut;function pt(){const st=Math.random()*3+3,at=Math.random()>.5;W.setAnimation(1,S.eyeCloseAnimationName,!1),at&&W.addAnimation(1,S.eyeCloseAnimationName,!1,.1),i=setTimeout(pt,st*1e3)}g()||(T=mt,window.addEventListener("mousemove",T)),pt()},error:function(V,D){console.error("Tải Spine thất bại: "+D)}})}catch(V){console.error("Không thể khởi tạo trình phát spine:",V)}},I=_t(()=>e.darkMode==="dark"),F=_t(()=>e.SpinePlayerEnabled),k=_t(()=>t[f.value]),_=S=>{S.type==="scroll"?v():["mousemove","touchmove"].includes(S.type)&&(T==null||T(S))},N=()=>{i&&clearTimeout(i),window.removeEventListener("scroll",_),T&&!g()&&(window.removeEventListener("mousemove",T),T=null),r.value&&(r.value.innerHTML=""),n&&(l.clear(),n=null,h=null),o.value&&window.WeakRef&&(u=u.filter(S=>new WeakRef(S).deref()!==null))},C=A(async()=>{if(N(),!(!F.value||!r.value)){f.value=I.value?"plana":"arona";try{await Promise.all([m(),w(k.value)])}catch(S){console.error("Khởi tạo không thành công:",S)}}},300);return jt([I,F],async([S,V],[D,W])=>{V!==W?V?C():N():V&&S!==D&&C()},{immediate:!0}),xt(()=>{o.value=!0;const S={passive:!0};window.addEventListener("scroll",_,S),g()||window.addEventListener("mousemove",_,S),e.SpinePlayerEnabled&&C()}),(S,V)=>tt(e).SpinePlayerEnabled?(j(),$(Rt,{key:0},[Z("div",{ref_key:"playerContainer",ref:r,class:"playerContainer",onClick:V[0]||(V[0]=(...D)=>tt(p)&&tt(p)(...D)),onTouchstart:V[1]||(V[1]=(...D)=>tt(p)&&tt(p)(...D))},null,544),gt(Kt,{name:"fade"},{default:Yt(()=>[x.value?(j(),$("div",Ca,[V[2]||(V[2]=Z("div",{class:"chatdialog-triangle"},null,-1)),Z("div",ya,ct(R.value),1)])):St("",!0)]),_:1})],64)):St("",!0)}},Aa=Ct(xa,[["__scopeId","data-v-5fa2a7c9"]]),Ea={style:{"min-height":"100vh"}},Ta=ft({__name:"Layout",setup(s){const{page:e}=It(),{state:d}=kt();return(a,t)=>{const r=Ge("ClientOnly");return j(),$(Rt,null,[gt(ur),tt(e).isNotFound?(j(),Bt(aa,{key:1})):(j(),$(Rt,{key:0},[Z("main",Ea,[gt(Jr),gt(ei,null,{default:Yt(()=>[gt(Kt,{name:"fade",mode:"out-in"},{default:Yt(()=>[!tt(d).splashLoading&&tt(e).filePath==="index.md"?(j(),Bt(hi,{key:0})):tt(e).filePath==="tags/index.md"?(j(),Bt(Ni,{key:1})):(j(),Bt($i,{key:2}))]),_:1})]),_:1}),gt(Kt,{name:"fade",mode:"out-in"},{default:Yt(()=>[tt(e).filePath==="index.md"||tt(e).filePath==="tags/index.md"?(j(),Bt(Vi,{key:0})):(j(),Bt(ji,{key:1}))]),_:1})]),gt(Ma),tt(d).fireworksEnabled?(j(),Bt(ua,{key:0})):St("",!0),gt(r,null,{default:Yt(()=>[gt(Aa)]),_:1}),gt(ha),t[0]||(t[0]=Z("audio",{id:"background-music",loop:""},[Z("source",{src:Dn,type:"audio/mpeg"})],-1))],64))],64)}}}),Ra={Layout:Ta,enhanceApp({app:s,router:e,siteData:d}){}};export{Ra as R,da as _};
